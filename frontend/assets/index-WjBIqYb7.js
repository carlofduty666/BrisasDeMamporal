(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const x of m)if(x.type==="childList")for(const f of x.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function l(m){const x={};return m.integrity&&(x.integrity=m.integrity),m.referrerPolicy&&(x.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?x.credentials="include":m.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function c(m){if(m.ep)return;m.ep=!0;const x=l(m);fetch(m.href,x)}})();function Xg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jc={exports:{}},ei={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx;function Qg(){if(lx)return ei;lx=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function l(c,m,x){var f=null;if(x!==void 0&&(f=""+x),m.key!==void 0&&(f=""+m.key),"key"in m){x={};for(var b in m)b!=="key"&&(x[b]=m[b])}else x=m;return m=x.ref,{$$typeof:n,type:c,key:f,ref:m!==void 0?m:null,props:x}}return ei.Fragment=o,ei.jsx=l,ei.jsxs=l,ei}var ox;function Zg(){return ox||(ox=1,Jc.exports=Qg()),Jc.exports}var e=Zg(),Wc={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function Kg(){if(cx)return tt;cx=1;var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),f=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,_={};function D(N,k,z){this.props=N,this.context=k,this.refs=_,this.updater=z||w}D.prototype.isReactComponent={},D.prototype.setState=function(N,k){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,k,"setState")},D.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function C(){}C.prototype=D.prototype;function L(N,k,z){this.props=N,this.context=k,this.refs=_,this.updater=z||w}var T=L.prototype=new C;T.constructor=L,E(T,D.prototype),T.isPureReactComponent=!0;var W=Array.isArray,V={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function ae(N,k,z,pe,P,Ce){return z=Ce.ref,{$$typeof:n,type:N,key:k,ref:z!==void 0?z:null,props:Ce}}function Y(N,k){return ae(N.type,k,void 0,void 0,void 0,N.props)}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function $(N){var k={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(z){return k[z]})}var K=/\/+/g;function ee(N,k){return typeof N=="object"&&N!==null&&N.key!=null?$(""+N.key):k.toString(36)}function X(){}function te(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(X,X):(N.status="pending",N.then(function(k){N.status==="pending"&&(N.status="fulfilled",N.value=k)},function(k){N.status==="pending"&&(N.status="rejected",N.reason=k)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function fe(N,k,z,pe,P){var Ce=typeof N;(Ce==="undefined"||Ce==="boolean")&&(N=null);var ze=!1;if(N===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(N.$$typeof){case n:case o:ze=!0;break;case v:return ze=N._init,fe(ze(N._payload),k,z,pe,P)}}if(ze)return P=P(N),ze=pe===""?"."+ee(N,0):pe,W(P)?(z="",ze!=null&&(z=ze.replace(K,"$&/")+"/"),fe(P,k,z,"",function(Ae){return Ae})):P!=null&&(F(P)&&(P=Y(P,z+(P.key==null||N&&N.key===P.key?"":(""+P.key).replace(K,"$&/")+"/")+ze)),k.push(P)),1;ze=0;var M=pe===""?".":pe+":";if(W(N))for(var be=0;be<N.length;be++)pe=N[be],Ce=M+ee(pe,be),ze+=fe(pe,k,z,Ce,P);else if(be=R(N),typeof be=="function")for(N=be.call(N),be=0;!(pe=N.next()).done;)pe=pe.value,Ce=M+ee(pe,be++),ze+=fe(pe,k,z,Ce,P);else if(Ce==="object"){if(typeof N.then=="function")return fe(te(N),k,z,pe,P);throw k=String(N),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return ze}function B(N,k,z){if(N==null)return N;var pe=[],P=0;return fe(N,pe,"","",function(Ce){return k.call(z,Ce,P++)}),pe}function J(N){if(N._status===-1){var k=N._result;k=k(),k.then(function(z){(N._status===0||N._status===-1)&&(N._status=1,N._result=z)},function(z){(N._status===0||N._status===-1)&&(N._status=2,N._result=z)}),N._status===-1&&(N._status=0,N._result=k)}if(N._status===1)return N._result.default;throw N._result}var q=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function de(){}return tt.Children={map:B,forEach:function(N,k,z){B(N,function(){k.apply(this,arguments)},z)},count:function(N){var k=0;return B(N,function(){k++}),k},toArray:function(N){return B(N,function(k){return k})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},tt.Component=D,tt.Fragment=l,tt.Profiler=m,tt.PureComponent=L,tt.StrictMode=c,tt.Suspense=p,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,tt.act=function(){throw Error("act(...) is not supported in production builds of React.")},tt.cache=function(N){return function(){return N.apply(null,arguments)}},tt.cloneElement=function(N,k,z){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var pe=E({},N.props),P=N.key,Ce=void 0;if(k!=null)for(ze in k.ref!==void 0&&(Ce=void 0),k.key!==void 0&&(P=""+k.key),k)!me.call(k,ze)||ze==="key"||ze==="__self"||ze==="__source"||ze==="ref"&&k.ref===void 0||(pe[ze]=k[ze]);var ze=arguments.length-2;if(ze===1)pe.children=z;else if(1<ze){for(var M=Array(ze),be=0;be<ze;be++)M[be]=arguments[be+2];pe.children=M}return ae(N.type,P,void 0,void 0,Ce,pe)},tt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:x,_context:N},N},tt.createElement=function(N,k,z){var pe,P={},Ce=null;if(k!=null)for(pe in k.key!==void 0&&(Ce=""+k.key),k)me.call(k,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(P[pe]=k[pe]);var ze=arguments.length-2;if(ze===1)P.children=z;else if(1<ze){for(var M=Array(ze),be=0;be<ze;be++)M[be]=arguments[be+2];P.children=M}if(N&&N.defaultProps)for(pe in ze=N.defaultProps,ze)P[pe]===void 0&&(P[pe]=ze[pe]);return ae(N,Ce,void 0,void 0,null,P)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(N){return{$$typeof:b,render:N}},tt.isValidElement=F,tt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:J}},tt.memo=function(N,k){return{$$typeof:g,type:N,compare:k===void 0?null:k}},tt.startTransition=function(N){var k=V.T,z={};V.T=z;try{var pe=N(),P=V.S;P!==null&&P(z,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(de,q)}catch(Ce){q(Ce)}finally{V.T=k}},tt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},tt.use=function(N){return V.H.use(N)},tt.useActionState=function(N,k,z){return V.H.useActionState(N,k,z)},tt.useCallback=function(N,k){return V.H.useCallback(N,k)},tt.useContext=function(N){return V.H.useContext(N)},tt.useDebugValue=function(){},tt.useDeferredValue=function(N,k){return V.H.useDeferredValue(N,k)},tt.useEffect=function(N,k){return V.H.useEffect(N,k)},tt.useId=function(){return V.H.useId()},tt.useImperativeHandle=function(N,k,z){return V.H.useImperativeHandle(N,k,z)},tt.useInsertionEffect=function(N,k){return V.H.useInsertionEffect(N,k)},tt.useLayoutEffect=function(N,k){return V.H.useLayoutEffect(N,k)},tt.useMemo=function(N,k){return V.H.useMemo(N,k)},tt.useOptimistic=function(N,k){return V.H.useOptimistic(N,k)},tt.useReducer=function(N,k,z){return V.H.useReducer(N,k,z)},tt.useRef=function(N){return V.H.useRef(N)},tt.useState=function(N){return V.H.useState(N)},tt.useSyncExternalStore=function(N,k,z){return V.H.useSyncExternalStore(N,k,z)},tt.useTransition=function(){return V.H.useTransition()},tt.version="19.0.0",tt}var dx;function vd(){return dx||(dx=1,Wc.exports=Kg()),Wc.exports}var u=vd();const mr=Xg(u);var ed={exports:{}},ti={},td={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mx;function Jg(){return mx||(mx=1,function(n){function o(B,J){var q=B.length;B.push(J);e:for(;0<q;){var de=q-1>>>1,N=B[de];if(0<m(N,J))B[de]=J,B[q]=N,q=de;else break e}}function l(B){return B.length===0?null:B[0]}function c(B){if(B.length===0)return null;var J=B[0],q=B.pop();if(q!==J){B[0]=q;e:for(var de=0,N=B.length,k=N>>>1;de<k;){var z=2*(de+1)-1,pe=B[z],P=z+1,Ce=B[P];if(0>m(pe,q))P<N&&0>m(Ce,pe)?(B[de]=Ce,B[P]=q,de=P):(B[de]=pe,B[z]=q,de=z);else if(P<N&&0>m(Ce,q))B[de]=Ce,B[P]=q,de=P;else break e}}return J}function m(B,J){var q=B.sortIndex-J.sortIndex;return q!==0?q:B.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;n.unstable_now=function(){return x.now()}}else{var f=Date,b=f.now();n.unstable_now=function(){return f.now()-b}}var p=[],g=[],v=1,S=null,R=3,w=!1,E=!1,_=!1,D=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function T(B){for(var J=l(g);J!==null;){if(J.callback===null)c(g);else if(J.startTime<=B)c(g),J.sortIndex=J.expirationTime,o(p,J);else break;J=l(g)}}function W(B){if(_=!1,T(B),!E)if(l(p)!==null)E=!0,te();else{var J=l(g);J!==null&&fe(W,J.startTime-B)}}var V=!1,me=-1,ae=5,Y=-1;function F(){return!(n.unstable_now()-Y<ae)}function $(){if(V){var B=n.unstable_now();Y=B;var J=!0;try{e:{E=!1,_&&(_=!1,C(me),me=-1),w=!0;var q=R;try{t:{for(T(B),S=l(p);S!==null&&!(S.expirationTime>B&&F());){var de=S.callback;if(typeof de=="function"){S.callback=null,R=S.priorityLevel;var N=de(S.expirationTime<=B);if(B=n.unstable_now(),typeof N=="function"){S.callback=N,T(B),J=!0;break t}S===l(p)&&c(p),T(B)}else c(p);S=l(p)}if(S!==null)J=!0;else{var k=l(g);k!==null&&fe(W,k.startTime-B),J=!1}}break e}finally{S=null,R=q,w=!1}J=void 0}}finally{J?K():V=!1}}}var K;if(typeof L=="function")K=function(){L($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,X=ee.port2;ee.port1.onmessage=$,K=function(){X.postMessage(null)}}else K=function(){D($,0)};function te(){V||(V=!0,K())}function fe(B,J){me=D(function(){B(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){E||w||(E=!0,te())},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return l(p)},n.unstable_next=function(B){switch(R){case 1:case 2:case 3:var J=3;break;default:J=R}var q=R;R=J;try{return B()}finally{R=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=R;R=B;try{return J()}finally{R=q}},n.unstable_scheduleCallback=function(B,J,q){var de=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?de+q:de):q=de,B){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=q+N,B={id:v++,callback:J,priorityLevel:B,startTime:q,expirationTime:N,sortIndex:-1},q>de?(B.sortIndex=q,o(g,B),l(p)===null&&B===l(g)&&(_?(C(me),me=-1):_=!0,fe(W,q-de))):(B.sortIndex=N,o(p,B),E||w||(E=!0,te())),B},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(B){var J=R;return function(){var q=R;R=J;try{return B.apply(this,arguments)}finally{R=q}}}}(sd)),sd}var ux;function Wg(){return ux||(ux=1,td.exports=Jg()),td.exports}var ad={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function ep(){if(xx)return Wt;xx=1;var n=vd();function o(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var c={d:{f:l,r:function(){throw Error(o(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},m=Symbol.for("react.portal");function x(p,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:S==null?null:""+S,children:p,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Wt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(o(299));return x(p,g,null,v)},Wt.flushSync=function(p){var g=f.T,v=c.p;try{if(f.T=null,c.p=2,p)return p()}finally{f.T=g,c.p=v,c.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,c.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&c.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,S=b(v,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?c.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:w}):v==="script"&&c.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=b(g.as,g.crossOrigin);c.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&c.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=b(v,g.crossOrigin);c.d.L(p,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=b(g.as,g.crossOrigin);c.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else c.d.m(p)},Wt.requestFormReset=function(p){c.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var hx;function tp(){if(hx)return ad.exports;hx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),ad.exports=ep(),ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx;function sp(){if(fx)return ti;fx=1;var n=Wg(),o=vd(),l=tp();function c(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var x=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),W=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function me(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Symbol.for("react.client.reference");function Y(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ae?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case b:return"Portal";case v:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case E:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:Y(t.type)||"Memo";case L:s=t._payload,t=t._init;try{return Y(t(s))}catch{}}return null}var F=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,K,ee;function X(t){if(K===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);K=s&&s[1]||"",ee=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+t+ee}var te=!1;function fe(t,s){if(!t||te)return"";te=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(ge){var le=ge}Reflect.construct(t,[],ke)}else{try{ke.call()}catch(ge){le=ge}t.call(ke.prototype)}}else{try{throw Error()}catch(ge){le=ge}(ke=t())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(ge){if(ge&&le&&typeof ge.stack=="string")return[ge.stack,le.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),h=d[0],y=d[1];if(h&&y){var A=h.split(`
`),G=y.split(`
`);for(i=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;i<G.length&&!G[i].includes("DetermineComponentFrameRoot");)i++;if(r===A.length||i===G.length)for(r=A.length-1,i=G.length-1;1<=r&&0<=i&&A[r]!==G[i];)i--;for(;1<=r&&0<=i;r--,i--)if(A[r]!==G[i]){if(r!==1||i!==1)do if(r--,i--,0>i||A[r]!==G[i]){var ye=`
`+A[r].replace(" at new "," at ");return t.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",t.displayName)),ye}while(1<=r&&0<=i);break}}}finally{te=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?X(a):""}function B(t){switch(t.tag){case 26:case 27:case 5:return X(t.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return t=fe(t.type,!1),t;case 11:return t=fe(t.type.render,!1),t;case 1:return t=fe(t.type,!0),t;default:return""}}function J(t){try{var s="";do s+=B(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function q(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function de(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function N(t){if(q(t)!==t)throw Error(c(188))}function k(t){var s=t.alternate;if(!s){if(s=q(t),s===null)throw Error(c(188));return s!==t?null:t}for(var a=t,r=s;;){var i=a.return;if(i===null)break;var d=i.alternate;if(d===null){if(r=i.return,r!==null){a=r;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===a)return N(i),t;if(d===r)return N(i),s;d=d.sibling}throw Error(c(188))}if(a.return!==r.return)a=i,r=d;else{for(var h=!1,y=i.child;y;){if(y===a){h=!0,a=i,r=d;break}if(y===r){h=!0,r=i,a=d;break}y=y.sibling}if(!h){for(y=d.child;y;){if(y===a){h=!0,a=d,r=i;break}if(y===r){h=!0,r=d,a=i;break}y=y.sibling}if(!h)throw Error(c(189))}}if(a.alternate!==r)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?t:s}function z(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=z(t),s!==null)return s;t=t.sibling}return null}var pe=Array.isArray,P=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},ze=[],M=-1;function be(t){return{current:t}}function Ae(t){0>M||(t.current=ze[M],ze[M]=null,M--)}function re(t,s){M++,ze[M]=t.current,t.current=s}var Se=be(null),Q=be(null),xe=be(null),Be=be(null);function Le(t,s){switch(re(xe,s),re(Q,t),re(Se,null),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?L0(s):0;break;default:if(t=t===8?s.parentNode:s,s=t.tagName,t=t.namespaceURI)t=L0(t),s=O0(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Ae(Se),re(Se,s)}function et(){Ae(Se),Ae(Q),Ae(xe)}function Je(t){t.memoizedState!==null&&re(Be,t);var s=Se.current,a=O0(s,t.type);s!==a&&(re(Q,t),re(Se,a))}function at(t){Q.current===t&&(Ae(Se),Ae(Q)),Be.current===t&&(Ae(Be),Qn._currentValue=Ce)}var gt=Object.prototype.hasOwnProperty,Oe=n.unstable_scheduleCallback,I=n.unstable_cancelCallback,se=n.unstable_shouldYield,ve=n.unstable_requestPaint,Ee=n.unstable_now,Ve=n.unstable_getCurrentPriorityLevel,oe=n.unstable_ImmediatePriority,Te=n.unstable_UserBlockingPriority,De=n.unstable_NormalPriority,qe=n.unstable_LowPriority,ct=n.unstable_IdlePriority,$e=n.log,O=n.unstable_setDisableYieldValue,we=null,ce=null;function _e(t){if(ce&&typeof ce.onCommitFiberRoot=="function")try{ce.onCommitFiberRoot(we,t,void 0,(t.current.flags&128)===128)}catch{}}function He(t){if(typeof $e=="function"&&O(t),ce&&typeof ce.setStrictMode=="function")try{ce.setStrictMode(we,t)}catch{}}var Ye=Math.clz32?Math.clz32:U,he=Math.log,Re=Math.LN2;function U(t){return t>>>=0,t===0?32:31-(he(t)/Re|0)|0}var je=128,Ie=4194304;function Qe(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yt(t,s){var a=t.pendingLanes;if(a===0)return 0;var r=0,i=t.suspendedLanes,d=t.pingedLanes,h=t.warmLanes;t=t.finishedLanes!==0;var y=a&134217727;return y!==0?(a=y&~i,a!==0?r=Qe(a):(d&=y,d!==0?r=Qe(d):t||(h=y&~h,h!==0&&(r=Qe(h))))):(y=a&~i,y!==0?r=Qe(y):d!==0?r=Qe(d):t||(h=a&~h,h!==0&&(r=Qe(h)))),r===0?0:s!==0&&s!==r&&(s&i)===0&&(i=r&-r,h=s&-s,i>=h||i===32&&(h&4194176)!==0)?s:r}function Et(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function ts(t,s){switch(t){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vt(){var t=je;return je<<=1,(je&4194176)===0&&(je=128),t}function ns(){var t=Ie;return Ie<<=1,(Ie&62914560)===0&&(Ie=4194304),t}function js(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function qt(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function is(t,s,a,r,i,d){var h=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,A=t.expirationTimes,G=t.hiddenUpdates;for(a=h&~a;0<a;){var ye=31-Ye(a),ke=1<<ye;y[ye]=0,A[ye]=-1;var le=G[ye];if(le!==null)for(G[ye]=null,ye=0;ye<le.length;ye++){var ge=le[ye];ge!==null&&(ge.lane&=-536870913)}a&=~ke}r!==0&&Zt(t,r,0),d!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=d&~(h&~s))}function Zt(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-Ye(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194218}function Gs(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-Ye(a),i=1<<r;i&s|t[r]&s&&(t[r]|=s),a&=~i}}function us(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nn(){var t=P.p;return t!==0?t:(t=window.event,t===void 0?32:tx(t.type))}function Xl(t,s){var a=P.p;try{return P.p=t,s()}finally{P.p=a}}var Ns=Math.random().toString(36).slice(2),ie="__reactFiber$"+Ns,Me="__reactProps$"+Ns,Ke="__reactContainer$"+Ns,mt="__reactEvents$"+Ns,ft="__reactListeners$"+Ns,Kt="__reactHandles$"+Ns,qa="__reactResources$"+Ns,Ua="__reactMarker$"+Ns;function ln(t){delete t[ie],delete t[Me],delete t[mt],delete t[ft],delete t[Kt]}function Ha(t){var s=t[ie];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ke]||a[ie]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=P0(t);t!==null;){if(a=t[ie])return a;t=P0(t)}return s}t=a,a=t.parentNode}return null}function yr(t){if(t=t[ie]||t[Ke]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function on(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(c(33))}function vr(t){var s=t[qa];return s||(s=t[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(t){t[Ua]=!0}var _d=new Set,Ld={};function Fa(t,s){jr(t,s),jr(t+"Capture",s)}function jr(t,s){for(Ld[t]=s,t=0;t<s.length;t++)_d.add(s[t])}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Bd={};function qh(t){return gt.call(Bd,t)?!0:gt.call(Od,t)?!1:Ph.test(t)?Bd[t]=!0:(Od[t]=!0,!1)}function pi(t,s,a){if(qh(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function bi(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function ta(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}function ws(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Id(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Uh(t){var s=Id(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var i=a.get,d=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return i.call(this)},set:function(h){r=""+h,d.call(this,h)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function yi(t){t._valueTracker||(t._valueTracker=Uh(t))}function Pd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=Id(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hh=/[\n"\\]/g;function Ss(t){return t.replace(Hh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ql(t,s,a,r,i,d,h,y){t.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.type=h:t.removeAttribute("type"),s!=null?h==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ws(s)):t.value!==""+ws(s)&&(t.value=""+ws(s)):h!=="submit"&&h!=="reset"||t.removeAttribute("value"),s!=null?Zl(t,h,ws(s)):a!=null?Zl(t,h,ws(a)):r!=null&&t.removeAttribute("value"),i==null&&d!=null&&(t.defaultChecked=!!d),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+ws(y):t.removeAttribute("name")}function qd(t,s,a,r,i,d,h,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null))return;a=a!=null?""+ws(a):"",s=s!=null?""+ws(s):a,y||s===t.value||(t.value=s),t.defaultValue=s}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=y?t.checked:!!r,t.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.name=h)}function Zl(t,s,a){s==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Nr(t,s,a,r){if(t=t.options,s){s={};for(var i=0;i<a.length;i++)s["$"+a[i]]=!0;for(a=0;a<t.length;a++)i=s.hasOwnProperty("$"+t[a].value),t[a].selected!==i&&(t[a].selected=i),i&&r&&(t[a].defaultSelected=!0)}else{for(a=""+ws(a),s=null,i=0;i<t.length;i++){if(t[i].value===a){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}s!==null||t[i].disabled||(s=t[i])}s!==null&&(s.selected=!0)}}function Ud(t,s,a){if(s!=null&&(s=""+ws(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+ws(a):""}function Hd(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(c(92));if(pe(r)){if(1<r.length)throw Error(c(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=ws(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function wr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Fh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||Fh.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Gd(t,s,a){if(s!=null&&typeof s!="object")throw Error(c(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in s)r=s[i],s.hasOwnProperty(i)&&a[i]!==r&&Fd(t,i,r)}else for(var d in s)s.hasOwnProperty(d)&&Fd(t,d,s[d])}function Kl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ji(t){return Vh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Jl=null;function Wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sr=null,Er=null;function Vd(t){var s=yr(t);if(s&&(t=s.stateNode)){var a=t[Me]||null;e:switch(t=s.stateNode,s.type){case"input":if(Ql(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ss(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var i=r[Me]||null;if(!i)throw Error(c(90));Ql(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&Pd(r)}break e;case"textarea":Ud(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Nr(t,!!a.multiple,s,!1)}}}var eo=!1;function Yd(t,s,a){if(eo)return t(s,a);eo=!0;try{var r=t(s);return r}finally{if(eo=!1,(Sr!==null||Er!==null)&&(rl(),Sr&&(s=Sr,t=Er,Er=Sr=null,Vd(s),t)))for(s=0;s<t.length;s++)Vd(t[s])}}function cn(t,s){var a=t.stateNode;if(a===null)return null;var r=a[Me]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(c(231,s,typeof a));return a}var to=!1;if(ea)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){to=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{to=!1}var va=null,so=null,Ni=null;function Xd(){if(Ni)return Ni;var t,s=so,a=s.length,r,i="value"in va?va.value:va.textContent,d=i.length;for(t=0;t<a&&s[t]===i[t];t++);var h=a-t;for(r=1;r<=h&&s[a-r]===i[d-r];r++);return Ni=i.slice(t,1<r?1-r:void 0)}function wi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Si(){return!0}function Qd(){return!1}function ls(t){function s(a,r,i,d,h){this._reactName=a,this._targetInst=i,this.type=r,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Si:Qd,this.isPropagationStopped=Qd,this}return $(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),s}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=ls(Ga),mn=$({},Ga,{view:0,detail:0}),Yh=ls(mn),ao,ro,un,Di=$({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==un&&(un&&t.type==="mousemove"?(ao=t.screenX-un.screenX,ro=t.screenY-un.screenY):ro=ao=0,un=t),ao)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),Zd=ls(Di),Xh=$({},Di,{dataTransfer:0}),Qh=ls(Xh),Zh=$({},mn,{relatedTarget:0}),no=ls(Zh),Kh=$({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),Jh=ls(Kh),Wh=$({},Ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ef=ls(Wh),tf=$({},Ga,{data:0}),Kd=ls(tf),sf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nf(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=rf[t])?!!s[t]:!1}function io(){return nf}var lf=$({},mn,{key:function(t){if(t.key){var s=sf[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=wi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?af[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(t){return t.type==="keypress"?wi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),of=ls(lf),cf=$({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=ls(cf),df=$({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),mf=ls(df),uf=$({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),xf=ls(uf),hf=$({},Di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ff=ls(hf),gf=$({},Ga,{newState:0,oldState:0}),pf=ls(gf),bf=[9,13,27,32],lo=ea&&"CompositionEvent"in window,xn=null;ea&&"documentMode"in document&&(xn=document.documentMode);var yf=ea&&"TextEvent"in window&&!xn,Wd=ea&&(!lo||xn&&8<xn&&11>=xn),em=" ",tm=!1;function sm(t,s){switch(t){case"keyup":return bf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dr=!1;function vf(t,s){switch(t){case"compositionend":return am(s);case"keypress":return s.which!==32?null:(tm=!0,em);case"textInput":return t=s.data,t===em&&tm?null:t;default:return null}}function jf(t,s){if(Dr)return t==="compositionend"||!lo&&sm(t,s)?(t=Xd(),Ni=so=va=null,Dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wd&&s.locale!=="ko"?null:s.data;default:return null}}var Nf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Nf[t.type]:s==="textarea"}function nm(t,s,a,r){Sr?Er?Er.push(r):Er=[r]:Sr=r,s=cl(s,"onChange"),0<s.length&&(a=new Ei("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var hn=null,fn=null;function wf(t){z0(t,0)}function Ci(t){var s=on(t);if(Pd(s))return t}function im(t,s){if(t==="change")return s}var lm=!1;if(ea){var oo;if(ea){var co="oninput"in document;if(!co){var om=document.createElement("div");om.setAttribute("oninput","return;"),co=typeof om.oninput=="function"}oo=co}else oo=!1;lm=oo&&(!document.documentMode||9<document.documentMode)}function cm(){hn&&(hn.detachEvent("onpropertychange",dm),fn=hn=null)}function dm(t){if(t.propertyName==="value"&&Ci(fn)){var s=[];nm(s,fn,t,Wl(t)),Yd(wf,s)}}function Sf(t,s,a){t==="focusin"?(cm(),hn=s,fn=a,hn.attachEvent("onpropertychange",dm)):t==="focusout"&&cm()}function Ef(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ci(fn)}function Df(t,s){if(t==="click")return Ci(s)}function Cf(t,s){if(t==="input"||t==="change")return Ci(s)}function kf(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var xs=typeof Object.is=="function"?Object.is:kf;function gn(t,s){if(xs(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var i=a[r];if(!gt.call(s,i)||!xs(t[i],s[i]))return!1}return!0}function mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function um(t,s){var a=mm(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mm(a)}}function xm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?xm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=vi(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=vi(t.document)}return s}function mo(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Af(t,s){var a=hm(s);s=t.focusedElem;var r=t.selectionRange;if(a!==s&&s&&s.ownerDocument&&xm(s.ownerDocument.documentElement,s)){if(r!==null&&mo(s)){if(t=r.start,a=r.end,a===void 0&&(a=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(a,s.value.length);else if(a=(t=s.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var i=s.textContent.length,d=Math.min(r.start,i);r=r.end===void 0?d:Math.min(r.end,i),!a.extend&&d>r&&(i=r,r=d,d=i),i=um(s,d);var h=um(s,r);i&&h&&(a.rangeCount!==1||a.anchorNode!==i.node||a.anchorOffset!==i.offset||a.focusNode!==h.node||a.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),a.removeAllRanges(),d>r?(a.addRange(t),a.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),a.addRange(t)))}}for(t=[],a=s;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)a=t[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Rf=ea&&"documentMode"in document&&11>=document.documentMode,Cr=null,uo=null,pn=null,xo=!1;function fm(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xo||Cr==null||Cr!==vi(r)||(r=Cr,"selectionStart"in r&&mo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pn&&gn(pn,r)||(pn=r,r=cl(uo,"onSelect"),0<r.length&&(s=new Ei("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Cr)))}function Va(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var kr={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},ho={},gm={};ea&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Ya(t){if(ho[t])return ho[t];if(!kr[t])return t;var s=kr[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in gm)return ho[t]=s[a];return t}var pm=Ya("animationend"),bm=Ya("animationiteration"),ym=Ya("animationstart"),zf=Ya("transitionrun"),Tf=Ya("transitionstart"),Mf=Ya("transitioncancel"),vm=Ya("transitionend"),jm=new Map,Nm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ls(t,s){jm.set(t,s),Fa(s,[t])}var Es=[],Ar=0,fo=0;function ki(){for(var t=Ar,s=fo=Ar=0;s<t;){var a=Es[s];Es[s++]=null;var r=Es[s];Es[s++]=null;var i=Es[s];Es[s++]=null;var d=Es[s];if(Es[s++]=null,r!==null&&i!==null){var h=r.pending;h===null?i.next=i:(i.next=h.next,h.next=i),r.pending=i}d!==0&&wm(a,i,d)}}function Ai(t,s,a,r){Es[Ar++]=t,Es[Ar++]=s,Es[Ar++]=a,Es[Ar++]=r,fo|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function go(t,s,a,r){return Ai(t,s,a,r),Ri(t)}function ja(t,s){return Ai(t,null,null,s),Ri(t)}function wm(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var i=!1,d=t.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(i=!0)),t=d,d=d.return;i&&s!==null&&t.tag===3&&(d=t.stateNode,i=31-Ye(a),d=d.hiddenUpdates,t=d[i],t===null?d[i]=[s]:t.push(s),s.lane=a|536870912)}function Ri(t){if(50<Un)throw Un=0,Nc=null,Error(c(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Rr={},Sm=new WeakMap;function Ds(t,s){if(typeof t=="object"&&t!==null){var a=Sm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:J(s)},Sm.set(t,s),s)}return{value:t,source:s,stack:J(s)}}var zr=[],Tr=0,zi=null,Ti=0,Cs=[],ks=0,Xa=null,sa=1,aa="";function Qa(t,s){zr[Tr++]=Ti,zr[Tr++]=zi,zi=t,Ti=s}function Em(t,s,a){Cs[ks++]=sa,Cs[ks++]=aa,Cs[ks++]=Xa,Xa=t;var r=sa;t=aa;var i=32-Ye(r)-1;r&=~(1<<i),a+=1;var d=32-Ye(s)+i;if(30<d){var h=i-i%5;d=(r&(1<<h)-1).toString(32),r>>=h,i-=h,sa=1<<32-Ye(s)+i|a<<i|r,aa=d+t}else sa=1<<d|a<<i|r,aa=t}function po(t){t.return!==null&&(Qa(t,1),Em(t,1,0))}function bo(t){for(;t===zi;)zi=zr[--Tr],zr[Tr]=null,Ti=zr[--Tr],zr[Tr]=null;for(;t===Xa;)Xa=Cs[--ks],Cs[ks]=null,aa=Cs[--ks],Cs[ks]=null,sa=Cs[--ks],Cs[ks]=null}var ss=null,Vt=null,xt=!1,Os=null,Vs=!1,yo=Error(c(519));function Za(t){var s=Error(c(418,""));throw vn(Ds(s,t)),yo}function Dm(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[ie]=t,s[Me]=r,a){case"dialog":dt("cancel",s),dt("close",s);break;case"iframe":case"object":case"embed":dt("load",s);break;case"video":case"audio":for(a=0;a<Fn.length;a++)dt(Fn[a],s);break;case"source":dt("error",s);break;case"img":case"image":case"link":dt("error",s),dt("load",s);break;case"details":dt("toggle",s);break;case"input":dt("invalid",s),qd(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),yi(s);break;case"select":dt("invalid",s);break;case"textarea":dt("invalid",s),Hd(s,r.value,r.defaultValue,r.children),yi(s)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||_0(s.textContent,a)?(r.popover!=null&&(dt("beforetoggle",s),dt("toggle",s)),r.onScroll!=null&&dt("scroll",s),r.onScrollEnd!=null&&dt("scrollend",s),r.onClick!=null&&(s.onclick=dl),s=!0):s=!1,s||Za(t)}function Cm(t){for(ss=t.return;ss;)switch(ss.tag){case 3:case 27:Vs=!0;return;case 5:case 13:Vs=!1;return;default:ss=ss.return}}function bn(t){if(t!==ss)return!1;if(!xt)return Cm(t),xt=!0,!1;var s=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ic(t.type,t.memoizedProps)),a=!a),a&&(s=!0),s&&Vt&&Za(t),Cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(c(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){Vt=Is(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}Vt=null}}else Vt=ss?Is(t.stateNode.nextSibling):null;return!0}function yn(){Vt=ss=null,xt=!1}function vn(t){Os===null?Os=[t]:Os.push(t)}var jn=Error(c(460)),km=Error(c(474)),vo={then:function(){}};function Am(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mi(){}function Rm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Mi,Mi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===jn?Error(c(483)):t;default:if(typeof s.status=="string")s.then(Mi,Mi);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(c(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var i=s;i.status="fulfilled",i.value=r}},function(r){if(s.status==="pending"){var i=s;i.status="rejected",i.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===jn?Error(c(483)):t}throw Nn=s,jn}}var Nn=null;function zm(){if(Nn===null)throw Error(c(459));var t=Nn;return Nn=null,t}var Mr=null,wn=0;function $i(t){var s=wn;return wn+=1,Mr===null&&(Mr=[]),Rm(Mr,t,s)}function Sn(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function _i(t,s){throw s.$$typeof===x?Error(c(525)):(t=Object.prototype.toString.call(s),Error(c(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Tm(t){var s=t._init;return s(t._payload)}function Mm(t){function s(Z,H){if(t){var ne=Z.deletions;ne===null?(Z.deletions=[H],Z.flags|=16):ne.push(H)}}function a(Z,H){if(!t)return null;for(;H!==null;)s(Z,H),H=H.sibling;return null}function r(Z){for(var H=new Map;Z!==null;)Z.key!==null?H.set(Z.key,Z):H.set(Z.index,Z),Z=Z.sibling;return H}function i(Z,H){return Z=Ma(Z,H),Z.index=0,Z.sibling=null,Z}function d(Z,H,ne){return Z.index=ne,t?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<H?(Z.flags|=33554434,H):ne):(Z.flags|=33554434,H)):(Z.flags|=1048576,H)}function h(Z){return t&&Z.alternate===null&&(Z.flags|=33554434),Z}function y(Z,H,ne,Ne){return H===null||H.tag!==6?(H=hc(ne,Z.mode,Ne),H.return=Z,H):(H=i(H,ne),H.return=Z,H)}function A(Z,H,ne,Ne){var Ue=ne.type;return Ue===p?ye(Z,H,ne.props.children,Ne,ne.key):H!==null&&(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&Tm(Ue)===H.type)?(H=i(H,ne.props),Sn(H,ne),H.return=Z,H):(H=Wi(ne.type,ne.key,ne.props,null,Z.mode,Ne),Sn(H,ne),H.return=Z,H)}function G(Z,H,ne,Ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==ne.containerInfo||H.stateNode.implementation!==ne.implementation?(H=fc(ne,Z.mode,Ne),H.return=Z,H):(H=i(H,ne.children||[]),H.return=Z,H)}function ye(Z,H,ne,Ne,Ue){return H===null||H.tag!==7?(H=ir(ne,Z.mode,Ne,Ue),H.return=Z,H):(H=i(H,ne),H.return=Z,H)}function ke(Z,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=hc(""+H,Z.mode,ne),H.return=Z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return ne=Wi(H.type,H.key,H.props,null,Z.mode,ne),Sn(ne,H),ne.return=Z,ne;case b:return H=fc(H,Z.mode,ne),H.return=Z,H;case L:var Ne=H._init;return H=Ne(H._payload),ke(Z,H,ne)}if(pe(H)||me(H))return H=ir(H,Z.mode,ne,null),H.return=Z,H;if(typeof H.then=="function")return ke(Z,$i(H),ne);if(H.$$typeof===w)return ke(Z,Zi(Z,H),ne);_i(Z,H)}return null}function le(Z,H,ne,Ne){var Ue=H!==null?H.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ue!==null?null:y(Z,H,""+ne,Ne);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case f:return ne.key===Ue?A(Z,H,ne,Ne):null;case b:return ne.key===Ue?G(Z,H,ne,Ne):null;case L:return Ue=ne._init,ne=Ue(ne._payload),le(Z,H,ne,Ne)}if(pe(ne)||me(ne))return Ue!==null?null:ye(Z,H,ne,Ne,null);if(typeof ne.then=="function")return le(Z,H,$i(ne),Ne);if(ne.$$typeof===w)return le(Z,H,Zi(Z,ne),Ne);_i(Z,ne)}return null}function ge(Z,H,ne,Ne,Ue){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Z=Z.get(ne)||null,y(H,Z,""+Ne,Ue);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case f:return Z=Z.get(Ne.key===null?ne:Ne.key)||null,A(H,Z,Ne,Ue);case b:return Z=Z.get(Ne.key===null?ne:Ne.key)||null,G(H,Z,Ne,Ue);case L:var nt=Ne._init;return Ne=nt(Ne._payload),ge(Z,H,ne,Ne,Ue)}if(pe(Ne)||me(Ne))return Z=Z.get(ne)||null,ye(H,Z,Ne,Ue,null);if(typeof Ne.then=="function")return ge(Z,H,ne,$i(Ne),Ue);if(Ne.$$typeof===w)return ge(Z,H,ne,Zi(H,Ne),Ue);_i(H,Ne)}return null}function Fe(Z,H,ne,Ne){for(var Ue=null,nt=null,Ge=H,Xe=H=0,Gt=null;Ge!==null&&Xe<ne.length;Xe++){Ge.index>Xe?(Gt=Ge,Ge=null):Gt=Ge.sibling;var ht=le(Z,Ge,ne[Xe],Ne);if(ht===null){Ge===null&&(Ge=Gt);break}t&&Ge&&ht.alternate===null&&s(Z,Ge),H=d(ht,H,Xe),nt===null?Ue=ht:nt.sibling=ht,nt=ht,Ge=Gt}if(Xe===ne.length)return a(Z,Ge),xt&&Qa(Z,Xe),Ue;if(Ge===null){for(;Xe<ne.length;Xe++)Ge=ke(Z,ne[Xe],Ne),Ge!==null&&(H=d(Ge,H,Xe),nt===null?Ue=Ge:nt.sibling=Ge,nt=Ge);return xt&&Qa(Z,Xe),Ue}for(Ge=r(Ge);Xe<ne.length;Xe++)Gt=ge(Ge,Z,Xe,ne[Xe],Ne),Gt!==null&&(t&&Gt.alternate!==null&&Ge.delete(Gt.key===null?Xe:Gt.key),H=d(Gt,H,Xe),nt===null?Ue=Gt:nt.sibling=Gt,nt=Gt);return t&&Ge.forEach(function(Pa){return s(Z,Pa)}),xt&&Qa(Z,Xe),Ue}function Ze(Z,H,ne,Ne){if(ne==null)throw Error(c(151));for(var Ue=null,nt=null,Ge=H,Xe=H=0,Gt=null,ht=ne.next();Ge!==null&&!ht.done;Xe++,ht=ne.next()){Ge.index>Xe?(Gt=Ge,Ge=null):Gt=Ge.sibling;var Pa=le(Z,Ge,ht.value,Ne);if(Pa===null){Ge===null&&(Ge=Gt);break}t&&Ge&&Pa.alternate===null&&s(Z,Ge),H=d(Pa,H,Xe),nt===null?Ue=Pa:nt.sibling=Pa,nt=Pa,Ge=Gt}if(ht.done)return a(Z,Ge),xt&&Qa(Z,Xe),Ue;if(Ge===null){for(;!ht.done;Xe++,ht=ne.next())ht=ke(Z,ht.value,Ne),ht!==null&&(H=d(ht,H,Xe),nt===null?Ue=ht:nt.sibling=ht,nt=ht);return xt&&Qa(Z,Xe),Ue}for(Ge=r(Ge);!ht.done;Xe++,ht=ne.next())ht=ge(Ge,Z,Xe,ht.value,Ne),ht!==null&&(t&&ht.alternate!==null&&Ge.delete(ht.key===null?Xe:ht.key),H=d(ht,H,Xe),nt===null?Ue=ht:nt.sibling=ht,nt=ht);return t&&Ge.forEach(function(Yg){return s(Z,Yg)}),xt&&Qa(Z,Xe),Ue}function Mt(Z,H,ne,Ne){if(typeof ne=="object"&&ne!==null&&ne.type===p&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case f:e:{for(var Ue=ne.key;H!==null;){if(H.key===Ue){if(Ue=ne.type,Ue===p){if(H.tag===7){a(Z,H.sibling),Ne=i(H,ne.props.children),Ne.return=Z,Z=Ne;break e}}else if(H.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&Tm(Ue)===H.type){a(Z,H.sibling),Ne=i(H,ne.props),Sn(Ne,ne),Ne.return=Z,Z=Ne;break e}a(Z,H);break}else s(Z,H);H=H.sibling}ne.type===p?(Ne=ir(ne.props.children,Z.mode,Ne,ne.key),Ne.return=Z,Z=Ne):(Ne=Wi(ne.type,ne.key,ne.props,null,Z.mode,Ne),Sn(Ne,ne),Ne.return=Z,Z=Ne)}return h(Z);case b:e:{for(Ue=ne.key;H!==null;){if(H.key===Ue)if(H.tag===4&&H.stateNode.containerInfo===ne.containerInfo&&H.stateNode.implementation===ne.implementation){a(Z,H.sibling),Ne=i(H,ne.children||[]),Ne.return=Z,Z=Ne;break e}else{a(Z,H);break}else s(Z,H);H=H.sibling}Ne=fc(ne,Z.mode,Ne),Ne.return=Z,Z=Ne}return h(Z);case L:return Ue=ne._init,ne=Ue(ne._payload),Mt(Z,H,ne,Ne)}if(pe(ne))return Fe(Z,H,ne,Ne);if(me(ne)){if(Ue=me(ne),typeof Ue!="function")throw Error(c(150));return ne=Ue.call(ne),Ze(Z,H,ne,Ne)}if(typeof ne.then=="function")return Mt(Z,H,$i(ne),Ne);if(ne.$$typeof===w)return Mt(Z,H,Zi(Z,ne),Ne);_i(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,H!==null&&H.tag===6?(a(Z,H.sibling),Ne=i(H,ne),Ne.return=Z,Z=Ne):(a(Z,H),Ne=hc(ne,Z.mode,Ne),Ne.return=Z,Z=Ne),h(Z)):a(Z,H)}return function(Z,H,ne,Ne){try{wn=0;var Ue=Mt(Z,H,ne,Ne);return Mr=null,Ue}catch(Ge){if(Ge===jn)throw Ge;var nt=Ts(29,Ge,null,Z.mode);return nt.lanes=Ne,nt.return=Z,nt}finally{}}}var Ka=Mm(!0),$m=Mm(!1),$r=be(null),Li=be(0);function _m(t,s){t=ha,re(Li,t),re($r,s),ha=t|s.baseLanes}function jo(){re(Li,ha),re($r,$r.current)}function No(){ha=Li.current,Ae($r),Ae(Li)}var As=be(null),Ys=null;function Na(t){var s=t.alternate;re(Bt,Bt.current&1),re(As,t),Ys===null&&(s===null||$r.current!==null||s.memoizedState!==null)&&(Ys=t)}function Lm(t){if(t.tag===22){if(re(Bt,Bt.current),re(As,t),Ys===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Ys=t)}}else wa()}function wa(){re(Bt,Bt.current),re(As,As.current)}function ra(t){Ae(As),Ys===t&&(Ys=null),Ae(Bt)}var Bt=be(0);function Oi(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var $f=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},_f=n.unstable_scheduleCallback,Lf=n.unstable_NormalPriority,It={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wo(){return{controller:new $f,data:new Map,refCount:0}}function En(t){t.refCount--,t.refCount===0&&_f(Lf,function(){t.controller.abort()})}var Dn=null,So=0,_r=0,Lr=null;function Of(t,s){if(Dn===null){var a=Dn=[];So=0,_r=Rc(),Lr={status:"pending",value:void 0,then:function(r){a.push(r)}}}return So++,s.then(Om,Om),s}function Om(){if(--So===0&&Dn!==null){Lr!==null&&(Lr.status="fulfilled");var t=Dn;Dn=null,_r=0,Lr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Bf(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var i=0;i<a.length;i++)(0,a[i])(s)},function(i){for(r.status="rejected",r.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),r}var Bm=F.S;F.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Of(t,s),Bm!==null&&Bm(t,s)};var Ja=be(null);function Eo(){var t=Ja.current;return t!==null?t:Nt.pooledCache}function Bi(t,s){s===null?re(Ja,Ja.current):re(Ja,s.pool)}function Im(){var t=Eo();return t===null?null:{parent:It._currentValue,pool:t}}var Sa=0,rt=null,pt=null,_t=null,Ii=!1,Or=!1,Wa=!1,Pi=0,Cn=0,Br=null,If=0;function $t(){throw Error(c(321))}function Do(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!xs(t[a],s[a]))return!1;return!0}function Co(t,s,a,r,i,d){return Sa=d,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=t===null||t.memoizedState===null?er:Ea,Wa=!1,d=a(r,i),Wa=!1,Or&&(d=qm(s,a,r,i)),Pm(t),d}function Pm(t){F.H=Xs;var s=pt!==null&&pt.next!==null;if(Sa=0,_t=pt=rt=null,Ii=!1,Cn=0,Br=null,s)throw Error(c(300));t===null||Ht||(t=t.dependencies,t!==null&&Qi(t)&&(Ht=!0))}function qm(t,s,a,r){rt=t;var i=0;do{if(Or&&(Br=null),Cn=0,Or=!1,25<=i)throw Error(c(301));if(i+=1,_t=pt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=tr,d=s(a,r)}while(Or);return d}function Pf(){var t=F.H,s=t.useState()[0];return s=typeof s.then=="function"?kn(s):s,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(rt.flags|=1024),s}function ko(){var t=Pi!==0;return Pi=0,t}function Ao(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Ro(t){if(Ii){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ii=!1}Sa=0,_t=pt=rt=null,Or=!1,Cn=Pi=0,Br=null}function os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?rt.memoizedState=_t=t:_t=_t.next=t,_t}function Lt(){if(pt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var s=_t===null?rt.memoizedState:_t.next;if(s!==null)_t=s,pt=t;else{if(t===null)throw rt.alternate===null?Error(c(467)):Error(c(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},_t===null?rt.memoizedState=_t=t:_t=_t.next=t}return _t}var qi;qi=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function kn(t){var s=Cn;return Cn+=1,Br===null&&(Br=[]),t=Rm(Br,t,s),s=rt,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?er:Ea),t}function Ui(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kn(t);if(t.$$typeof===w)return Jt(t)}throw Error(c(438,String(t)))}function zo(t){var s=null,a=rt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=rt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(i){return i.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=qi(),rt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=W;return s.index++,a}function na(t,s){return typeof s=="function"?s(t):s}function Hi(t){var s=Lt();return To(s,pt,t)}function To(t,s,a){var r=t.queue;if(r===null)throw Error(c(311));r.lastRenderedReducer=a;var i=t.baseQueue,d=r.pending;if(d!==null){if(i!==null){var h=i.next;i.next=d.next,d.next=h}s.baseQueue=i=d,r.pending=null}if(d=t.baseState,i===null)t.memoizedState=d;else{s=i.next;var y=h=null,A=null,G=s,ye=!1;do{var ke=G.lane&-536870913;if(ke!==G.lane?(ut&ke)===ke:(Sa&ke)===ke){var le=G.revertLane;if(le===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ke===_r&&(ye=!0);else if((Sa&le)===le){G=G.next,le===_r&&(ye=!0);continue}else ke={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},A===null?(y=A=ke,h=d):A=A.next=ke,rt.lanes|=le,$a|=le;ke=G.action,Wa&&a(d,ke),d=G.hasEagerState?G.eagerState:a(d,ke)}else le={lane:ke,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},A===null?(y=A=le,h=d):A=A.next=le,rt.lanes|=ke,$a|=ke;G=G.next}while(G!==null&&G!==s);if(A===null?h=d:A.next=y,!xs(d,t.memoizedState)&&(Ht=!0,ye&&(a=Lr,a!==null)))throw a;t.memoizedState=d,t.baseState=h,t.baseQueue=A,r.lastRenderedState=d}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Mo(t){var s=Lt(),a=s.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=t;var r=a.dispatch,i=a.pending,d=s.memoizedState;if(i!==null){a.pending=null;var h=i=i.next;do d=t(d,h.action),h=h.next;while(h!==i);xs(d,s.memoizedState)||(Ht=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,r]}function Um(t,s,a){var r=rt,i=Lt(),d=xt;if(d){if(a===void 0)throw Error(c(407));a=a()}else a=s();var h=!xs((pt||i).memoizedState,a);if(h&&(i.memoizedState=a,Ht=!0),i=i.queue,Lo(Gm.bind(null,r,i,t),[t]),i.getSnapshot!==s||h||_t!==null&&_t.memoizedState.tag&1){if(r.flags|=2048,Ir(9,Fm.bind(null,r,i,a,s),{destroy:void 0},null),Nt===null)throw Error(c(349));d||(Sa&60)!==0||Hm(r,s,a)}return a}function Hm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s=qi(),rt.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Fm(t,s,a,r){s.value=a,s.getSnapshot=r,Vm(s)&&Ym(t)}function Gm(t,s,a){return a(function(){Vm(s)&&Ym(t)})}function Vm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!xs(t,a)}catch{return!0}}function Ym(t){var s=ja(t,2);s!==null&&as(s,t,2)}function $o(t){var s=os();if(typeof t=="function"){var a=t;if(t=a(),Wa){He(!0);try{a()}finally{He(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},s}function Xm(t,s,a,r){return t.baseState=a,To(t,pt,typeof r=="function"?r:na)}function qf(t,s,a,r,i){if(Vi(t))throw Error(c(485));if(t=s.action,t!==null){var d={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){d.listeners.push(h)}};F.T!==null?a(!0):d.isTransition=!1,r(d),a=s.pending,a===null?(d.next=s.pending=d,Qm(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Qm(t,s){var a=s.action,r=s.payload,i=t.state;if(s.isTransition){var d=F.T,h={};F.T=h;try{var y=a(i,r),A=F.S;A!==null&&A(h,y),Zm(t,s,y)}catch(G){_o(t,s,G)}finally{F.T=d}}else try{d=a(i,r),Zm(t,s,d)}catch(G){_o(t,s,G)}}function Zm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Km(t,s,r)},function(r){return _o(t,s,r)}):Km(t,s,a)}function Km(t,s,a){s.status="fulfilled",s.value=a,Jm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Qm(t,a)))}function _o(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,Jm(s),s=s.next;while(s!==r)}t.action=null}function Jm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Wm(t,s){return s}function eu(t,s){if(xt){var a=Nt.formState;if(a!==null){e:{var r=rt;if(xt){if(Vt){t:{for(var i=Vt,d=Vs;i.nodeType!==8;){if(!d){i=null;break t}if(i=Is(i.nextSibling),i===null){i=null;break t}}d=i.data,i=d==="F!"||d==="F"?i:null}if(i){Vt=Is(i.nextSibling),r=i.data==="F!";break e}}Za(r)}r=!1}r&&(s=a[0])}}return a=os(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:s},a.queue=r,a=bu.bind(null,rt,r),r.dispatch=a,r=$o(!1),d=qo.bind(null,rt,!1,r.queue),r=os(),i={state:s,dispatch:null,action:t,pending:null},r.queue=i,a=qf.bind(null,rt,i,d,a),i.dispatch=a,r.memoizedState=t,[s,a,!1]}function tu(t){var s=Lt();return su(s,pt,t)}function su(t,s,a){s=To(t,s,Wm)[0],t=Hi(na)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?kn(s):s;var r=Lt(),i=r.queue,d=i.dispatch;return a!==r.memoizedState&&(rt.flags|=2048,Ir(9,Uf.bind(null,i,a),{destroy:void 0},null)),[s,d,t]}function Uf(t,s){t.action=s}function au(t){var s=Lt(),a=pt;if(a!==null)return su(s,a,t);Lt(),s=s.memoizedState,a=Lt();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function Ir(t,s,a,r){return t={tag:t,create:s,inst:a,deps:r,next:null},s=rt.updateQueue,s===null&&(s=qi(),rt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function ru(){return Lt().memoizedState}function Fi(t,s,a,r){var i=os();rt.flags|=t,i.memoizedState=Ir(1|s,a,{destroy:void 0},r===void 0?null:r)}function Gi(t,s,a,r){var i=Lt();r=r===void 0?null:r;var d=i.memoizedState.inst;pt!==null&&r!==null&&Do(r,pt.memoizedState.deps)?i.memoizedState=Ir(s,a,d,r):(rt.flags|=t,i.memoizedState=Ir(1|s,a,d,r))}function nu(t,s){Fi(8390656,8,t,s)}function Lo(t,s){Gi(2048,8,t,s)}function iu(t,s){return Gi(4,2,t,s)}function lu(t,s){return Gi(4,4,t,s)}function ou(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function cu(t,s,a){a=a!=null?a.concat([t]):null,Gi(4,4,ou.bind(null,s,t),a)}function Oo(){}function du(t,s){var a=Lt();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&Do(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function mu(t,s){var a=Lt();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&Do(s,r[1]))return r[0];if(r=t(),Wa){He(!0);try{t()}finally{He(!1)}}return a.memoizedState=[r,s],r}function Bo(t,s,a){return a===void 0||(Sa&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=x0(),rt.lanes|=t,$a|=t,a)}function uu(t,s,a,r){return xs(a,s)?a:$r.current!==null?(t=Bo(t,a,r),xs(t,s)||(Ht=!0),t):(Sa&42)===0?(Ht=!0,t.memoizedState=a):(t=x0(),rt.lanes|=t,$a|=t,s)}function xu(t,s,a,r,i){var d=P.p;P.p=d!==0&&8>d?d:8;var h=F.T,y={};F.T=y,qo(t,!1,s,a);try{var A=i(),G=F.S;if(G!==null&&G(y,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var ye=Bf(A,r);An(t,s,ye,ps(t))}else An(t,s,r,ps(t))}catch(ke){An(t,s,{then:function(){},status:"rejected",reason:ke},ps())}finally{P.p=d,F.T=h}}function Hf(){}function Io(t,s,a,r){if(t.tag!==5)throw Error(c(476));var i=hu(t).queue;xu(t,i,s,Ce,a===null?Hf:function(){return fu(t),a(r)})}function hu(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:Ce},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function fu(t){var s=hu(t).next.queue;An(t,s,{},ps())}function Po(){return Jt(Qn)}function gu(){return Lt().memoizedState}function pu(){return Lt().memoizedState}function Ff(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=ps();t=ka(a);var r=Aa(s,t,a);r!==null&&(as(r,s,a),Tn(r,s,a)),s={cache:wo()},t.payload=s;return}s=s.return}}function Gf(t,s,a){var r=ps();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vi(t)?yu(s,a):(a=go(t,s,a,r),a!==null&&(as(a,t,r),vu(a,s,r)))}function bu(t,s,a){var r=ps();An(t,s,a,r)}function An(t,s,a,r){var i={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vi(t))yu(s,i);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var h=s.lastRenderedState,y=d(h,a);if(i.hasEagerState=!0,i.eagerState=y,xs(y,h))return Ai(t,s,i,0),Nt===null&&ki(),!1}catch{}finally{}if(a=go(t,s,i,r),a!==null)return as(a,t,r),vu(a,s,r),!0}return!1}function qo(t,s,a,r){if(r={lane:2,revertLane:Rc(),action:r,hasEagerState:!1,eagerState:null,next:null},Vi(t)){if(s)throw Error(c(479))}else s=go(t,a,r,2),s!==null&&as(s,t,2)}function Vi(t){var s=t.alternate;return t===rt||s!==null&&s===rt}function yu(t,s){Or=Ii=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function vu(t,s,a){if((a&4194176)!==0){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,Gs(t,a)}}var Xs={readContext:Jt,use:Ui,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t};Xs.useCacheRefresh=$t,Xs.useMemoCache=$t,Xs.useHostTransitionStatus=$t,Xs.useFormState=$t,Xs.useActionState=$t,Xs.useOptimistic=$t;var er={readContext:Jt,use:Ui,useCallback:function(t,s){return os().memoizedState=[t,s===void 0?null:s],t},useContext:Jt,useEffect:nu,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Fi(4194308,4,ou.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Fi(4194308,4,t,s)},useInsertionEffect:function(t,s){Fi(4,2,t,s)},useMemo:function(t,s){var a=os();s=s===void 0?null:s;var r=t();if(Wa){He(!0);try{t()}finally{He(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=os();if(a!==void 0){var i=a(s);if(Wa){He(!0);try{a(s)}finally{He(!1)}}}else i=s;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=Gf.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var s=os();return t={current:t},s.memoizedState=t},useState:function(t){t=$o(t);var s=t.queue,a=bu.bind(null,rt,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(t,s){var a=os();return Bo(a,t,s)},useTransition:function(){var t=$o(!1);return t=xu.bind(null,rt,t.queue,!0,!1),os().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=rt,i=os();if(xt){if(a===void 0)throw Error(c(407));a=a()}else{if(a=s(),Nt===null)throw Error(c(349));(ut&60)!==0||Hm(r,s,a)}i.memoizedState=a;var d={value:a,getSnapshot:s};return i.queue=d,nu(Gm.bind(null,r,d,t),[t]),r.flags|=2048,Ir(9,Fm.bind(null,r,d,a,s),{destroy:void 0},null),a},useId:function(){var t=os(),s=Nt.identifierPrefix;if(xt){var a=aa,r=sa;a=(r&~(1<<32-Ye(r)-1)).toString(32)+a,s=":"+s+"R"+a,a=Pi++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=If++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},useCacheRefresh:function(){return os().memoizedState=Ff.bind(null,rt)}};er.useMemoCache=zo,er.useHostTransitionStatus=Po,er.useFormState=eu,er.useActionState=eu,er.useOptimistic=function(t){var s=os();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=qo.bind(null,rt,!0,a),a.dispatch=s,[t,s]};var Ea={readContext:Jt,use:Ui,useCallback:du,useContext:Jt,useEffect:Lo,useImperativeHandle:cu,useInsertionEffect:iu,useLayoutEffect:lu,useMemo:mu,useReducer:Hi,useRef:ru,useState:function(){return Hi(na)},useDebugValue:Oo,useDeferredValue:function(t,s){var a=Lt();return uu(a,pt.memoizedState,t,s)},useTransition:function(){var t=Hi(na)[0],s=Lt().memoizedState;return[typeof t=="boolean"?t:kn(t),s]},useSyncExternalStore:Um,useId:gu};Ea.useCacheRefresh=pu,Ea.useMemoCache=zo,Ea.useHostTransitionStatus=Po,Ea.useFormState=tu,Ea.useActionState=tu,Ea.useOptimistic=function(t,s){var a=Lt();return Xm(a,pt,t,s)};var tr={readContext:Jt,use:Ui,useCallback:du,useContext:Jt,useEffect:Lo,useImperativeHandle:cu,useInsertionEffect:iu,useLayoutEffect:lu,useMemo:mu,useReducer:Mo,useRef:ru,useState:function(){return Mo(na)},useDebugValue:Oo,useDeferredValue:function(t,s){var a=Lt();return pt===null?Bo(a,t,s):uu(a,pt.memoizedState,t,s)},useTransition:function(){var t=Mo(na)[0],s=Lt().memoizedState;return[typeof t=="boolean"?t:kn(t),s]},useSyncExternalStore:Um,useId:gu};tr.useCacheRefresh=pu,tr.useMemoCache=zo,tr.useHostTransitionStatus=Po,tr.useFormState=au,tr.useActionState=au,tr.useOptimistic=function(t,s){var a=Lt();return pt!==null?Xm(a,pt,t,s):(a.baseState=t,[t,a.queue.dispatch])};function Uo(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:$({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ho={isMounted:function(t){return(t=t._reactInternals)?q(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var r=ps(),i=ka(r);i.payload=s,a!=null&&(i.callback=a),s=Aa(t,i,r),s!==null&&(as(s,t,r),Tn(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=ps(),i=ka(r);i.tag=1,i.payload=s,a!=null&&(i.callback=a),s=Aa(t,i,r),s!==null&&(as(s,t,r),Tn(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=ps(),r=ka(a);r.tag=2,s!=null&&(r.callback=s),s=Aa(t,r,a),s!==null&&(as(s,t,a),Tn(s,t,a))}};function ju(t,s,a,r,i,d,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,h):s.prototype&&s.prototype.isPureReactComponent?!gn(a,r)||!gn(i,d):!0}function Nu(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&Ho.enqueueReplaceState(s,s.state,null)}function sr(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=$({},a));for(var i in t)a[i]===void 0&&(a[i]=t[i])}return a}var Yi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wu(t){Yi(t)}function Su(t){console.error(t)}function Eu(t){Yi(t)}function Xi(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function Du(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Fo(t,s,a){return a=ka(a),a.tag=3,a.payload={element:null},a.callback=function(){Xi(t,s)},a}function Cu(t){return t=ka(t),t.tag=3,t}function ku(t,s,a,r){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var d=r.value;t.payload=function(){return i(d)},t.callback=function(){Du(s,a,r)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(t.callback=function(){Du(s,a,r),typeof i!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})})}function Vf(t,s,a,r,i){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&zn(s,a,i,!0),a=As.current,a!==null){switch(a.tag){case 13:return Ys===null?Ec():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=i,r===vo?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),Cc(t,r,i)),!1;case 22:return a.flags|=65536,r===vo?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),Cc(t,r,i)),!1}throw Error(c(435,a.tag))}return Cc(t,r,i),Ec(),!1}if(xt)return s=As.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=i,r!==yo&&(t=Error(c(422),{cause:r}),vn(Ds(t,a)))):(r!==yo&&(s=Error(c(423),{cause:r}),vn(Ds(s,a))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Ds(r,a),i=Fo(t.stateNode,r,i),nc(t,i),Tt!==4&&(Tt=2)),!1;var d=Error(c(520),{cause:r});if(d=Ds(d,a),Pn===null?Pn=[d]:Pn.push(d),Tt!==4&&(Tt=2),s===null)return!0;r=Ds(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=i&-i,a.lanes|=t,t=Fo(a.stateNode,r,t),nc(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_a===null||!_a.has(d))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Cu(i),ku(i,t,a,r),nc(a,i),!1}a=a.return}while(a!==null);return!1}var Au=Error(c(461)),Ht=!1;function Yt(t,s,a,r){s.child=t===null?$m(s,null,a,r):Ka(s,t.child,a,r)}function Ru(t,s,a,r,i){a=a.render;var d=s.ref;if("ref"in r){var h={};for(var y in r)y!=="ref"&&(h[y]=r[y])}else h=r;return rr(s),r=Co(t,s,a,h,d,i),y=ko(),t!==null&&!Ht?(Ao(t,s,i),ia(t,s,i)):(xt&&y&&po(s),s.flags|=1,Yt(t,s,r,i),s.child)}function zu(t,s,a,r,i){if(t===null){var d=a.type;return typeof d=="function"&&!xc(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,Tu(t,s,d,r,i)):(t=Wi(a.type,null,r,s,s.mode,i),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!Wo(t,i)){var h=d.memoizedProps;if(a=a.compare,a=a!==null?a:gn,a(h,r)&&t.ref===s.ref)return ia(t,s,i)}return s.flags|=1,t=Ma(d,r),t.ref=s.ref,t.return=s,s.child=t}function Tu(t,s,a,r,i){if(t!==null){var d=t.memoizedProps;if(gn(d,r)&&t.ref===s.ref)if(Ht=!1,s.pendingProps=r=d,Wo(t,i))(t.flags&131072)!==0&&(Ht=!0);else return s.lanes=t.lanes,ia(t,s,i)}return Go(t,s,a,r,i)}function Mu(t,s,a){var r=s.pendingProps,i=r.children,d=(s.stateNode._pendingVisibility&2)!==0,h=t!==null?t.memoizedState:null;if(Rn(t,s),r.mode==="hidden"||d){if((s.flags&128)!==0){if(r=h!==null?h.baseLanes|a:a,t!==null){for(i=s.child=t.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;s.childLanes=d&~r}else s.childLanes=0,s.child=null;return $u(t,s,r,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Bi(s,h!==null?h.cachePool:null),h!==null?_m(s,h):jo(),Lm(s);else return s.lanes=s.childLanes=536870912,$u(t,s,h!==null?h.baseLanes|a:a,a)}else h!==null?(Bi(s,h.cachePool),_m(s,h),wa(),s.memoizedState=null):(t!==null&&Bi(s,null),jo(),wa());return Yt(t,s,i,a),s.child}function $u(t,s,a,r){var i=Eo();return i=i===null?null:{parent:It._currentValue,pool:i},s.memoizedState={baseLanes:a,cachePool:i},t!==null&&Bi(s,null),jo(),Lm(s),t!==null&&zn(t,s,r,!0),null}function Rn(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(t===null||t.ref!==a)&&(s.flags|=2097664)}}function Go(t,s,a,r,i){return rr(s),a=Co(t,s,a,r,void 0,i),r=ko(),t!==null&&!Ht?(Ao(t,s,i),ia(t,s,i)):(xt&&r&&po(s),s.flags|=1,Yt(t,s,a,i),s.child)}function _u(t,s,a,r,i,d){return rr(s),s.updateQueue=null,a=qm(s,r,a,i),Pm(t),r=ko(),t!==null&&!Ht?(Ao(t,s,d),ia(t,s,d)):(xt&&r&&po(s),s.flags|=1,Yt(t,s,a,d),s.child)}function Lu(t,s,a,r,i){if(rr(s),s.stateNode===null){var d=Rr,h=a.contextType;typeof h=="object"&&h!==null&&(d=Jt(h)),d=new a(r,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ho,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=r,d.state=s.memoizedState,d.refs={},ac(s),h=a.contextType,d.context=typeof h=="object"&&h!==null?Jt(h):Rr,d.state=s.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Uo(s,a,h,r),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(h=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),h!==d.state&&Ho.enqueueReplaceState(d,d.state,null),$n(s,r,d,i),Mn(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){d=s.stateNode;var y=s.memoizedProps,A=sr(a,y);d.props=A;var G=d.context,ye=a.contextType;h=Rr,typeof ye=="object"&&ye!==null&&(h=Jt(ye));var ke=a.getDerivedStateFromProps;ye=typeof ke=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=s.pendingProps!==y,ye||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||G!==h)&&Nu(s,d,r,h),Ca=!1;var le=s.memoizedState;d.state=le,$n(s,r,d,i),Mn(),G=s.memoizedState,y||le!==G||Ca?(typeof ke=="function"&&(Uo(s,a,ke,r),G=s.memoizedState),(A=Ca||ju(s,a,A,r,le,G,h))?(ye||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=G),d.props=r,d.state=G,d.context=h,r=A):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{d=s.stateNode,rc(t,s),h=s.memoizedProps,ye=sr(a,h),d.props=ye,ke=s.pendingProps,le=d.context,G=a.contextType,A=Rr,typeof G=="object"&&G!==null&&(A=Jt(G)),y=a.getDerivedStateFromProps,(G=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==ke||le!==A)&&Nu(s,d,r,A),Ca=!1,le=s.memoizedState,d.state=le,$n(s,r,d,i),Mn();var ge=s.memoizedState;h!==ke||le!==ge||Ca||t!==null&&t.dependencies!==null&&Qi(t.dependencies)?(typeof y=="function"&&(Uo(s,a,y,r),ge=s.memoizedState),(ye=Ca||ju(s,a,ye,r,le,ge,A)||t!==null&&t.dependencies!==null&&Qi(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,ge,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,ge,A)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&le===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&le===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=ge),d.props=r,d.state=ge,d.context=A,r=ye):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&le===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&le===t.memoizedState||(s.flags|=1024),r=!1)}return d=r,Rn(t,s),r=(s.flags&128)!==0,d||r?(d=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&r?(s.child=Ka(s,t.child,null,i),s.child=Ka(s,null,a,i)):Yt(t,s,a,i),s.memoizedState=d.state,t=s.child):t=ia(t,s,i),t}function Ou(t,s,a,r){return yn(),s.flags|=256,Yt(t,s,a,r),s.child}var Vo={dehydrated:null,treeContext:null,retryLane:0};function Yo(t){return{baseLanes:t,cachePool:Im()}}function Xo(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Ms),t}function Bu(t,s,a){var r=s.pendingProps,i=!1,d=(s.flags&128)!==0,h;if((h=d)||(h=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),h&&(i=!0,s.flags&=-129),h=(s.flags&32)!==0,s.flags&=-33,t===null){if(xt){if(i?Na(s):wa(),xt){var y=Vt,A;if(A=y){e:{for(A=y,y=Vs;A.nodeType!==8;){if(!y){y=null;break e}if(A=Is(A.nextSibling),A===null){y=null;break e}}y=A}y!==null?(s.memoizedState={dehydrated:y,treeContext:Xa!==null?{id:sa,overflow:aa}:null,retryLane:536870912},A=Ts(18,null,null,0),A.stateNode=y,A.return=s,s.child=A,ss=s,Vt=null,A=!0):A=!1}A||Za(s)}if(y=s.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return y.data==="$!"?s.lanes=16:s.lanes=536870912,null;ra(s)}return y=r.children,r=r.fallback,i?(wa(),i=s.mode,y=Zo({mode:"hidden",children:y},i),r=ir(r,i,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,i=s.child,i.memoizedState=Yo(a),i.childLanes=Xo(t,h,a),s.memoizedState=Vo,r):(Na(s),Qo(s,y))}if(A=t.memoizedState,A!==null&&(y=A.dehydrated,y!==null)){if(d)s.flags&256?(Na(s),s.flags&=-257,s=Ko(t,s,a)):s.memoizedState!==null?(wa(),s.child=t.child,s.flags|=128,s=null):(wa(),i=r.fallback,y=s.mode,r=Zo({mode:"visible",children:r.children},y),i=ir(i,y,a,null),i.flags|=2,r.return=s,i.return=s,r.sibling=i,s.child=r,Ka(s,t.child,null,a),r=s.child,r.memoizedState=Yo(a),r.childLanes=Xo(t,h,a),s.memoizedState=Vo,s=i);else if(Na(s),y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var G=h.dgst;h=G,r=Error(c(419)),r.stack="",r.digest=h,vn({value:r,source:null,stack:null}),s=Ko(t,s,a)}else if(Ht||zn(t,s,a,!1),h=(a&t.childLanes)!==0,Ht||h){if(h=Nt,h!==null){if(r=a&-a,(r&42)!==0)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=(r&(h.suspendedLanes|a))!==0?0:r,r!==0&&r!==A.retryLane)throw A.retryLane=r,ja(t,r),as(h,t,r),Au}y.data==="$?"||Ec(),s=Ko(t,s,a)}else y.data==="$?"?(s.flags|=128,s.child=t.child,s=lg.bind(null,t),y._reactRetry=s,s=null):(t=A.treeContext,Vt=Is(y.nextSibling),ss=s,xt=!0,Os=null,Vs=!1,t!==null&&(Cs[ks++]=sa,Cs[ks++]=aa,Cs[ks++]=Xa,sa=t.id,aa=t.overflow,Xa=s),s=Qo(s,r.children),s.flags|=4096);return s}return i?(wa(),i=r.fallback,y=s.mode,A=t.child,G=A.sibling,r=Ma(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&31457280,G!==null?i=Ma(G,i):(i=ir(i,y,a,null),i.flags|=2),i.return=s,r.return=s,r.sibling=i,s.child=r,r=i,i=s.child,y=t.child.memoizedState,y===null?y=Yo(a):(A=y.cachePool,A!==null?(G=It._currentValue,A=A.parent!==G?{parent:G,pool:G}:A):A=Im(),y={baseLanes:y.baseLanes|a,cachePool:A}),i.memoizedState=y,i.childLanes=Xo(t,h,a),s.memoizedState=Vo,r):(Na(s),a=t.child,t=a.sibling,a=Ma(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(h=s.deletions,h===null?(s.deletions=[t],s.flags|=16):h.push(t)),s.child=a,s.memoizedState=null,a)}function Qo(t,s){return s=Zo({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Zo(t,s){return d0(t,s,0,null)}function Ko(t,s,a){return Ka(s,t.child,null,a),t=Qo(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Iu(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),tc(t.return,s,a)}function Jo(t,s,a,r,i){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:i}:(d.isBackwards=s,d.rendering=null,d.renderingStartTime=0,d.last=r,d.tail=a,d.tailMode=i)}function Pu(t,s,a){var r=s.pendingProps,i=r.revealOrder,d=r.tail;if(Yt(t,s,r.children,a),r=Bt.current,(r&2)!==0)r=r&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iu(t,a,s);else if(t.tag===19)Iu(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(re(Bt,r),i){case"forwards":for(a=s.child,i=null;a!==null;)t=a.alternate,t!==null&&Oi(t)===null&&(i=a),a=a.sibling;a=i,a===null?(i=s.child,s.child=null):(i=a.sibling,a.sibling=null),Jo(s,!1,i,a,d);break;case"backwards":for(a=null,i=s.child,s.child=null;i!==null;){if(t=i.alternate,t!==null&&Oi(t)===null){s.child=i;break}t=i.sibling,i.sibling=a,a=i,i=t}Jo(s,!0,a,null,d);break;case"together":Jo(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ia(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),$a|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(zn(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(c(153));if(s.child!==null){for(t=s.child,a=Ma(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ma(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Wo(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qi(t)))}function Yf(t,s,a){switch(s.tag){case 3:Le(s,s.stateNode.containerInfo),Da(s,It,t.memoizedState.cache),yn();break;case 27:case 5:Je(s);break;case 4:Le(s,s.stateNode.containerInfo);break;case 10:Da(s,s.type,s.memoizedProps.value);break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(Na(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Bu(t,s,a):(Na(s),t=ia(t,s,a),t!==null?t.sibling:null);Na(s);break;case 19:var i=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(zn(t,s,a,!1),r=(a&s.childLanes)!==0),i){if(r)return Pu(t,s,a);s.flags|=128}if(i=s.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(Bt,Bt.current),r)break;return null;case 22:case 23:return s.lanes=0,Mu(t,s,a);case 24:Da(s,It,t.memoizedState.cache)}return ia(t,s,a)}function qu(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Wo(t,a)&&(s.flags&128)===0)return Ht=!1,Yf(t,s,a);Ht=(t.flags&131072)!==0}else Ht=!1,xt&&(s.flags&1048576)!==0&&Em(s,Ti,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var r=s.elementType,i=r._init;if(r=i(r._payload),s.type=r,typeof r=="function")xc(r)?(t=sr(r,t),s.tag=1,s=Lu(null,s,r,t,a)):(s.tag=0,s=Go(null,s,r,t,a));else{if(r!=null){if(i=r.$$typeof,i===E){s.tag=11,s=Ru(null,s,r,t,a);break e}else if(i===C){s.tag=14,s=zu(null,s,r,t,a);break e}}throw s=Y(r)||r,Error(c(306,s,""))}}return s;case 0:return Go(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,i=sr(r,s.pendingProps),Lu(t,s,r,i,a);case 3:e:{if(Le(s,s.stateNode.containerInfo),t===null)throw Error(c(387));var d=s.pendingProps;i=s.memoizedState,r=i.element,rc(t,s),$n(s,d,null,a);var h=s.memoizedState;if(d=h.cache,Da(s,It,d),d!==i.cache&&sc(s,[It],a,!0),Mn(),d=h.element,i.isDehydrated)if(i={element:d,isDehydrated:!1,cache:h.cache},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){s=Ou(t,s,d,a);break e}else if(d!==r){r=Ds(Error(c(424)),s),vn(r),s=Ou(t,s,d,a);break e}else for(Vt=Is(s.stateNode.containerInfo.firstChild),ss=s,xt=!0,Os=null,Vs=!0,a=$m(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(yn(),d===r){s=ia(t,s,a);break e}Yt(t,s,d,a)}s=s.child}return s;case 26:return Rn(t,s),t===null?(a=F0(s.type,null,s.pendingProps,null))?s.memoizedState=a:xt||(a=s.type,t=s.pendingProps,r=ml(xe.current).createElement(a),r[ie]=s,r[Me]=t,Xt(r,a,t),Ut(r),s.stateNode=r):s.memoizedState=F0(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Je(s),t===null&&xt&&(r=s.stateNode=q0(s.type,s.pendingProps,xe.current),ss=s,Vs=!0,Vt=Is(r.firstChild)),r=s.pendingProps.children,t!==null||xt?Yt(t,s,r,a):s.child=Ka(s,null,r,a),Rn(t,s),s.child;case 5:return t===null&&xt&&((i=r=Vt)&&(r=wg(r,s.type,s.pendingProps,Vs),r!==null?(s.stateNode=r,ss=s,Vt=Is(r.firstChild),Vs=!1,i=!0):i=!1),i||Za(s)),Je(s),i=s.type,d=s.pendingProps,h=t!==null?t.memoizedProps:null,r=d.children,Ic(i,d)?r=null:h!==null&&Ic(i,h)&&(s.flags|=32),s.memoizedState!==null&&(i=Co(t,s,Pf,null,null,a),Qn._currentValue=i),Rn(t,s),Yt(t,s,r,a),s.child;case 6:return t===null&&xt&&((t=a=Vt)&&(a=Sg(a,s.pendingProps,Vs),a!==null?(s.stateNode=a,ss=s,Vt=null,t=!0):t=!1),t||Za(s)),null;case 13:return Bu(t,s,a);case 4:return Le(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=Ka(s,null,r,a):Yt(t,s,r,a),s.child;case 11:return Ru(t,s,s.type,s.pendingProps,a);case 7:return Yt(t,s,s.pendingProps,a),s.child;case 8:return Yt(t,s,s.pendingProps.children,a),s.child;case 12:return Yt(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,Da(s,s.type,r.value),Yt(t,s,r.children,a),s.child;case 9:return i=s.type._context,r=s.pendingProps.children,rr(s),i=Jt(i),r=r(i),s.flags|=1,Yt(t,s,r,a),s.child;case 14:return zu(t,s,s.type,s.pendingProps,a);case 15:return Tu(t,s,s.type,s.pendingProps,a);case 19:return Pu(t,s,a);case 22:return Mu(t,s,a);case 24:return rr(s),r=Jt(It),t===null?(i=Eo(),i===null&&(i=Nt,d=wo(),i.pooledCache=d,d.refCount++,d!==null&&(i.pooledCacheLanes|=a),i=d),s.memoizedState={parent:r,cache:i},ac(s),Da(s,It,i)):((t.lanes&a)!==0&&(rc(t,s),$n(s,null,null,a),Mn()),i=t.memoizedState,d=s.memoizedState,i.parent!==r?(i={parent:r,cache:r},s.memoizedState=i,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=i),Da(s,It,r)):(r=d.cache,Da(s,It,r),r!==i.cache&&sc(s,[It],a,!0))),Yt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(c(156,s.tag))}var ec=be(null),ar=null,la=null;function Da(t,s,a){re(ec,s._currentValue),s._currentValue=a}function oa(t){t._currentValue=ec.current,Ae(ec)}function tc(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function sc(t,s,a,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var d=i.dependencies;if(d!==null){var h=i.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=i;for(var A=0;A<s.length;A++)if(y.context===s[A]){d.lanes|=a,y=d.alternate,y!==null&&(y.lanes|=a),tc(d.return,a,t),r||(h=null);break e}d=y.next}}else if(i.tag===18){if(h=i.return,h===null)throw Error(c(341));h.lanes|=a,d=h.alternate,d!==null&&(d.lanes|=a),tc(h,a,t),h=null}else h=i.child;if(h!==null)h.return=i;else for(h=i;h!==null;){if(h===t){h=null;break}if(i=h.sibling,i!==null){i.return=h.return,h=i;break}h=h.return}i=h}}function zn(t,s,a,r){t=null;for(var i=s,d=!1;i!==null;){if(!d){if((i.flags&524288)!==0)d=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var h=i.alternate;if(h===null)throw Error(c(387));if(h=h.memoizedProps,h!==null){var y=i.type;xs(i.pendingProps.value,h.value)||(t!==null?t.push(y):t=[y])}}else if(i===Be.current){if(h=i.alternate,h===null)throw Error(c(387));h.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Qn):t=[Qn])}i=i.return}t!==null&&sc(s,t,a,r),s.flags|=262144}function Qi(t){for(t=t.firstContext;t!==null;){if(!xs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rr(t){ar=t,la=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Uu(ar,t)}function Zi(t,s){return ar===null&&rr(t),Uu(t,s)}function Uu(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},la===null){if(t===null)throw Error(c(308));la=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else la=la.next=s;return a}var Ca=!1;function ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ka(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(kt&2)!==0){var i=r.pending;return i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s,s=Ri(t),wm(t,null,a),s}return Ai(t,r,s,a),Ri(t)}function Tn(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,Gs(t,a)}}function nc(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var i=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?i=d=h:d=d.next=h,a=a.next}while(a!==null);d===null?i=d=s:d=d.next=s}else i=d=s;a={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var ic=!1;function Mn(){if(ic){var t=Lr;if(t!==null)throw t}}function $n(t,s,a,r){ic=!1;var i=t.updateQueue;Ca=!1;var d=i.firstBaseUpdate,h=i.lastBaseUpdate,y=i.shared.pending;if(y!==null){i.shared.pending=null;var A=y,G=A.next;A.next=null,h===null?d=G:h.next=G,h=A;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,y=ye.lastBaseUpdate,y!==h&&(y===null?ye.firstBaseUpdate=G:y.next=G,ye.lastBaseUpdate=A))}if(d!==null){var ke=i.baseState;h=0,ye=G=A=null,y=d;do{var le=y.lane&-536870913,ge=le!==y.lane;if(ge?(ut&le)===le:(r&le)===le){le!==0&&le===_r&&(ic=!0),ye!==null&&(ye=ye.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Fe=t,Ze=y;le=s;var Mt=a;switch(Ze.tag){case 1:if(Fe=Ze.payload,typeof Fe=="function"){ke=Fe.call(Mt,ke,le);break e}ke=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ze.payload,le=typeof Fe=="function"?Fe.call(Mt,ke,le):Fe,le==null)break e;ke=$({},ke,le);break e;case 2:Ca=!0}}le=y.callback,le!==null&&(t.flags|=64,ge&&(t.flags|=8192),ge=i.callbacks,ge===null?i.callbacks=[le]:ge.push(le))}else ge={lane:le,tag:y.tag,payload:y.payload,callback:y.callback,next:null},ye===null?(G=ye=ge,A=ke):ye=ye.next=ge,h|=le;if(y=y.next,y===null){if(y=i.shared.pending,y===null)break;ge=y,y=ge.next,ge.next=null,i.lastBaseUpdate=ge,i.shared.pending=null}}while(!0);ye===null&&(A=ke),i.baseState=A,i.firstBaseUpdate=G,i.lastBaseUpdate=ye,d===null&&(i.shared.lanes=0),$a|=h,t.lanes=h,t.memoizedState=ke}}function Hu(t,s){if(typeof t!="function")throw Error(c(191,t));t.call(s)}function Fu(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hu(a[t],s)}function _n(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var i=r.next;a=i;do{if((a.tag&t)===t){r=void 0;var d=a.create,h=a.inst;r=d(),h.destroy=r}a=a.next}while(a!==i)}}catch(y){jt(s,s.return,y)}}function Ra(t,s,a){try{var r=s.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var d=i.next;r=d;do{if((r.tag&t)===t){var h=r.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,i=s;var A=a;try{y()}catch(G){jt(i,A,G)}}}r=r.next}while(r!==d)}}catch(G){jt(s,s.return,G)}}function Gu(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Fu(s,a)}catch(r){jt(t,t.return,r)}}}function Vu(t,s,a){a.props=sr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){jt(t,s,r)}}function nr(t,s){try{var a=t.ref;if(a!==null){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var i=r;break;default:i=r}typeof a=="function"?t.refCleanup=a(i):a.current=i}}catch(d){jt(t,s,d)}}function hs(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(i){jt(t,s,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){jt(t,s,i)}else a.current=null}function Yu(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(i){jt(t,t.return,i)}}function Xu(t,s,a){try{var r=t.stateNode;bg(r,t.type,a,s),r[Me]=s}catch(i){jt(t,t.return,i)}}function Qu(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function lc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oc(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=dl));else if(r!==4&&r!==27&&(t=t.child,t!==null))for(oc(t,s,a),t=t.sibling;t!==null;)oc(t,s,a),t=t.sibling}function Ki(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&r!==27&&(t=t.child,t!==null))for(Ki(t,s,a),t=t.sibling;t!==null;)Ki(t,s,a),t=t.sibling}var ca=!1,zt=!1,cc=!1,Zu=typeof WeakSet=="function"?WeakSet:Set,Ft=null,Ku=!1;function Xf(t,s){if(t=t.containerInfo,Oc=pl,t=hm(t),mo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var i=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var h=0,y=-1,A=-1,G=0,ye=0,ke=t,le=null;t:for(;;){for(var ge;ke!==a||i!==0&&ke.nodeType!==3||(y=h+i),ke!==d||r!==0&&ke.nodeType!==3||(A=h+r),ke.nodeType===3&&(h+=ke.nodeValue.length),(ge=ke.firstChild)!==null;)le=ke,ke=ge;for(;;){if(ke===t)break t;if(le===a&&++G===i&&(y=h),le===d&&++ye===r&&(A=h),(ge=ke.nextSibling)!==null)break;ke=le,le=ke.parentNode}ke=ge}a=y===-1||A===-1?null:{start:y,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bc={focusedElem:t,selectionRange:a},pl=!1,Ft=s;Ft!==null;)if(s=Ft,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ft=t;else for(;Ft!==null;){switch(s=Ft,d=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,i=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var Fe=sr(a.type,i,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(Fe,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(Ze){jt(a,a.return,Ze)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Uc(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(c(163))}if(t=s.sibling,t!==null){t.return=s.return,Ft=t;break}Ft=s.return}return Fe=Ku,Ku=!1,Fe}function Ju(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:ma(t,a),r&4&&_n(5,a);break;case 1:if(ma(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(y){jt(a,a.return,y)}else{var i=sr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(i,s,t.__reactInternalSnapshotBeforeUpdate)}catch(y){jt(a,a.return,y)}}r&64&&Gu(a),r&512&&nr(a,a.return);break;case 3:if(ma(t,a),r&64&&(r=a.updateQueue,r!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fu(r,t)}catch(y){jt(a,a.return,y)}}break;case 26:ma(t,a),r&512&&nr(a,a.return);break;case 27:case 5:ma(t,a),s===null&&r&4&&Yu(a),r&512&&nr(a,a.return);break;case 12:ma(t,a);break;case 13:ma(t,a),r&4&&t0(t,a);break;case 22:if(i=a.memoizedState!==null||ca,!i){s=s!==null&&s.memoizedState!==null||zt;var d=ca,h=zt;ca=i,(zt=s)&&!h?za(t,a,(a.subtreeFlags&8772)!==0):ma(t,a),ca=d,zt=h}r&512&&(a.memoizedProps.mode==="manual"?nr(a,a.return):hs(a,a.return));break;default:ma(t,a)}}function Wu(t){var s=t.alternate;s!==null&&(t.alternate=null,Wu(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ln(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,fs=!1;function da(t,s,a){for(a=a.child;a!==null;)e0(t,s,a),a=a.sibling}function e0(t,s,a){if(ce&&typeof ce.onCommitFiberUnmount=="function")try{ce.onCommitFiberUnmount(we,a)}catch{}switch(a.tag){case 26:zt||hs(a,s),da(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:zt||hs(a,s);var r=Ot,i=fs;for(Ot=a.stateNode,da(t,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);ln(a),Ot=r,fs=i;break;case 5:zt||hs(a,s);case 6:i=Ot;var d=fs;if(Ot=null,da(t,s,a),Ot=i,fs=d,Ot!==null)if(fs)try{t=Ot,r=a.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)}catch(h){jt(a,s,h)}else try{Ot.removeChild(a.stateNode)}catch(h){jt(a,s,h)}break;case 18:Ot!==null&&(fs?(s=Ot,a=a.stateNode,s.nodeType===8?qc(s.parentNode,a):s.nodeType===1&&qc(s,a),Wn(s)):qc(Ot,a.stateNode));break;case 4:r=Ot,i=fs,Ot=a.stateNode.containerInfo,fs=!0,da(t,s,a),Ot=r,fs=i;break;case 0:case 11:case 14:case 15:zt||Ra(2,a,s),zt||Ra(4,a,s),da(t,s,a);break;case 1:zt||(hs(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Vu(a,s,r)),da(t,s,a);break;case 21:da(t,s,a);break;case 22:zt||hs(a,s),zt=(r=zt)||a.memoizedState!==null,da(t,s,a),zt=r;break;default:da(t,s,a)}}function t0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wn(t)}catch(a){jt(s,s.return,a)}}function Qf(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Zu),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Zu),s;default:throw Error(c(435,t.tag))}}function dc(t,s){var a=Qf(t);s.forEach(function(r){var i=og.bind(null,t,r);a.has(r)||(a.add(r),r.then(i,i))})}function Rs(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var i=a[r],d=t,h=s,y=h;e:for(;y!==null;){switch(y.tag){case 27:case 5:Ot=y.stateNode,fs=!1;break e;case 3:Ot=y.stateNode.containerInfo,fs=!0;break e;case 4:Ot=y.stateNode.containerInfo,fs=!0;break e}y=y.return}if(Ot===null)throw Error(c(160));e0(d,h,i),Ot=null,fs=!1,d=i.alternate,d!==null&&(d.return=null),i.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s0(s,t),s=s.sibling}var Bs=null;function s0(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rs(s,t),zs(t),r&4&&(Ra(3,t,t.return),_n(3,t),Ra(5,t,t.return));break;case 1:Rs(s,t),zs(t),r&512&&(zt||a===null||hs(a,a.return)),r&64&&ca&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var i=Bs;if(Rs(s,t),zs(t),r&512&&(zt||a===null||hs(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":d=i.getElementsByTagName("title")[0],(!d||d[Ua]||d[ie]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=i.createElement(r),i.head.insertBefore(d,i.querySelector("head > title"))),Xt(d,r,a),d[ie]=t,Ut(d),r=d;break e;case"link":var h=Y0("link","href",i).get(r+(a.href||""));if(h){for(var y=0;y<h.length;y++)if(d=h[y],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(y,1);break t}}d=i.createElement(r),Xt(d,r,a),i.head.appendChild(d);break;case"meta":if(h=Y0("meta","content",i).get(r+(a.content||""))){for(y=0;y<h.length;y++)if(d=h[y],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(y,1);break t}}d=i.createElement(r),Xt(d,r,a),i.head.appendChild(d);break;default:throw Error(c(468,r))}d[ie]=t,Ut(d),r=d}t.stateNode=r}else X0(i,t.type,t.stateNode);else t.stateNode=V0(i,r,t.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?X0(i,t.type,t.stateNode):V0(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Xu(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(r&4&&t.alternate===null){i=t.stateNode,d=t.memoizedProps;try{for(var A=i.firstChild;A;){var G=A.nextSibling,ye=A.nodeName;A[Ua]||ye==="HEAD"||ye==="BODY"||ye==="SCRIPT"||ye==="STYLE"||ye==="LINK"&&A.rel.toLowerCase()==="stylesheet"||i.removeChild(A),A=G}for(var ke=t.type,le=i.attributes;le.length;)i.removeAttributeNode(le[0]);Xt(i,ke,d),i[ie]=t,i[Me]=d}catch(Fe){jt(t,t.return,Fe)}}case 5:if(Rs(s,t),zs(t),r&512&&(zt||a===null||hs(a,a.return)),t.flags&32){i=t.stateNode;try{wr(i,"")}catch(Fe){jt(t,t.return,Fe)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Xu(t,i,a!==null?a.memoizedProps:i)),r&1024&&(cc=!0);break;case 6:if(Rs(s,t),zs(t),r&4){if(t.stateNode===null)throw Error(c(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(Fe){jt(t,t.return,Fe)}}break;case 3:if(hl=null,i=Bs,Bs=ul(s.containerInfo),Rs(s,t),Bs=i,zs(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Wn(s.containerInfo)}catch(Fe){jt(t,t.return,Fe)}cc&&(cc=!1,a0(t));break;case 4:r=Bs,Bs=ul(t.stateNode.containerInfo),Rs(s,t),zs(t),Bs=r;break;case 12:Rs(s,t),zs(t);break;case 13:Rs(s,t),zs(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yc=Ee()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,dc(t,r)));break;case 22:if(r&512&&(zt||a===null||hs(a,a.return)),A=t.memoizedState!==null,G=a!==null&&a.memoizedState!==null,ye=ca,ke=zt,ca=ye||A,zt=ke||G,Rs(s,t),zt=ke,ca=ye,zs(t),s=t.stateNode,s._current=t,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,r&8192&&(s._visibility=A?s._visibility&-2:s._visibility|1,A&&(s=ca||zt,a===null||G||s||Pr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,s=t;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){G=a=s;try{if(i=G.stateNode,A)d=i.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{h=G.stateNode,y=G.memoizedProps.style;var ge=y!=null&&y.hasOwnProperty("display")?y.display:null;h.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Fe){jt(G,G.return,Fe)}}}else if(s.tag===6){if(a===null){G=s;try{G.stateNode.nodeValue=A?"":G.memoizedProps}catch(Fe){jt(G,G.return,Fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,dc(t,a))));break;case 19:Rs(s,t),zs(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,dc(t,r)));break;case 21:break;default:Rs(s,t),zs(t)}}function zs(t){var s=t.flags;if(s&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Qu(a)){var r=a;break e}a=a.return}throw Error(c(160))}switch(r.tag){case 27:var i=r.stateNode,d=lc(t);Ki(t,d,i);break;case 5:var h=r.stateNode;r.flags&32&&(wr(h,""),r.flags&=-33);var y=lc(t);Ki(t,y,h);break;case 3:case 4:var A=r.stateNode.containerInfo,G=lc(t);oc(t,G,A);break;default:throw Error(c(161))}}}catch(ye){jt(t,t.return,ye)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function a0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ma(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ju(t,s.alternate,s),s=s.sibling}function Pr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ra(4,s,s.return),Pr(s);break;case 1:hs(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Vu(s,s.return,a),Pr(s);break;case 26:case 27:case 5:hs(s,s.return),Pr(s);break;case 22:hs(s,s.return),s.memoizedState===null&&Pr(s);break;default:Pr(s)}t=t.sibling}}function za(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,i=t,d=s,h=d.flags;switch(d.tag){case 0:case 11:case 15:za(i,d,a),_n(4,d);break;case 1:if(za(i,d,a),r=d,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(G){jt(r,r.return,G)}if(r=d,i=r.updateQueue,i!==null){var y=r.stateNode;try{var A=i.shared.hiddenCallbacks;if(A!==null)for(i.shared.hiddenCallbacks=null,i=0;i<A.length;i++)Hu(A[i],y)}catch(G){jt(r,r.return,G)}}a&&h&64&&Gu(d),nr(d,d.return);break;case 26:case 27:case 5:za(i,d,a),a&&r===null&&h&4&&Yu(d),nr(d,d.return);break;case 12:za(i,d,a);break;case 13:za(i,d,a),a&&h&4&&t0(i,d);break;case 22:d.memoizedState===null&&za(i,d,a),nr(d,d.return);break;default:za(i,d,a)}s=s.sibling}}function mc(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&En(a))}function uc(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&En(t))}function Ta(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)r0(t,s,a,r),s=s.sibling}function r0(t,s,a,r){var i=s.flags;switch(s.tag){case 0:case 11:case 15:Ta(t,s,a,r),i&2048&&_n(9,s);break;case 3:Ta(t,s,a,r),i&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&En(t)));break;case 12:if(i&2048){Ta(t,s,a,r),t=s.stateNode;try{var d=s.memoizedProps,h=d.id,y=d.onPostCommit;typeof y=="function"&&y(h,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){jt(s,s.return,A)}}else Ta(t,s,a,r);break;case 23:break;case 22:d=s.stateNode,s.memoizedState!==null?d._visibility&4?Ta(t,s,a,r):Ln(t,s):d._visibility&4?Ta(t,s,a,r):(d._visibility|=4,qr(t,s,a,r,(s.subtreeFlags&10256)!==0)),i&2048&&mc(s.alternate,s);break;case 24:Ta(t,s,a,r),i&2048&&uc(s.alternate,s);break;default:Ta(t,s,a,r)}}function qr(t,s,a,r,i){for(i=i&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var d=t,h=s,y=a,A=r,G=h.flags;switch(h.tag){case 0:case 11:case 15:qr(d,h,y,A,i),_n(8,h);break;case 23:break;case 22:var ye=h.stateNode;h.memoizedState!==null?ye._visibility&4?qr(d,h,y,A,i):Ln(d,h):(ye._visibility|=4,qr(d,h,y,A,i)),i&&G&2048&&mc(h.alternate,h);break;case 24:qr(d,h,y,A,i),i&&G&2048&&uc(h.alternate,h);break;default:qr(d,h,y,A,i)}s=s.sibling}}function Ln(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,i=r.flags;switch(r.tag){case 22:Ln(a,r),i&2048&&mc(r.alternate,r);break;case 24:Ln(a,r),i&2048&&uc(r.alternate,r);break;default:Ln(a,r)}s=s.sibling}}var On=8192;function Ur(t){if(t.subtreeFlags&On)for(t=t.child;t!==null;)n0(t),t=t.sibling}function n0(t){switch(t.tag){case 26:Ur(t),t.flags&On&&t.memoizedState!==null&&Og(Bs,t.memoizedState,t.memoizedProps);break;case 5:Ur(t);break;case 3:case 4:var s=Bs;Bs=ul(t.stateNode.containerInfo),Ur(t),Bs=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=On,On=16777216,Ur(t),On=s):Ur(t));break;default:Ur(t)}}function i0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Bn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];Ft=r,o0(r,t)}i0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l0(t),t=t.sibling}function l0(t){switch(t.tag){case 0:case 11:case 15:Bn(t),t.flags&2048&&Ra(9,t,t.return);break;case 3:Bn(t);break;case 12:Bn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&4&&(t.return===null||t.return.tag!==13)?(s._visibility&=-5,Ji(t)):Bn(t);break;default:Bn(t)}}function Ji(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];Ft=r,o0(r,t)}i0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ra(8,s,s.return),Ji(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,Ji(s));break;default:Ji(s)}t=t.sibling}}function o0(t,s){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Ra(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:En(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,Ft=r;else e:for(a=t;Ft!==null;){r=Ft;var i=r.sibling,d=r.return;if(Wu(r),r===a){Ft=null;break e}if(i!==null){i.return=d,Ft=i;break e}Ft=d}}}function Zf(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(t,s,a,r){return new Zf(t,s,a,r)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ma(t,s){var a=t.alternate;return a===null?(a=Ts(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function c0(t,s){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Wi(t,s,a,r,i,d){var h=0;if(r=t,typeof t=="function")xc(t)&&(h=1);else if(typeof t=="string")h=_g(t,a,Se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ir(a.children,i,d,s);case g:h=8,i|=24;break;case v:return t=Ts(12,a,s,i|2),t.elementType=v,t.lanes=d,t;case _:return t=Ts(13,a,s,i),t.elementType=_,t.lanes=d,t;case D:return t=Ts(19,a,s,i),t.elementType=D,t.lanes=d,t;case T:return d0(a,i,d,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case w:h=10;break e;case R:h=9;break e;case E:h=11;break e;case C:h=14;break e;case L:h=16,r=null;break e}h=29,a=Error(c(130,t===null?"null":typeof t,"")),r=null}return s=Ts(h,a,s,i),s.elementType=t,s.type=r,s.lanes=d,s}function ir(t,s,a,r){return t=Ts(7,t,r,s),t.lanes=a,t}function d0(t,s,a,r){t=Ts(22,t,r,s),t.elementType=T,t.lanes=a;var i={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=i._current;if(d===null)throw Error(c(456));if((i._pendingVisibility&2)===0){var h=ja(d,2);h!==null&&(i._pendingVisibility|=2,as(h,d,2))}},attach:function(){var d=i._current;if(d===null)throw Error(c(456));if((i._pendingVisibility&2)!==0){var h=ja(d,2);h!==null&&(i._pendingVisibility&=-3,as(h,d,2))}}};return t.stateNode=i,t}function hc(t,s,a){return t=Ts(6,t,null,s),t.lanes=a,t}function fc(t,s,a){return s=Ts(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function ua(t){t.flags|=4}function m0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q0(s)){if(s=As.current,s!==null&&((ut&4194176)===ut?Ys!==null:(ut&62914560)!==ut&&(ut&536870912)===0||s!==Ys))throw Nn=vo,km;t.flags|=8192}}function el(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ns():536870912,t.lanes|=s,Fr|=s)}function In(t,s){if(!xt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ct(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var i=t.child;i!==null;)a|=i.lanes|i.childLanes,r|=i.subtreeFlags&31457280,r|=i.flags&31457280,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)a|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function Kf(t,s,a){var r=s.pendingProps;switch(bo(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),oa(It),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(bn(s)?ua(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Os!==null&&(wc(Os),Os=null))),Ct(s),null;case 26:return a=s.memoizedState,t===null?(ua(s),a!==null?(Ct(s),m0(s,a)):(Ct(s),s.flags&=-16777217)):a?a!==t.memoizedState?(ua(s),Ct(s),m0(s,a)):(Ct(s),s.flags&=-16777217):(t.memoizedProps!==r&&ua(s),Ct(s),s.flags&=-16777217),null;case 27:at(s),a=xe.current;var i=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==r&&ua(s);else{if(!r){if(s.stateNode===null)throw Error(c(166));return Ct(s),null}t=Se.current,bn(s)?Dm(s):(t=q0(i,r,a),s.stateNode=t,ua(s))}return Ct(s),null;case 5:if(at(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&ua(s);else{if(!r){if(s.stateNode===null)throw Error(c(166));return Ct(s),null}if(t=Se.current,bn(s))Dm(s);else{switch(i=ml(xe.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(a,{is:r.is}):i.createElement(a)}}t[ie]=s,t[Me]=r;e:for(i=s.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}s.stateNode=t;e:switch(Xt(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ua(s)}}return Ct(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&ua(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(c(166));if(t=xe.current,bn(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,i=ss,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[ie]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||_0(t.nodeValue,a)),t||Za(s)}else t=ml(t).createTextNode(r),t[ie]=s,s.stateNode=t}return Ct(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=bn(s),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(c(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[ie]=s}else yn(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),i=!1}else Os!==null&&(wc(Os),Os=null),i=!0;if(!i)return s.flags&256?(ra(s),s):(ra(s),null)}if(ra(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=s.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var d=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==i&&(r.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),el(s,s.updateQueue),Ct(s),null;case 4:return et(),t===null&&$c(s.stateNode.containerInfo),Ct(s),null;case 10:return oa(s.type),Ct(s),null;case 19:if(Ae(Bt),i=s.memoizedState,i===null)return Ct(s),null;if(r=(s.flags&128)!==0,d=i.rendering,d===null)if(r)In(i,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Oi(t),d!==null){for(s.flags|=128,In(i,!1),t=d.updateQueue,s.updateQueue=t,el(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)c0(a,t),a=a.sibling;return re(Bt,Bt.current&1|2),s.child}t=t.sibling}i.tail!==null&&Ee()>tl&&(s.flags|=128,r=!0,In(i,!1),s.lanes=4194304)}else{if(!r)if(t=Oi(d),t!==null){if(s.flags|=128,r=!0,t=t.updateQueue,s.updateQueue=t,el(s,t),In(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!xt)return Ct(s),null}else 2*Ee()-i.renderingStartTime>tl&&a!==536870912&&(s.flags|=128,r=!0,In(i,!1),s.lanes=4194304);i.isBackwards?(d.sibling=s.child,s.child=d):(t=i.last,t!==null?t.sibling=d:s.child=d,i.last=d)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Ee(),s.sibling=null,t=Bt.current,re(Bt,r?t&1|2:t&1),s):(Ct(s),null);case 22:case 23:return ra(s),No(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),a=s.updateQueue,a!==null&&el(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&Ae(Ja),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),oa(It),Ct(s),null;case 25:return null}throw Error(c(156,s.tag))}function Jf(t,s){switch(bo(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return oa(It),et(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return at(s),null;case 13:if(ra(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(c(340));yn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Ae(Bt),null;case 4:return et(),null;case 10:return oa(s.type),null;case 22:case 23:return ra(s),No(),t!==null&&Ae(Ja),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return oa(It),null;case 25:return null;default:return null}}function u0(t,s){switch(bo(s),s.tag){case 3:oa(It),et();break;case 26:case 27:case 5:at(s);break;case 4:et();break;case 13:ra(s);break;case 19:Ae(Bt);break;case 10:oa(s.type);break;case 22:case 23:ra(s),No(),t!==null&&Ae(Ja);break;case 24:oa(It)}}var Wf={getCacheForType:function(t){var s=Jt(It),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},eg=typeof WeakMap=="function"?WeakMap:Map,kt=0,Nt=null,lt=null,ut=0,wt=0,gs=null,xa=!1,Hr=!1,gc=!1,ha=0,Tt=0,$a=0,lr=0,pc=0,Ms=0,Fr=0,Pn=null,Qs=null,bc=!1,yc=0,tl=1/0,sl=null,_a=null,al=!1,or=null,qn=0,vc=0,jc=null,Un=0,Nc=null;function ps(){if((kt&2)!==0&&ut!==0)return ut&-ut;if(F.T!==null){var t=_r;return t!==0?t:Rc()}return nn()}function x0(){Ms===0&&(Ms=(ut&536870912)===0||xt?vt():536870912);var t=As.current;return t!==null&&(t.flags|=32),Ms}function as(t,s,a){(t===Nt&&wt===2||t.cancelPendingCommit!==null)&&(Gr(t,0),fa(t,ut,Ms,!1)),qt(t,a),((kt&2)===0||t!==Nt)&&(t===Nt&&((kt&2)===0&&(lr|=a),Tt===4&&fa(t,ut,Ms,!1)),Zs(t))}function h0(t,s,a){if((kt&6)!==0)throw Error(c(327));var r=!a&&(s&60)===0&&(s&t.expiredLanes)===0||Et(t,s),i=r?ag(t,s):Dc(t,s,!0),d=r;do{if(i===0){Hr&&!r&&fa(t,s,0,!1);break}else if(i===6)fa(t,s,0,!xa);else{if(a=t.current.alternate,d&&!tg(a)){i=Dc(t,s,!1),d=!1;continue}if(i===2){if(d=s,t.errorRecoveryDisabledLanes&d)var h=0;else h=t.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){s=h;e:{var y=t;i=Pn;var A=y.current.memoizedState.isDehydrated;if(A&&(Gr(y,h).flags|=256),h=Dc(y,h,!1),h!==2){if(gc&&!A){y.errorRecoveryDisabledLanes|=d,lr|=d,i=4;break e}d=Qs,Qs=i,d!==null&&wc(d)}i=h}if(d=!1,i!==2)continue}}if(i===1){Gr(t,0),fa(t,s,0,!0);break}e:{switch(r=t,i){case 0:case 1:throw Error(c(345));case 4:if((s&4194176)===s){fa(r,s,Ms,!xa);break e}break;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(c(329))}if(r.finishedWork=a,r.finishedLanes=s,(s&62914560)===s&&(d=yc+300-Ee(),10<d)){if(fa(r,s,Ms,!xa),yt(r,0)!==0)break e;r.timeoutHandle=B0(f0.bind(null,r,a,Qs,sl,bc,s,Ms,lr,Fr,xa,2,-0,0),d);break e}f0(r,a,Qs,sl,bc,s,Ms,lr,Fr,xa,0,-0,0)}}break}while(!0);Zs(t)}function wc(t){Qs===null?Qs=t:Qs.push.apply(Qs,t)}function f0(t,s,a,r,i,d,h,y,A,G,ye,ke,le){var ge=s.subtreeFlags;if((ge&8192||(ge&16785408)===16785408)&&(Xn={stylesheets:null,count:0,unsuspend:Lg},n0(s),s=Bg(),s!==null)){t.cancelPendingCommit=s(N0.bind(null,t,a,r,i,h,y,A,1,ke,le)),fa(t,d,h,!G);return}N0(t,a,r,i,h,y,A,ye,ke,le)}function tg(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var i=a[r],d=i.getSnapshot;i=i.value;try{if(!xs(d(),i))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fa(t,s,a,r){s&=~pc,s&=~lr,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var i=s;0<i;){var d=31-Ye(i),h=1<<d;r[d]=-1,i&=~h}a!==0&&Zt(t,a,s)}function rl(){return(kt&6)===0?(Hn(0),!1):!0}function Sc(){if(lt!==null){if(wt===0)var t=lt.return;else t=lt,la=ar=null,Ro(t),Mr=null,wn=0,t=lt;for(;t!==null;)u0(t.alternate,t),t=t.return;lt=null}}function Gr(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vg(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Sc(),Nt=t,lt=a=Ma(t.current,null),ut=s,wt=0,gs=null,xa=!1,Hr=Et(t,s),gc=!1,Fr=Ms=pc=lr=$a=Tt=0,Qs=Pn=null,bc=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var i=31-Ye(r),d=1<<i;s|=t[i],r&=~d}return ha=s,ki(),a}function g0(t,s){rt=null,F.H=Xs,s===jn?(s=zm(),wt=3):s===km?(s=zm(),wt=4):wt=s===Au?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,gs=s,lt===null&&(Tt=1,Xi(t,Ds(s,t.current)))}function p0(){var t=F.H;return F.H=Xs,t===null?Xs:t}function b0(){var t=F.A;return F.A=Wf,t}function Ec(){Tt=4,xa||(ut&4194176)!==ut&&As.current!==null||(Hr=!0),($a&134217727)===0&&(lr&134217727)===0||Nt===null||fa(Nt,ut,Ms,!1)}function Dc(t,s,a){var r=kt;kt|=2;var i=p0(),d=b0();(Nt!==t||ut!==s)&&(sl=null,Gr(t,s)),s=!1;var h=Tt;e:do try{if(wt!==0&&lt!==null){var y=lt,A=gs;switch(wt){case 8:Sc(),h=6;break e;case 3:case 2:case 6:As.current===null&&(s=!0);var G=wt;if(wt=0,gs=null,Vr(t,y,A,G),a&&Hr){h=0;break e}break;default:G=wt,wt=0,gs=null,Vr(t,y,A,G)}}sg(),h=Tt;break}catch(ye){g0(t,ye)}while(!0);return s&&t.shellSuspendCounter++,la=ar=null,kt=r,F.H=i,F.A=d,lt===null&&(Nt=null,ut=0,ki()),h}function sg(){for(;lt!==null;)y0(lt)}function ag(t,s){var a=kt;kt|=2;var r=p0(),i=b0();Nt!==t||ut!==s?(sl=null,tl=Ee()+500,Gr(t,s)):Hr=Et(t,s);e:do try{if(wt!==0&&lt!==null){s=lt;var d=gs;t:switch(wt){case 1:wt=0,gs=null,Vr(t,s,d,1);break;case 2:if(Am(d)){wt=0,gs=null,v0(s);break}s=function(){wt===2&&Nt===t&&(wt=7),Zs(t)},d.then(s,s);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Am(d)?(wt=0,gs=null,v0(s)):(wt=0,gs=null,Vr(t,s,d,7));break;case 5:var h=null;switch(lt.tag){case 26:h=lt.memoizedState;case 5:case 27:var y=lt;if(!h||Q0(h)){wt=0,gs=null;var A=y.sibling;if(A!==null)lt=A;else{var G=y.return;G!==null?(lt=G,nl(G)):lt=null}break t}}wt=0,gs=null,Vr(t,s,d,5);break;case 6:wt=0,gs=null,Vr(t,s,d,6);break;case 8:Sc(),Tt=6;break e;default:throw Error(c(462))}}rg();break}catch(ye){g0(t,ye)}while(!0);return la=ar=null,F.H=r,F.A=i,kt=a,lt!==null?0:(Nt=null,ut=0,ki(),Tt)}function rg(){for(;lt!==null&&!se();)y0(lt)}function y0(t){var s=qu(t.alternate,t,ha);t.memoizedProps=t.pendingProps,s===null?nl(t):lt=s}function v0(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=_u(a,s,s.pendingProps,s.type,void 0,ut);break;case 11:s=_u(a,s,s.pendingProps,s.type.render,s.ref,ut);break;case 5:Ro(s);default:u0(a,s),s=lt=c0(s,ha),s=qu(a,s,ha)}t.memoizedProps=t.pendingProps,s===null?nl(t):lt=s}function Vr(t,s,a,r){la=ar=null,Ro(s),Mr=null,wn=0;var i=s.return;try{if(Vf(t,i,s,a,ut)){Tt=1,Xi(t,Ds(a,t.current)),lt=null;return}}catch(d){if(i!==null)throw lt=i,d;Tt=1,Xi(t,Ds(a,t.current)),lt=null;return}s.flags&32768?(xt||r===1?t=!0:Hr||(ut&536870912)!==0?t=!1:(xa=t=!0,(r===2||r===3||r===6)&&(r=As.current,r!==null&&r.tag===13&&(r.flags|=16384))),j0(s,t)):nl(s)}function nl(t){var s=t;do{if((s.flags&32768)!==0){j0(s,xa);return}t=s.return;var a=Kf(s.alternate,s,ha);if(a!==null){lt=a;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=t}while(s!==null);Tt===0&&(Tt=5)}function j0(t,s){do{var a=Jf(t.alternate,t);if(a!==null){a.flags&=32767,lt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){lt=t;return}lt=t=a}while(t!==null);Tt=6,lt=null}function N0(t,s,a,r,i,d,h,y,A,G){var ye=F.T,ke=P.p;try{P.p=2,F.T=null,ng(t,s,a,r,ke,i,d,h,y,A,G)}finally{F.T=ye,P.p=ke}}function ng(t,s,a,r,i,d,h,y){do Yr();while(or!==null);if((kt&6)!==0)throw Error(c(327));var A=t.finishedWork;if(r=t.finishedLanes,A===null)return null;if(t.finishedWork=null,t.finishedLanes=0,A===t.current)throw Error(c(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var G=A.lanes|A.childLanes;if(G|=fo,is(t,r,G,d,h,y),t===Nt&&(lt=Nt=null,ut=0),(A.subtreeFlags&10256)===0&&(A.flags&10256)===0||al||(al=!0,vc=G,jc=a,cg(De,function(){return Yr(),null})),a=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||a?(a=F.T,F.T=null,d=P.p,P.p=2,h=kt,kt|=4,Xf(t,A),s0(A,t),Af(Bc,t.containerInfo),pl=!!Oc,Bc=Oc=null,t.current=A,Ju(t,A.alternate,A),ve(),kt=h,P.p=d,F.T=a):t.current=A,al?(al=!1,or=t,qn=r):w0(t,G),G=t.pendingLanes,G===0&&(_a=null),_e(A.stateNode),Zs(t),s!==null)for(i=t.onRecoverableError,A=0;A<s.length;A++)G=s[A],i(G.value,{componentStack:G.stack});return(qn&3)!==0&&Yr(),G=t.pendingLanes,(r&4194218)!==0&&(G&42)!==0?t===Nc?Un++:(Un=0,Nc=t):Un=0,Hn(0),null}function w0(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,En(s)))}function Yr(){if(or!==null){var t=or,s=vc;vc=0;var a=us(qn),r=F.T,i=P.p;try{if(P.p=32>a?32:a,F.T=null,or===null)var d=!1;else{a=jc,jc=null;var h=or,y=qn;if(or=null,qn=0,(kt&6)!==0)throw Error(c(331));var A=kt;if(kt|=4,l0(h.current),r0(h,h.current,y,a),kt=A,Hn(0,!1),ce&&typeof ce.onPostCommitFiberRoot=="function")try{ce.onPostCommitFiberRoot(we,h)}catch{}d=!0}return d}finally{P.p=i,F.T=r,w0(t,s)}}return!1}function S0(t,s,a){s=Ds(a,s),s=Fo(t.stateNode,s,2),t=Aa(t,s,2),t!==null&&(qt(t,2),Zs(t))}function jt(t,s,a){if(t.tag===3)S0(t,t,a);else for(;s!==null;){if(s.tag===3){S0(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_a===null||!_a.has(r))){t=Ds(a,t),a=Cu(2),r=Aa(s,a,2),r!==null&&(ku(a,r,s,t),qt(r,2),Zs(r));break}}s=s.return}}function Cc(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new eg;var i=new Set;r.set(s,i)}else i=r.get(s),i===void 0&&(i=new Set,r.set(s,i));i.has(a)||(gc=!0,i.add(a),t=ig.bind(null,t,s,a),s.then(t,t))}function ig(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Nt===t&&(ut&a)===a&&(Tt===4||Tt===3&&(ut&62914560)===ut&&300>Ee()-yc?(kt&2)===0&&Gr(t,0):pc|=a,Fr===ut&&(Fr=0)),Zs(t)}function E0(t,s){s===0&&(s=ns()),t=ja(t,s),t!==null&&(qt(t,s),Zs(t))}function lg(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),E0(t,a)}function og(t,s){var a=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(a=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(c(314))}r!==null&&r.delete(s),E0(t,a)}function cg(t,s){return Oe(t,s)}var il=null,Xr=null,kc=!1,ll=!1,Ac=!1,cr=0;function Zs(t){t!==Xr&&t.next===null&&(Xr===null?il=Xr=t:Xr=Xr.next=t),ll=!0,kc||(kc=!0,mg(dg))}function Hn(t,s){if(!Ac&&ll){Ac=!0;do for(var a=!1,r=il;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var d=0;else{var h=r.suspendedLanes,y=r.pingedLanes;d=(1<<31-Ye(42|t)+1)-1,d&=i&~(h&~y),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,k0(r,d))}else d=ut,d=yt(r,r===Nt?d:0),(d&3)===0||Et(r,d)||(a=!0,k0(r,d));r=r.next}while(a);Ac=!1}}function dg(){ll=kc=!1;var t=0;cr!==0&&(yg()&&(t=cr),cr=0);for(var s=Ee(),a=null,r=il;r!==null;){var i=r.next,d=D0(r,s);d===0?(r.next=null,a===null?il=i:a.next=i,i===null&&(Xr=a)):(a=r,(t!==0||(d&3)!==0)&&(ll=!0)),r=i}Hn(t)}function D0(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var h=31-Ye(d),y=1<<h,A=i[h];A===-1?((y&a)===0||(y&r)!==0)&&(i[h]=ts(y,s)):A<=s&&(t.expiredLanes|=y),d&=~y}if(s=Nt,a=ut,a=yt(t,t===s?a:0),r=t.callbackNode,a===0||t===s&&wt===2||t.cancelPendingCommit!==null)return r!==null&&r!==null&&I(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Et(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&I(r),us(a)){case 2:case 8:a=Te;break;case 32:a=De;break;case 268435456:a=ct;break;default:a=De}return r=C0.bind(null,t),a=Oe(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&I(r),t.callbackPriority=2,t.callbackNode=null,2}function C0(t,s){var a=t.callbackNode;if(Yr()&&t.callbackNode!==a)return null;var r=ut;return r=yt(t,t===Nt?r:0),r===0?null:(h0(t,r,s),D0(t,Ee()),t.callbackNode!=null&&t.callbackNode===a?C0.bind(null,t):null)}function k0(t,s){if(Yr())return null;h0(t,s,!0)}function mg(t){jg(function(){(kt&6)!==0?Oe(oe,t):t()})}function Rc(){return cr===0&&(cr=vt()),cr}function A0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ji(""+t)}function R0(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function ug(t,s,a,r,i){if(s==="submit"&&a&&a.stateNode===i){var d=A0((i[Me]||null).action),h=r.submitter;h&&(s=(s=h[Me]||null)?A0(s.formAction):h.getAttribute("formAction"),s!==null&&(d=s,h=null));var y=new Ei("action","action",null,r,i);t.push({event:y,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(cr!==0){var A=h?R0(i,h):new FormData(i);Io(a,{pending:!0,data:A,method:i.method,action:d},null,A)}}else typeof d=="function"&&(y.preventDefault(),A=h?R0(i,h):new FormData(i),Io(a,{pending:!0,data:A,method:i.method,action:d},d,A))},currentTarget:i}]})}}for(var zc=0;zc<Nm.length;zc++){var Tc=Nm[zc],xg=Tc.toLowerCase(),hg=Tc[0].toUpperCase()+Tc.slice(1);Ls(xg,"on"+hg)}Ls(pm,"onAnimationEnd"),Ls(bm,"onAnimationIteration"),Ls(ym,"onAnimationStart"),Ls("dblclick","onDoubleClick"),Ls("focusin","onFocus"),Ls("focusout","onBlur"),Ls(zf,"onTransitionRun"),Ls(Tf,"onTransitionStart"),Ls(Mf,"onTransitionCancel"),Ls(vm,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fn));function z0(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],i=r.event;r=r.listeners;e:{var d=void 0;if(s)for(var h=r.length-1;0<=h;h--){var y=r[h],A=y.instance,G=y.currentTarget;if(y=y.listener,A!==d&&i.isPropagationStopped())break e;d=y,i.currentTarget=G;try{d(i)}catch(ye){Yi(ye)}i.currentTarget=null,d=A}else for(h=0;h<r.length;h++){if(y=r[h],A=y.instance,G=y.currentTarget,y=y.listener,A!==d&&i.isPropagationStopped())break e;d=y,i.currentTarget=G;try{d(i)}catch(ye){Yi(ye)}i.currentTarget=null,d=A}}}}function dt(t,s){var a=s[mt];a===void 0&&(a=s[mt]=new Set);var r=t+"__bubble";a.has(r)||(T0(s,t,2,!1),a.add(r))}function Mc(t,s,a){var r=0;s&&(r|=4),T0(a,t,r,s)}var ol="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[ol]){t[ol]=!0,_d.forEach(function(a){a!=="selectionchange"&&(fg.has(a)||Mc(a,!1,t),Mc(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[ol]||(s[ol]=!0,Mc("selectionchange",!1,s))}}function T0(t,s,a,r){switch(tx(s)){case 2:var i=qg;break;case 8:i=Ug;break;default:i=Yc}a=i.bind(null,s,a,t),i=void 0,!to||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(s,a,{capture:!0,passive:i}):t.addEventListener(s,a,!0):i!==void 0?t.addEventListener(s,a,{passive:i}):t.addEventListener(s,a,!1)}function _c(t,s,a,r,i){var d=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var y=r.stateNode.containerInfo;if(y===i||y.nodeType===8&&y.parentNode===i)break;if(h===4)for(h=r.return;h!==null;){var A=h.tag;if((A===3||A===4)&&(A=h.stateNode.containerInfo,A===i||A.nodeType===8&&A.parentNode===i))return;h=h.return}for(;y!==null;){if(h=Ha(y),h===null)return;if(A=h.tag,A===5||A===6||A===26||A===27){r=d=h;continue e}y=y.parentNode}}r=r.return}Yd(function(){var G=d,ye=Wl(a),ke=[];e:{var le=jm.get(t);if(le!==void 0){var ge=Ei,Fe=t;switch(t){case"keypress":if(wi(a)===0)break e;case"keydown":case"keyup":ge=of;break;case"focusin":Fe="focus",ge=no;break;case"focusout":Fe="blur",ge=no;break;case"beforeblur":case"afterblur":ge=no;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Zd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=mf;break;case pm:case bm:case ym:ge=Jh;break;case vm:ge=xf;break;case"scroll":case"scrollend":ge=Yh;break;case"wheel":ge=ff;break;case"copy":case"cut":case"paste":ge=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Jd;break;case"toggle":case"beforetoggle":ge=pf}var Ze=(s&4)!==0,Mt=!Ze&&(t==="scroll"||t==="scrollend"),Z=Ze?le!==null?le+"Capture":null:le;Ze=[];for(var H=G,ne;H!==null;){var Ne=H;if(ne=Ne.stateNode,Ne=Ne.tag,Ne!==5&&Ne!==26&&Ne!==27||ne===null||Z===null||(Ne=cn(H,Z),Ne!=null&&Ze.push(Gn(H,Ne,ne))),Mt)break;H=H.return}0<Ze.length&&(le=new ge(le,Fe,null,a,ye),ke.push({event:le,listeners:Ze}))}}if((s&7)===0){e:{if(le=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",le&&a!==Jl&&(Fe=a.relatedTarget||a.fromElement)&&(Ha(Fe)||Fe[Ke]))break e;if((ge||le)&&(le=ye.window===ye?ye:(le=ye.ownerDocument)?le.defaultView||le.parentWindow:window,ge?(Fe=a.relatedTarget||a.toElement,ge=G,Fe=Fe?Ha(Fe):null,Fe!==null&&(Mt=q(Fe),Ze=Fe.tag,Fe!==Mt||Ze!==5&&Ze!==27&&Ze!==6)&&(Fe=null)):(ge=null,Fe=G),ge!==Fe)){if(Ze=Zd,Ne="onMouseLeave",Z="onMouseEnter",H="mouse",(t==="pointerout"||t==="pointerover")&&(Ze=Jd,Ne="onPointerLeave",Z="onPointerEnter",H="pointer"),Mt=ge==null?le:on(ge),ne=Fe==null?le:on(Fe),le=new Ze(Ne,H+"leave",ge,a,ye),le.target=Mt,le.relatedTarget=ne,Ne=null,Ha(ye)===G&&(Ze=new Ze(Z,H+"enter",Fe,a,ye),Ze.target=ne,Ze.relatedTarget=Mt,Ne=Ze),Mt=Ne,ge&&Fe)t:{for(Ze=ge,Z=Fe,H=0,ne=Ze;ne;ne=Qr(ne))H++;for(ne=0,Ne=Z;Ne;Ne=Qr(Ne))ne++;for(;0<H-ne;)Ze=Qr(Ze),H--;for(;0<ne-H;)Z=Qr(Z),ne--;for(;H--;){if(Ze===Z||Z!==null&&Ze===Z.alternate)break t;Ze=Qr(Ze),Z=Qr(Z)}Ze=null}else Ze=null;ge!==null&&M0(ke,le,ge,Ze,!1),Fe!==null&&Mt!==null&&M0(ke,Mt,Fe,Ze,!0)}}e:{if(le=G?on(G):window,ge=le.nodeName&&le.nodeName.toLowerCase(),ge==="select"||ge==="input"&&le.type==="file")var Ue=im;else if(rm(le))if(lm)Ue=Cf;else{Ue=Ef;var nt=Sf}else ge=le.nodeName,!ge||ge.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?G&&Kl(G.elementType)&&(Ue=im):Ue=Df;if(Ue&&(Ue=Ue(t,G))){nm(ke,Ue,a,ye);break e}nt&&nt(t,le,G),t==="focusout"&&G&&le.type==="number"&&G.memoizedProps.value!=null&&Zl(le,"number",le.value)}switch(nt=G?on(G):window,t){case"focusin":(rm(nt)||nt.contentEditable==="true")&&(Cr=nt,uo=G,pn=null);break;case"focusout":pn=uo=Cr=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,fm(ke,a,ye);break;case"selectionchange":if(Rf)break;case"keydown":case"keyup":fm(ke,a,ye)}var Ge;if(lo)e:{switch(t){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Dr?sm(t,a)&&(Xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Xe="onCompositionStart");Xe&&(Wd&&a.locale!=="ko"&&(Dr||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Dr&&(Ge=Xd()):(va=ye,so="value"in va?va.value:va.textContent,Dr=!0)),nt=cl(G,Xe),0<nt.length&&(Xe=new Kd(Xe,t,null,a,ye),ke.push({event:Xe,listeners:nt}),Ge?Xe.data=Ge:(Ge=am(a),Ge!==null&&(Xe.data=Ge)))),(Ge=yf?vf(t,a):jf(t,a))&&(Xe=cl(G,"onBeforeInput"),0<Xe.length&&(nt=new Kd("onBeforeInput","beforeinput",null,a,ye),ke.push({event:nt,listeners:Xe}),nt.data=Ge)),ug(ke,t,G,a,ye)}z0(ke,s)})}function Gn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function cl(t,s){for(var a=s+"Capture",r=[];t!==null;){var i=t,d=i.stateNode;i=i.tag,i!==5&&i!==26&&i!==27||d===null||(i=cn(t,a),i!=null&&r.unshift(Gn(t,i,d)),i=cn(t,s),i!=null&&r.push(Gn(t,i,d))),t=t.return}return r}function Qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M0(t,s,a,r,i){for(var d=s._reactName,h=[];a!==null&&a!==r;){var y=a,A=y.alternate,G=y.stateNode;if(y=y.tag,A!==null&&A===r)break;y!==5&&y!==26&&y!==27||G===null||(A=G,i?(G=cn(a,d),G!=null&&h.unshift(Gn(a,G,A))):i||(G=cn(a,d),G!=null&&h.push(Gn(a,G,A)))),a=a.return}h.length!==0&&t.push({event:s,listeners:h})}var gg=/\r\n?/g,pg=/\u0000|\uFFFD/g;function $0(t){return(typeof t=="string"?t:""+t).replace(gg,`
`).replace(pg,"")}function _0(t,s){return s=$0(s),$0(t)===s}function dl(){}function bt(t,s,a,r,i,d){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||wr(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&wr(t,""+r);break;case"className":bi(t,"class",r);break;case"tabIndex":bi(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(t,a,r);break;case"style":Gd(t,r,d);break;case"data":if(s!=="object"){bi(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ji(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&bt(t,s,"name",i.name,i,null),bt(t,s,"formEncType",i.formEncType,i,null),bt(t,s,"formMethod",i.formMethod,i,null),bt(t,s,"formTarget",i.formTarget,i,null)):(bt(t,s,"encType",i.encType,i,null),bt(t,s,"method",i.method,i,null),bt(t,s,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ji(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=dl);break;case"onScroll":r!=null&&dt("scroll",t);break;case"onScrollEnd":r!=null&&dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(c(61));if(a=r.__html,a!=null){if(i.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=ji(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":dt("beforetoggle",t),dt("toggle",t),pi(t,"popover",r);break;case"xlinkActuate":ta(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ta(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ta(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ta(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ta(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ta(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ta(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ta(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ta(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":pi(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gh.get(a)||a,pi(t,a,r))}}function Lc(t,s,a,r,i,d){switch(a){case"style":Gd(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(c(61));if(a=r.__html,a!=null){if(i.children!=null)throw Error(c(60));t.innerHTML=a}}break;case"children":typeof r=="string"?wr(t,r):(typeof r=="number"||typeof r=="bigint")&&wr(t,""+r);break;case"onScroll":r!=null&&dt("scroll",t);break;case"onScrollEnd":r!=null&&dt("scrollend",t);break;case"onClick":r!=null&&(t.onclick=dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ld.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),s=a.slice(2,i?a.length-7:void 0),d=t[Me]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,i),typeof r=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,i);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):pi(t,a,r)}}}function Xt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":dt("error",t),dt("load",t);var r=!1,i=!1,d;for(d in a)if(a.hasOwnProperty(d)){var h=a[d];if(h!=null)switch(d){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:bt(t,s,d,h,a,null)}}i&&bt(t,s,"srcSet",a.srcSet,a,null),r&&bt(t,s,"src",a.src,a,null);return;case"input":dt("invalid",t);var y=d=h=i=null,A=null,G=null;for(r in a)if(a.hasOwnProperty(r)){var ye=a[r];if(ye!=null)switch(r){case"name":i=ye;break;case"type":h=ye;break;case"checked":A=ye;break;case"defaultChecked":G=ye;break;case"value":d=ye;break;case"defaultValue":y=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(c(137,s));break;default:bt(t,s,r,ye,a,null)}}qd(t,d,y,A,G,h,i,!1),yi(t);return;case"select":dt("invalid",t),r=h=d=null;for(i in a)if(a.hasOwnProperty(i)&&(y=a[i],y!=null))switch(i){case"value":d=y;break;case"defaultValue":h=y;break;case"multiple":r=y;default:bt(t,s,i,y,a,null)}s=d,a=h,t.multiple=!!r,s!=null?Nr(t,!!r,s,!1):a!=null&&Nr(t,!!r,a,!0);return;case"textarea":dt("invalid",t),d=i=r=null;for(h in a)if(a.hasOwnProperty(h)&&(y=a[h],y!=null))switch(h){case"value":r=y;break;case"defaultValue":i=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(c(91));break;default:bt(t,s,h,y,a,null)}Hd(t,r,i,d),yi(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(r=a[A],r!=null))switch(A){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:bt(t,s,A,r,a,null)}return;case"dialog":dt("cancel",t),dt("close",t);break;case"iframe":case"object":dt("load",t);break;case"video":case"audio":for(r=0;r<Fn.length;r++)dt(Fn[r],t);break;case"image":dt("error",t),dt("load",t);break;case"details":dt("toggle",t);break;case"embed":case"source":case"link":dt("error",t),dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(r=a[G],r!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,s));default:bt(t,s,G,r,a,null)}return;default:if(Kl(s)){for(ye in a)a.hasOwnProperty(ye)&&(r=a[ye],r!==void 0&&Lc(t,s,ye,r,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(r=a[y],r!=null&&bt(t,s,y,r,a,null))}function bg(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,d=null,h=null,y=null,A=null,G=null,ye=null;for(ge in a){var ke=a[ge];if(a.hasOwnProperty(ge)&&ke!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":A=ke;default:r.hasOwnProperty(ge)||bt(t,s,ge,null,r,ke)}}for(var le in r){var ge=r[le];if(ke=a[le],r.hasOwnProperty(le)&&(ge!=null||ke!=null))switch(le){case"type":d=ge;break;case"name":i=ge;break;case"checked":G=ge;break;case"defaultChecked":ye=ge;break;case"value":h=ge;break;case"defaultValue":y=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(c(137,s));break;default:ge!==ke&&bt(t,s,le,ge,r,ke)}}Ql(t,h,y,A,G,ye,d,i);return;case"select":ge=h=y=le=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":ge=A;default:r.hasOwnProperty(d)||bt(t,s,d,null,r,A)}for(i in r)if(d=r[i],A=a[i],r.hasOwnProperty(i)&&(d!=null||A!=null))switch(i){case"value":le=d;break;case"defaultValue":y=d;break;case"multiple":h=d;default:d!==A&&bt(t,s,i,d,r,A)}s=y,a=h,r=ge,le!=null?Nr(t,!!a,le,!1):!!r!=!!a&&(s!=null?Nr(t,!!a,s,!0):Nr(t,!!a,a?[]:"",!1));return;case"textarea":ge=le=null;for(y in a)if(i=a[y],a.hasOwnProperty(y)&&i!=null&&!r.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:bt(t,s,y,null,r,i)}for(h in r)if(i=r[h],d=a[h],r.hasOwnProperty(h)&&(i!=null||d!=null))switch(h){case"value":le=i;break;case"defaultValue":ge=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(c(91));break;default:i!==d&&bt(t,s,h,i,r,d)}Ud(t,le,ge);return;case"option":for(var Fe in a)if(le=a[Fe],a.hasOwnProperty(Fe)&&le!=null&&!r.hasOwnProperty(Fe))switch(Fe){case"selected":t.selected=!1;break;default:bt(t,s,Fe,null,r,le)}for(A in r)if(le=r[A],ge=a[A],r.hasOwnProperty(A)&&le!==ge&&(le!=null||ge!=null))switch(A){case"selected":t.selected=le&&typeof le!="function"&&typeof le!="symbol";break;default:bt(t,s,A,le,r,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in a)le=a[Ze],a.hasOwnProperty(Ze)&&le!=null&&!r.hasOwnProperty(Ze)&&bt(t,s,Ze,null,r,le);for(G in r)if(le=r[G],ge=a[G],r.hasOwnProperty(G)&&le!==ge&&(le!=null||ge!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(c(137,s));break;default:bt(t,s,G,le,r,ge)}return;default:if(Kl(s)){for(var Mt in a)le=a[Mt],a.hasOwnProperty(Mt)&&le!==void 0&&!r.hasOwnProperty(Mt)&&Lc(t,s,Mt,void 0,r,le);for(ye in r)le=r[ye],ge=a[ye],!r.hasOwnProperty(ye)||le===ge||le===void 0&&ge===void 0||Lc(t,s,ye,le,r,ge);return}}for(var Z in a)le=a[Z],a.hasOwnProperty(Z)&&le!=null&&!r.hasOwnProperty(Z)&&bt(t,s,Z,null,r,le);for(ke in r)le=r[ke],ge=a[ke],!r.hasOwnProperty(ke)||le===ge||le==null&&ge==null||bt(t,s,ke,le,r,ge)}var Oc=null,Bc=null;function ml(t){return t.nodeType===9?t:t.ownerDocument}function L0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O0(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Ic(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Pc=null;function yg(){var t=window.event;return t&&t.type==="popstate"?t===Pc?!1:(Pc=t,!0):(Pc=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,vg=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(t){return I0.resolve(null).then(t).catch(Ng)}:B0;function Ng(t){setTimeout(function(){throw t})}function qc(t,s){var a=s,r=0;do{var i=a.nextSibling;if(t.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(r===0){t.removeChild(i),Wn(s);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=i}while(a);Wn(s)}function Uc(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uc(a),ln(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wg(t,s,a,r){for(;t.nodeType===1;){var i=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ua])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==i.rel||t.getAttribute("href")!==(i.href==null?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Is(t.nextSibling),t===null)break}return null}function Sg(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Is(t.nextSibling),t===null))return null;return t}function Is(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}function P0(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function q0(t,s,a){switch(s=ml(a),t){case"html":if(t=s.documentElement,!t)throw Error(c(452));return t;case"head":if(t=s.head,!t)throw Error(c(453));return t;case"body":if(t=s.body,!t)throw Error(c(454));return t;default:throw Error(c(451))}}var $s=new Map,U0=new Set;function ul(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ga=P.d;P.d={f:Eg,r:Dg,D:Cg,C:kg,L:Ag,m:Rg,X:Tg,S:zg,M:Mg};function Eg(){var t=ga.f(),s=rl();return t||s}function Dg(t){var s=yr(t);s!==null&&s.tag===5&&s.type==="form"?fu(s):ga.r(t)}var Zr=typeof document>"u"?null:document;function H0(t,s,a){var r=Zr;if(r&&typeof s=="string"&&s){var i=Ss(s);i='link[rel="'+t+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),U0.has(i)||(U0.add(i),t={rel:t,crossOrigin:a,href:s},r.querySelector(i)===null&&(s=r.createElement("link"),Xt(s,"link",t),Ut(s),r.head.appendChild(s)))}}function Cg(t){ga.D(t),H0("dns-prefetch",t,null)}function kg(t,s){ga.C(t,s),H0("preconnect",t,s)}function Ag(t,s,a){ga.L(t,s,a);var r=Zr;if(r&&t&&s){var i='link[rel="preload"][as="'+Ss(s)+'"]';s==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+Ss(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+Ss(a.imageSizes)+'"]')):i+='[href="'+Ss(t)+'"]';var d=i;switch(s){case"style":d=Kr(t);break;case"script":d=Jr(t)}$s.has(d)||(t=$({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),$s.set(d,t),r.querySelector(i)!==null||s==="style"&&r.querySelector(Vn(d))||s==="script"&&r.querySelector(Yn(d))||(s=r.createElement("link"),Xt(s,"link",t),Ut(s),r.head.appendChild(s)))}}function Rg(t,s){ga.m(t,s);var a=Zr;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",i='link[rel="modulepreload"][as="'+Ss(r)+'"][href="'+Ss(t)+'"]',d=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Jr(t)}if(!$s.has(d)&&(t=$({rel:"modulepreload",href:t},s),$s.set(d,t),a.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yn(d)))return}r=a.createElement("link"),Xt(r,"link",t),Ut(r),a.head.appendChild(r)}}}function zg(t,s,a){ga.S(t,s,a);var r=Zr;if(r&&t){var i=vr(r).hoistableStyles,d=Kr(t);s=s||"default";var h=i.get(d);if(!h){var y={loading:0,preload:null};if(h=r.querySelector(Vn(d)))y.loading=5;else{t=$({rel:"stylesheet",href:t,"data-precedence":s},a),(a=$s.get(d))&&Hc(t,a);var A=h=r.createElement("link");Ut(A),Xt(A,"link",t),A._p=new Promise(function(G,ye){A.onload=G,A.onerror=ye}),A.addEventListener("load",function(){y.loading|=1}),A.addEventListener("error",function(){y.loading|=2}),y.loading|=4,xl(h,s,r)}h={type:"stylesheet",instance:h,count:1,state:y},i.set(d,h)}}}function Tg(t,s){ga.X(t,s);var a=Zr;if(a&&t){var r=vr(a).hoistableScripts,i=Jr(t),d=r.get(i);d||(d=a.querySelector(Yn(i)),d||(t=$({src:t,async:!0},s),(s=$s.get(i))&&Fc(t,s),d=a.createElement("script"),Ut(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(i,d))}}function Mg(t,s){ga.M(t,s);var a=Zr;if(a&&t){var r=vr(a).hoistableScripts,i=Jr(t),d=r.get(i);d||(d=a.querySelector(Yn(i)),d||(t=$({src:t,async:!0,type:"module"},s),(s=$s.get(i))&&Fc(t,s),d=a.createElement("script"),Ut(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(i,d))}}function F0(t,s,a,r){var i=(i=xe.current)?ul(i):null;if(!i)throw Error(c(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Kr(a.href),a=vr(i).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Kr(a.href);var d=vr(i).hoistableStyles,h=d.get(t);if(h||(i=i.ownerDocument||i,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,h),(d=i.querySelector(Vn(t)))&&!d._p&&(h.instance=d,h.state.loading=5),$s.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$s.set(t,a),d||$g(i,t,a,h.state))),s&&r===null)throw Error(c(528,""));return h}if(s&&r!==null)throw Error(c(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jr(a),a=vr(i).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,t))}}function Kr(t){return'href="'+Ss(t)+'"'}function Vn(t){return'link[rel="stylesheet"]['+t+"]"}function G0(t){return $({},t,{"data-precedence":t.precedence,precedence:null})}function $g(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),Xt(s,"link",a),Ut(s),t.head.appendChild(s))}function Jr(t){return'[src="'+Ss(t)+'"]'}function Yn(t){return"script[async]"+t}function V0(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+Ss(a.href)+'"]');if(r)return s.instance=r,Ut(r),r;var i=$({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ut(r),Xt(r,"style",i),xl(r,a.precedence,t),s.instance=r;case"stylesheet":i=Kr(a.href);var d=t.querySelector(Vn(i));if(d)return s.state.loading|=4,s.instance=d,Ut(d),d;r=G0(a),(i=$s.get(i))&&Hc(r,i),d=(t.ownerDocument||t).createElement("link"),Ut(d);var h=d;return h._p=new Promise(function(y,A){h.onload=y,h.onerror=A}),Xt(d,"link",r),s.state.loading|=4,xl(d,a.precedence,t),s.instance=d;case"script":return d=Jr(a.src),(i=t.querySelector(Yn(d)))?(s.instance=i,Ut(i),i):(r=a,(i=$s.get(d))&&(r=$({},a),Fc(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ut(i),Xt(i,"link",r),t.head.appendChild(i),s.instance=i);case"void":return null;default:throw Error(c(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,xl(r,a.precedence,t));return s.instance}function xl(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,d=i,h=0;h<r.length;h++){var y=r[h];if(y.dataset.precedence===s)d=y;else if(d!==i)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Hc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Fc(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var hl=null;function Y0(t,s,a){if(hl===null){var r=new Map,i=hl=new Map;i.set(a,r)}else i=hl,r=i.get(a),r||(r=new Map,i.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),i=0;i<a.length;i++){var d=a[i];if(!(d[Ua]||d[ie]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var h=d.getAttribute(s)||"";h=t+h;var y=r.get(h);y?y.push(d):r.set(h,[d])}}return r}function X0(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function _g(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Q0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Xn=null;function Lg(){}function Og(t,s,a){if(Xn===null)throw Error(c(475));var r=Xn;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var i=Kr(a.href),d=t.querySelector(Vn(i));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=fl.bind(r),t.then(r,r)),s.state.loading|=4,s.instance=d,Ut(d);return}d=t.ownerDocument||t,a=G0(a),(i=$s.get(i))&&Hc(a,i),d=d.createElement("link"),Ut(d);var h=d;h._p=new Promise(function(y,A){h.onload=y,h.onerror=A}),Xt(d,"link",a),s.instance=d}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(r.count++,s=fl.bind(r),t.addEventListener("load",s),t.addEventListener("error",s))}}function Bg(){if(Xn===null)throw Error(c(475));var t=Xn;return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function fl(){if(this.count--,this.count===0){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gl=null;function Gc(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gl=new Map,s.forEach(Ig,t),gl=null,fl.call(t))}function Ig(t,s){if(!(s.state.loading&4)){var a=gl.get(t);if(a)var r=a.get(null);else{a=new Map,gl.set(t,a);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<i.length;d++){var h=i[d];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),r=h)}r&&a.set(null,r)}i=s.instance,h=i.getAttribute("data-precedence"),d=a.get(h)||r,d===r&&a.set(null,i),a.set(h,i),this.count++,r=fl.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),d?d.parentNode.insertBefore(i,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),s.state.loading|=4}}var Qn={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function Pg(t,s,a,r,i,d,h,y){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=d,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Z0(t,s,a,r,i,d,h,y,A,G,ye,ke){return t=new Pg(t,s,a,h,y,A,G,ke),s=1,d===!0&&(s|=24),d=Ts(3,null,null,s),t.current=d,d.stateNode=t,s=wo(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:s},ac(d),t}function K0(t){return t?(t=Rr,t):Rr}function J0(t,s,a,r,i,d){i=K0(i),r.context===null?r.context=i:r.pendingContext=i,r=ka(s),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=Aa(t,r,s),a!==null&&(as(a,t,s),Tn(a,t,s))}function W0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Vc(t,s){W0(t,s),(t=t.alternate)&&W0(t,s)}function ex(t){if(t.tag===13){var s=ja(t,67108864);s!==null&&as(s,t,67108864),Vc(t,67108864)}}var pl=!0;function qg(t,s,a,r){var i=F.T;F.T=null;var d=P.p;try{P.p=2,Yc(t,s,a,r)}finally{P.p=d,F.T=i}}function Ug(t,s,a,r){var i=F.T;F.T=null;var d=P.p;try{P.p=8,Yc(t,s,a,r)}finally{P.p=d,F.T=i}}function Yc(t,s,a,r){if(pl){var i=Xc(r);if(i===null)_c(t,s,r,bl,a),sx(t,r);else if(Fg(i,t,s,a,r))r.stopPropagation();else if(sx(t,r),s&4&&-1<Hg.indexOf(t)){for(;i!==null;){var d=yr(i);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=Qe(d.pendingLanes);if(h!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var A=1<<31-Ye(h);y.entanglements[1]|=A,h&=~A}Zs(d),(kt&6)===0&&(tl=Ee()+500,Hn(0))}}break;case 13:y=ja(d,2),y!==null&&as(y,d,2),rl(),Vc(d,2)}if(d=Xc(r),d===null&&_c(t,s,r,bl,a),d===i)break;i=d}i!==null&&r.stopPropagation()}else _c(t,s,r,null,a)}}function Xc(t){return t=Wl(t),Qc(t)}var bl=null;function Qc(t){if(bl=null,t=Ha(t),t!==null){var s=q(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=de(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return bl=t,null}function tx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case oe:return 2;case Te:return 8;case De:case qe:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Zc=!1,La=null,Oa=null,Ba=null,Zn=new Map,Kn=new Map,Ia=[],Hg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(t,s){switch(t){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Zn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kn.delete(s.pointerId)}}function Jn(t,s,a,r,i,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[i]},s!==null&&(s=yr(s),s!==null&&ex(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,i!==null&&s.indexOf(i)===-1&&s.push(i),t)}function Fg(t,s,a,r,i){switch(s){case"focusin":return La=Jn(La,t,s,a,r,i),!0;case"dragenter":return Oa=Jn(Oa,t,s,a,r,i),!0;case"mouseover":return Ba=Jn(Ba,t,s,a,r,i),!0;case"pointerover":var d=i.pointerId;return Zn.set(d,Jn(Zn.get(d)||null,t,s,a,r,i)),!0;case"gotpointercapture":return d=i.pointerId,Kn.set(d,Jn(Kn.get(d)||null,t,s,a,r,i)),!0}return!1}function ax(t){var s=Ha(t.target);if(s!==null){var a=q(s);if(a!==null){if(s=a.tag,s===13){if(s=de(a),s!==null){t.blockedOn=s,Xl(t.priority,function(){if(a.tag===13){var r=ps(),i=ja(a,r);i!==null&&as(i,a,r),Vc(a,r)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yl(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Xc(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Jl=r,a.target.dispatchEvent(r),Jl=null}else return s=yr(a),s!==null&&ex(s),t.blockedOn=a,!1;s.shift()}return!0}function rx(t,s,a){yl(t)&&a.delete(s)}function Gg(){Zc=!1,La!==null&&yl(La)&&(La=null),Oa!==null&&yl(Oa)&&(Oa=null),Ba!==null&&yl(Ba)&&(Ba=null),Zn.forEach(rx),Kn.forEach(rx)}function vl(t,s){t.blockedOn===s&&(t.blockedOn=null,Zc||(Zc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gg)))}var jl=null;function nx(t){jl!==t&&(jl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jl===t&&(jl=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],i=t[s+2];if(typeof r!="function"){if(Qc(r||a)===null)continue;break}var d=yr(a);d!==null&&(t.splice(s,3),s-=3,Io(d,{pending:!0,data:i,method:a.method,action:r},r,i))}}))}function Wn(t){function s(A){return vl(A,t)}La!==null&&vl(La,t),Oa!==null&&vl(Oa,t),Ba!==null&&vl(Ba,t),Zn.forEach(s),Kn.forEach(s);for(var a=0;a<Ia.length;a++){var r=Ia[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ia.length&&(a=Ia[0],a.blockedOn===null);)ax(a),a.blockedOn===null&&Ia.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var i=a[r],d=a[r+1],h=i[Me]||null;if(typeof d=="function")h||nx(a);else if(h){var y=null;if(d&&d.hasAttribute("formAction")){if(i=d,h=d[Me]||null)y=h.formAction;else if(Qc(i)!==null)continue}else y=h.action;typeof y=="function"?a[r+1]=y:(a.splice(r,3),r-=3),nx(a)}}}function Kc(t){this._internalRoot=t}Nl.prototype.render=Kc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(c(409));var a=s.current,r=ps();J0(a,r,t,s,null,null)},Nl.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;t.tag===0&&Yr(),J0(t.current,2,null,t,null,null),rl(),s[Ke]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var s=nn();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ia.length&&s!==0&&s<Ia[a].priority;a++);Ia.splice(a,0,t),a===0&&ax(t)}};var ix=o.version;if(ix!=="19.0.0")throw Error(c(527,ix,"19.0.0"));P.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(c(188)):(t=Object.keys(t).join(","),Error(c(268,t)));return t=k(s),t=t!==null?z(t):null,t=t===null?null:t.stateNode,t};var Vg={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:Ha,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{we=wl.inject(Vg),ce=wl}catch{}}return ti.createRoot=function(t,s){if(!m(t))throw Error(c(299));var a=!1,r="",i=wu,d=Su,h=Eu,y=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(i=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(h=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(y=s.unstable_transitionCallbacks)),s=Z0(t,1,!1,null,null,a,r,i,d,h,y,null),t[Ke]=s.current,$c(t.nodeType===8?t.parentNode:t),new Kc(s)},ti.hydrateRoot=function(t,s,a){if(!m(t))throw Error(c(299));var r=!1,i="",d=wu,h=Su,y=Eu,A=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),s=Z0(t,1,!0,s,a??null,r,i,d,h,y,A,G),s.context=K0(null),a=s.current,r=ps(),i=ka(r),i.callback=null,Aa(a,i,r),s.current.lanes=r,qt(s,r),Zs(s),t[Ke]=s.current,$c(t),new Nl(s)},ti.version="19.0.0",ti}var gx;function ap(){if(gx)return ed.exports;gx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}return n(),ed.exports=sp(),ed.exports}var rp=ap(),si={},px;function np(){if(px)return si;px=1,Object.defineProperty(si,"__esModule",{value:!0}),si.parse=f,si.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,l=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,m=Object.prototype.toString,x=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,w){const E=new x,_=R.length;if(_<2)return E;const D=(w==null?void 0:w.decode)||v;let C=0;do{const L=R.indexOf("=",C);if(L===-1)break;const T=R.indexOf(";",C),W=T===-1?_:T;if(L>W){C=R.lastIndexOf(";",L-1)+1;continue}const V=b(R,C,L),me=p(R,L,V),ae=R.slice(V,me);if(E[ae]===void 0){let Y=b(R,L+1,W),F=p(R,W,Y);const $=D(R.slice(Y,F));E[ae]=$}C=W+1}while(C<_);return E}function b(R,w,E){do{const _=R.charCodeAt(w);if(_!==32&&_!==9)return w}while(++w<E);return E}function p(R,w,E){for(;w>E;){const _=R.charCodeAt(--w);if(_!==32&&_!==9)return w+1}return E}function g(R,w,E){const _=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(R))throw new TypeError(`argument name is invalid: ${R}`);const D=_(w);if(!o.test(D))throw new TypeError(`argument val is invalid: ${w}`);let C=R+"="+D;if(!E)return C;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);C+="; Max-Age="+E.maxAge}if(E.domain){if(!l.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);C+="; Domain="+E.domain}if(E.path){if(!c.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);C+="; Path="+E.path}if(E.expires){if(!S(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);C+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(C+="; HttpOnly"),E.secure&&(C+="; Secure"),E.partitioned&&(C+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return C}function v(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return m.call(R)==="[object Date]"}return si}np();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bx="popstate";function ip(n={}){function o(c,m){let{pathname:x,search:f,hash:b}=c.location;return cd("",{pathname:x,search:f,hash:b},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function l(c,m){return typeof m=="string"?m:li(m)}return op(o,l,null,n)}function Dt(n,o){if(n===!1||n===null||typeof n>"u")throw new Error(o)}function qs(n,o){if(!n){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function lp(){return Math.random().toString(36).substring(2,10)}function yx(n,o){return{usr:n.state,key:n.key,idx:o}}function cd(n,o,l=null,c){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof o=="string"?en(o):o,state:l,key:o&&o.key||c||lp()}}function li({pathname:n="/",search:o="",hash:l=""}){return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function en(n){let o={};if(n){let l=n.indexOf("#");l>=0&&(o.hash=n.substring(l),n=n.substring(0,l));let c=n.indexOf("?");c>=0&&(o.search=n.substring(c),n=n.substring(0,c)),n&&(o.pathname=n)}return o}function op(n,o,l,c={}){let{window:m=document.defaultView,v5Compat:x=!1}=c,f=m.history,b="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function S(){b="POP";let D=v(),C=D==null?null:D-g;g=D,p&&p({action:b,location:_.location,delta:C})}function R(D,C){b="PUSH";let L=cd(_.location,D,C);g=v()+1;let T=yx(L,g),W=_.createHref(L);try{f.pushState(T,"",W)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;m.location.assign(W)}x&&p&&p({action:b,location:_.location,delta:1})}function w(D,C){b="REPLACE";let L=cd(_.location,D,C);g=v();let T=yx(L,g),W=_.createHref(L);f.replaceState(T,"",W),x&&p&&p({action:b,location:_.location,delta:0})}function E(D){let C=m.location.origin!=="null"?m.location.origin:m.location.href,L=typeof D=="string"?D:li(D);return L=L.replace(/ $/,"%20"),Dt(C,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,C)}let _={get action(){return b},get location(){return n(m,f)},listen(D){if(p)throw new Error("A history only accepts one active listener");return m.addEventListener(bx,S),p=D,()=>{m.removeEventListener(bx,S),p=null}},createHref(D){return o(m,D)},createURL:E,encodeLocation(D){let C=E(D);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:R,replace:w,go(D){return f.go(D)}};return _}function Gx(n,o,l="/"){return cp(n,o,l,!1)}function cp(n,o,l,c){let m=typeof o=="string"?en(o):o,x=ba(m.pathname||"/",l);if(x==null)return null;let f=Vx(n);dp(f);let b=null;for(let p=0;b==null&&p<f.length;++p){let g=jp(x);b=yp(f[p],g,c)}return b}function Vx(n,o=[],l=[],c=""){let m=(x,f,b)=>{let p={relativePath:b===void 0?x.path||"":b,caseSensitive:x.caseSensitive===!0,childrenIndex:f,route:x};p.relativePath.startsWith("/")&&(Dt(p.relativePath.startsWith(c),`Absolute route path "${p.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(c.length));let g=pa([c,p.relativePath]),v=l.concat(p);x.children&&x.children.length>0&&(Dt(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Vx(x.children,o,v,g)),!(x.path==null&&!x.index)&&o.push({path:g,score:pp(g,x.index),routesMeta:v})};return n.forEach((x,f)=>{var b;if(x.path===""||!((b=x.path)!=null&&b.includes("?")))m(x,f);else for(let p of Yx(x.path))m(x,f,p)}),o}function Yx(n){let o=n.split("/");if(o.length===0)return[];let[l,...c]=o,m=l.endsWith("?"),x=l.replace(/\?$/,"");if(c.length===0)return m?[x,""]:[x];let f=Yx(c.join("/")),b=[];return b.push(...f.map(p=>p===""?x:[x,p].join("/"))),m&&b.push(...f),b.map(p=>n.startsWith("/")&&p===""?"/":p)}function dp(n){n.sort((o,l)=>o.score!==l.score?l.score-o.score:bp(o.routesMeta.map(c=>c.childrenIndex),l.routesMeta.map(c=>c.childrenIndex)))}var mp=/^:[\w-]+$/,up=3,xp=2,hp=1,fp=10,gp=-2,vx=n=>n==="*";function pp(n,o){let l=n.split("/"),c=l.length;return l.some(vx)&&(c+=gp),o&&(c+=xp),l.filter(m=>!vx(m)).reduce((m,x)=>m+(mp.test(x)?up:x===""?hp:fp),c)}function bp(n,o){return n.length===o.length&&n.slice(0,-1).every((c,m)=>c===o[m])?n[n.length-1]-o[o.length-1]:0}function yp(n,o,l=!1){let{routesMeta:c}=n,m={},x="/",f=[];for(let b=0;b<c.length;++b){let p=c[b],g=b===c.length-1,v=x==="/"?o:o.slice(x.length)||"/",S=zl({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),R=p.route;if(!S&&g&&l&&!c[c.length-1].route.index&&(S=zl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!S)return null;Object.assign(m,S.params),f.push({params:m,pathname:pa([x,S.pathname]),pathnameBase:Ep(pa([x,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(x=pa([x,S.pathnameBase]))}return f}function zl(n,o){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,c]=vp(n.path,n.caseSensitive,n.end),m=o.match(l);if(!m)return null;let x=m[0],f=x.replace(/(.)\/+$/,"$1"),b=m.slice(1);return{params:c.reduce((g,{paramName:v,isOptional:S},R)=>{if(v==="*"){let E=b[R]||"";f=x.slice(0,x.length-E.length).replace(/(.)\/+$/,"$1")}const w=b[R];return S&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:x,pathnameBase:f,pattern:n}}function vp(n,o=!1,l=!0){qs(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let c=[],m="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,b,p)=>(c.push({paramName:b,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(c.push({paramName:"*"}),m+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?m+="\\/*$":n!==""&&n!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,o?void 0:"i"),c]}function jp(n){try{return n.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return qs(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),n}}function ba(n,o){if(o==="/")return n;if(!n.toLowerCase().startsWith(o.toLowerCase()))return null;let l=o.endsWith("/")?o.length-1:o.length,c=n.charAt(l);return c&&c!=="/"?null:n.slice(l)||"/"}function Np(n,o="/"){let{pathname:l,search:c="",hash:m=""}=typeof n=="string"?en(n):n;return{pathname:l?l.startsWith("/")?l:wp(l,o):o,search:Dp(c),hash:Cp(m)}}function wp(n,o){let l=o.replace(/\/+$/,"").split("/");return n.split("/").forEach(m=>{m===".."?l.length>1&&l.pop():m!=="."&&l.push(m)}),l.length>1?l.join("/"):"/"}function rd(n,o,l,c){return`Cannot include a '${n}' character in a manually specified \`to.${o}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sp(n){return n.filter((o,l)=>l===0||o.route.path&&o.route.path.length>0)}function jd(n){let o=Sp(n);return o.map((l,c)=>c===o.length-1?l.pathname:l.pathnameBase)}function Nd(n,o,l,c=!1){let m;typeof n=="string"?m=en(n):(m={...n},Dt(!m.pathname||!m.pathname.includes("?"),rd("?","pathname","search",m)),Dt(!m.pathname||!m.pathname.includes("#"),rd("#","pathname","hash",m)),Dt(!m.search||!m.search.includes("#"),rd("#","search","hash",m)));let x=n===""||m.pathname==="",f=x?"/":m.pathname,b;if(f==null)b=l;else{let S=o.length-1;if(!c&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;m.pathname=R.join("/")}b=S>=0?o[S]:"/"}let p=Np(m,b),g=f&&f!=="/"&&f.endsWith("/"),v=(x||f===".")&&l.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var pa=n=>n.join("/").replace(/\/\/+/g,"/"),Ep=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Dp=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Cp=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function kp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xx=["POST","PUT","PATCH","DELETE"];new Set(Xx);var Ap=["GET",...Xx];new Set(Ap);var tn=u.createContext(null);tn.displayName="DataRouter";var Ll=u.createContext(null);Ll.displayName="DataRouterState";var Qx=u.createContext({isTransitioning:!1});Qx.displayName="ViewTransition";var Rp=u.createContext(new Map);Rp.displayName="Fetchers";var zp=u.createContext(null);zp.displayName="Await";var Us=u.createContext(null);Us.displayName="Navigation";var ui=u.createContext(null);ui.displayName="Location";var Hs=u.createContext({outlet:null,matches:[],isDataRoute:!1});Hs.displayName="Route";var wd=u.createContext(null);wd.displayName="RouteError";function Tp(n,{relative:o}={}){Dt(sn(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:c}=u.useContext(Us),{hash:m,pathname:x,search:f}=xi(n,{relative:o}),b=x;return l!=="/"&&(b=x==="/"?l:pa([l,x])),c.createHref({pathname:b,search:f,hash:m})}function sn(){return u.useContext(ui)!=null}function ms(){return Dt(sn(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(ui).location}var Zx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kx(n){u.useContext(Us).static||u.useLayoutEffect(n)}function Rt(){let{isDataRoute:n}=u.useContext(Hs);return n?Gp():Mp()}function Mp(){Dt(sn(),"useNavigate() may be used only in the context of a <Router> component.");let n=u.useContext(tn),{basename:o,navigator:l}=u.useContext(Us),{matches:c}=u.useContext(Hs),{pathname:m}=ms(),x=JSON.stringify(jd(c)),f=u.useRef(!1);return Kx(()=>{f.current=!0}),u.useCallback((p,g={})=>{if(qs(f.current,Zx),!f.current)return;if(typeof p=="number"){l.go(p);return}let v=Nd(p,JSON.parse(x),m,g.relative==="path");n==null&&o!=="/"&&(v.pathname=v.pathname==="/"?o:pa([o,v.pathname])),(g.replace?l.replace:l.push)(v,g.state,g)},[o,l,x,m,n])}u.createContext(null);function Ws(){let{matches:n}=u.useContext(Hs),o=n[n.length-1];return o?o.params:{}}function xi(n,{relative:o}={}){let{matches:l}=u.useContext(Hs),{pathname:c}=ms(),m=JSON.stringify(jd(l));return u.useMemo(()=>Nd(n,JSON.parse(m),c,o==="path"),[n,m,c,o])}function $p(n,o){return Jx(n,o)}function Jx(n,o,l,c){var L;Dt(sn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m,static:x}=u.useContext(Us),{matches:f}=u.useContext(Hs),b=f[f.length-1],p=b?b.params:{},g=b?b.pathname:"/",v=b?b.pathnameBase:"/",S=b&&b.route;{let T=S&&S.path||"";Wx(g,!S||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let R=ms(),w;if(o){let T=typeof o=="string"?en(o):o;Dt(v==="/"||((L=T.pathname)==null?void 0:L.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=R;let E=w.pathname||"/",_=E;if(v!=="/"){let T=v.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(T.length).join("/")}let D=!x&&l&&l.matches&&l.matches.length>0?l.matches:Gx(n,{pathname:_});qs(S||D!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),qs(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Ip(D&&D.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:pa([v,m.encodeLocation?m.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?v:pa([v,m.encodeLocation?m.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),f,l,c);return o&&C?u.createElement(ui.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},C):C}function _p(){let n=Fp(),o=kp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,c="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:c},x={padding:"2px 4px",backgroundColor:c},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=u.createElement(u.Fragment,null,u.createElement("p",null,"💿 Hey developer 👋"),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:x},"ErrorBoundary")," or"," ",u.createElement("code",{style:x},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},o),l?u.createElement("pre",{style:m},l):null,f)}var Lp=u.createElement(_p,null),Op=class extends u.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?u.createElement(Hs.Provider,{value:this.props.routeContext},u.createElement(wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Bp({routeContext:n,match:o,children:l}){let c=u.useContext(tn);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),u.createElement(Hs.Provider,{value:n},l)}function Ip(n,o=[],l=null,c=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(o.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let m=n,x=l==null?void 0:l.errors;if(x!=null){let p=m.findIndex(g=>g.route.id&&(x==null?void 0:x[g.route.id])!==void 0);Dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),m=m.slice(0,Math.min(m.length,p+1))}let f=!1,b=-1;if(l)for(let p=0;p<m.length;p++){let g=m[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(b=p),g.route.id){let{loaderData:v,errors:S}=l,R=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||R){f=!0,b>=0?m=m.slice(0,b+1):m=[m[0]];break}}}return m.reduceRight((p,g,v)=>{let S,R=!1,w=null,E=null;l&&(S=x&&g.route.id?x[g.route.id]:void 0,w=g.route.errorElement||Lp,f&&(b<0&&v===0?(Wx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,E=null):b===v&&(R=!0,E=g.route.hydrateFallbackElement||null)));let _=o.concat(m.slice(0,v+1)),D=()=>{let C;return S?C=w:R?C=E:g.route.Component?C=u.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,u.createElement(Bp,{match:g,routeContext:{outlet:p,matches:_,isDataRoute:l!=null},children:C})};return l&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?u.createElement(Op,{location:l.location,revalidation:l.revalidation,component:w,error:S,children:D(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):D()},null)}function Sd(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pp(n){let o=u.useContext(tn);return Dt(o,Sd(n)),o}function qp(n){let o=u.useContext(Ll);return Dt(o,Sd(n)),o}function Up(n){let o=u.useContext(Hs);return Dt(o,Sd(n)),o}function Ed(n){let o=Up(n),l=o.matches[o.matches.length-1];return Dt(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function Hp(){return Ed("useRouteId")}function Fp(){var c;let n=u.useContext(wd),o=qp("useRouteError"),l=Ed("useRouteError");return n!==void 0?n:(c=o.errors)==null?void 0:c[l]}function Gp(){let{router:n}=Pp("useNavigate"),o=Ed("useNavigate"),l=u.useRef(!1);return Kx(()=>{l.current=!0}),u.useCallback(async(m,x={})=>{qs(l.current,Zx),l.current&&(typeof m=="number"?n.navigate(m):await n.navigate(m,{fromRouteId:o,...x}))},[n,o])}var jx={};function Wx(n,o,l){!o&&!jx[n]&&(jx[n]=!0,qs(!1,l))}u.memo(Vp);function Vp({routes:n,future:o,state:l}){return Jx(n,void 0,l,o)}function dd({to:n,replace:o,state:l,relative:c}){Dt(sn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=u.useContext(Us);qs(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=u.useContext(Hs),{pathname:f}=ms(),b=Rt(),p=Nd(n,jd(x),f,c==="path"),g=JSON.stringify(p);return u.useEffect(()=>{b(JSON.parse(g),{replace:o,state:l,relative:c})},[b,g,c,o,l]),null}function ot(n){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yp({basename:n="/",children:o=null,location:l,navigationType:c="POP",navigator:m,static:x=!1}){Dt(!sn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),b=u.useMemo(()=>({basename:f,navigator:m,static:x,future:{}}),[f,m,x]);typeof l=="string"&&(l=en(l));let{pathname:p="/",search:g="",hash:v="",state:S=null,key:R="default"}=l,w=u.useMemo(()=>{let E=ba(p,f);return E==null?null:{location:{pathname:E,search:g,hash:v,state:S,key:R},navigationType:c}},[f,p,g,v,S,R,c]);return qs(w!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:u.createElement(Us.Provider,{value:b},u.createElement(ui.Provider,{children:o,value:w}))}function Xp({children:n,location:o}){return $p(md(n),o)}function md(n,o=[]){let l=[];return u.Children.forEach(n,(c,m)=>{if(!u.isValidElement(c))return;let x=[...o,m];if(c.type===u.Fragment){l.push.apply(l,md(c.props.children,x));return}Dt(c.type===ot,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let f={id:c.props.id||x.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=md(c.props.children,x)),l.push(f)}),l}var Dl="get",Cl="application/x-www-form-urlencoded";function Ol(n){return n!=null&&typeof n.tagName=="string"}function Qp(n){return Ol(n)&&n.tagName.toLowerCase()==="button"}function Zp(n){return Ol(n)&&n.tagName.toLowerCase()==="form"}function Kp(n){return Ol(n)&&n.tagName.toLowerCase()==="input"}function Jp(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Wp(n,o){return n.button===0&&(!o||o==="_self")&&!Jp(n)}var Sl=null;function eb(){if(Sl===null)try{new FormData(document.createElement("form"),0),Sl=!1}catch{Sl=!0}return Sl}var tb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(n){return n!=null&&!tb.has(n)?(qs(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cl}"`),null):n}function sb(n,o){let l,c,m,x,f;if(Zp(n)){let b=n.getAttribute("action");c=b?ba(b,o):null,l=n.getAttribute("method")||Dl,m=nd(n.getAttribute("enctype"))||Cl,x=new FormData(n)}else if(Qp(n)||Kp(n)&&(n.type==="submit"||n.type==="image")){let b=n.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||b.getAttribute("action");if(c=p?ba(p,o):null,l=n.getAttribute("formmethod")||b.getAttribute("method")||Dl,m=nd(n.getAttribute("formenctype"))||nd(b.getAttribute("enctype"))||Cl,x=new FormData(b,n),!eb()){let{name:g,type:v,value:S}=n;if(v==="image"){let R=g?`${g}.`:"";x.append(`${R}x`,"0"),x.append(`${R}y`,"0")}else g&&x.append(g,S)}}else{if(Ol(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Dl,c=null,m=Cl,f=n}return x&&m==="text/plain"&&(f=x,x=void 0),{action:c,method:l.toLowerCase(),encType:m,formData:x,body:f}}function Dd(n,o){if(n===!1||n===null||typeof n>"u")throw new Error(o)}async function ab(n,o){if(n.id in o)return o[n.id];try{let l=await import(n.module);return o[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nb(n,o,l){let c=await Promise.all(n.map(async m=>{let x=o.routes[m.route.id];if(x){let f=await ab(x,l);return f.links?f.links():[]}return[]}));return cb(c.flat(1).filter(rb).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function Nx(n,o,l,c,m,x){let f=(p,g)=>l[g]?p.route.id!==l[g].route.id:!0,b=(p,g)=>{var v;return l[g].pathname!==p.pathname||((v=l[g].route.path)==null?void 0:v.endsWith("*"))&&l[g].params["*"]!==p.params["*"]};return x==="assets"?o.filter((p,g)=>f(p,g)||b(p,g)):x==="data"?o.filter((p,g)=>{var S;let v=c.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||b(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:((S=l[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function ib(n,o,{includeHydrateFallback:l}={}){return lb(n.map(c=>{let m=o.routes[c.route.id];if(!m)return[];let x=[m.module];return m.clientActionModule&&(x=x.concat(m.clientActionModule)),m.clientLoaderModule&&(x=x.concat(m.clientLoaderModule)),l&&m.hydrateFallbackModule&&(x=x.concat(m.hydrateFallbackModule)),m.imports&&(x=x.concat(m.imports)),x}).flat(1))}function lb(n){return[...new Set(n)]}function ob(n){let o={},l=Object.keys(n).sort();for(let c of l)o[c]=n[c];return o}function cb(n,o){let l=new Set;return new Set(o),n.reduce((c,m)=>{let x=JSON.stringify(ob(m));return l.has(x)||(l.add(x),c.push({key:x,link:m})),c},[])}function db(n,o){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l.pathname==="/"?l.pathname="_root.data":o&&ba(l.pathname,o)==="/"?l.pathname=`${o.replace(/\/$/,"")}/_root.data`:l.pathname=`${l.pathname.replace(/\/$/,"")}.data`,l}function eh(){let n=u.useContext(tn);return Dd(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mb(){let n=u.useContext(Ll);return Dd(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Cd=u.createContext(void 0);Cd.displayName="FrameworkContext";function th(){let n=u.useContext(Cd);return Dd(n,"You must render this element inside a <HydratedRouter> element"),n}function ub(n,o){let l=u.useContext(Cd),[c,m]=u.useState(!1),[x,f]=u.useState(!1),{onFocus:b,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=o,R=u.useRef(null);u.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let _=C=>{C.forEach(L=>{f(L.isIntersecting)})},D=new IntersectionObserver(_,{threshold:.5});return R.current&&D.observe(R.current),()=>{D.disconnect()}}},[n]),u.useEffect(()=>{if(c){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[c]);let w=()=>{m(!0)},E=()=>{m(!1),f(!1)};return l?n!=="intent"?[x,R,{}]:[x,R,{onFocus:ai(b,w),onBlur:ai(p,E),onMouseEnter:ai(g,w),onMouseLeave:ai(v,E),onTouchStart:ai(S,w)}]:[!1,R,{}]}function ai(n,o){return l=>{n&&n(l),l.defaultPrevented||o(l)}}function xb({page:n,...o}){let{router:l}=eh(),c=u.useMemo(()=>Gx(l.routes,n,l.basename),[l.routes,n,l.basename]);return c?u.createElement(fb,{page:n,matches:c,...o}):null}function hb(n){let{manifest:o,routeModules:l}=th(),[c,m]=u.useState([]);return u.useEffect(()=>{let x=!1;return nb(n,o,l).then(f=>{x||m(f)}),()=>{x=!0}},[n,o,l]),c}function fb({page:n,matches:o,...l}){let c=ms(),{manifest:m,routeModules:x}=th(),{basename:f}=eh(),{loaderData:b,matches:p}=mb(),g=u.useMemo(()=>Nx(n,o,p,m,c,"data"),[n,o,p,m,c]),v=u.useMemo(()=>Nx(n,o,p,m,c,"assets"),[n,o,p,m,c]),S=u.useMemo(()=>{if(n===c.pathname+c.search+c.hash)return[];let E=new Set,_=!1;if(o.forEach(C=>{var T;let L=m.routes[C.route.id];!L||!L.hasLoader||(!g.some(W=>W.route.id===C.route.id)&&C.route.id in b&&((T=x[C.route.id])!=null&&T.shouldRevalidate)||L.hasClientLoader?_=!0:E.add(C.route.id))}),E.size===0)return[];let D=db(n,f);return _&&E.size>0&&D.searchParams.set("_routes",o.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[D.pathname+D.search]},[f,b,c,m,g,o,n,x]),R=u.useMemo(()=>ib(v,m),[v,m]),w=hb(v);return u.createElement(u.Fragment,null,S.map(E=>u.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...l})),R.map(E=>u.createElement("link",{key:E,rel:"modulepreload",href:E,...l})),w.map(({key:E,link:_})=>u.createElement("link",{key:E,..._})))}function gb(...n){return o=>{n.forEach(l=>{typeof l=="function"?l(o):l!=null&&(l.current=o)})}}var sh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sh&&(window.__reactRouterVersion="7.4.0")}catch{}function pb({basename:n,children:o,window:l}){let c=u.useRef();c.current==null&&(c.current=ip({window:l,v5Compat:!0}));let m=c.current,[x,f]=u.useState({action:m.action,location:m.location}),b=u.useCallback(p=>{u.startTransition(()=>f(p))},[f]);return u.useLayoutEffect(()=>m.listen(b),[m,b]),u.createElement(Yp,{basename:n,children:o,location:x.location,navigationType:x.action,navigator:m})}var ah=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=u.forwardRef(function({onClick:o,discover:l="render",prefetch:c="none",relative:m,reloadDocument:x,replace:f,state:b,target:p,to:g,preventScrollReset:v,viewTransition:S,...R},w){let{basename:E}=u.useContext(Us),_=typeof g=="string"&&ah.test(g),D,C=!1;if(typeof g=="string"&&_&&(D=g,sh))try{let F=new URL(window.location.href),$=g.startsWith("//")?new URL(F.protocol+g):new URL(g),K=ba($.pathname,E);$.origin===F.origin&&K!=null?g=K+$.search+$.hash:C=!0}catch{qs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=Tp(g,{relative:m}),[T,W,V]=ub(c,R),me=vb(g,{replace:f,state:b,target:p,preventScrollReset:v,relative:m,viewTransition:S});function ae(F){o&&o(F),F.defaultPrevented||me(F)}let Y=u.createElement("a",{...R,...V,href:D||L,onClick:C||x?o:ae,ref:gb(w,W),target:p,"data-discover":!_&&l==="render"?"true":void 0});return T&&!_?u.createElement(u.Fragment,null,Y,u.createElement(xb,{page:L})):Y});Pe.displayName="Link";var bs=u.forwardRef(function({"aria-current":o="page",caseSensitive:l=!1,className:c="",end:m=!1,style:x,to:f,viewTransition:b,children:p,...g},v){let S=xi(f,{relative:g.relative}),R=ms(),w=u.useContext(Ll),{navigator:E,basename:_}=u.useContext(Us),D=w!=null&&Eb(S)&&b===!0,C=E.encodeLocation?E.encodeLocation(S).pathname:S.pathname,L=R.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;l||(L=L.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&_&&(T=ba(T,_)||T);const W=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let V=L===C||!m&&L.startsWith(C)&&L.charAt(W)==="/",me=T!=null&&(T===C||!m&&T.startsWith(C)&&T.charAt(C.length)==="/"),ae={isActive:V,isPending:me,isTransitioning:D},Y=V?o:void 0,F;typeof c=="function"?F=c(ae):F=[c,V?"active":null,me?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let $=typeof x=="function"?x(ae):x;return u.createElement(Pe,{...g,"aria-current":Y,className:F,ref:v,style:$,to:f,viewTransition:b},typeof p=="function"?p(ae):p)});bs.displayName="NavLink";var bb=u.forwardRef(({discover:n="render",fetcherKey:o,navigate:l,reloadDocument:c,replace:m,state:x,method:f=Dl,action:b,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:S,...R},w)=>{let E=wb(),_=Sb(b,{relative:g}),D=f.toLowerCase()==="get"?"get":"post",C=typeof b=="string"&&ah.test(b),L=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let W=T.nativeEvent.submitter,V=(W==null?void 0:W.getAttribute("formmethod"))||f;E(W||T.currentTarget,{fetcherKey:o,method:V,navigate:l,replace:m,state:x,relative:g,preventScrollReset:v,viewTransition:S})};return u.createElement("form",{ref:w,method:D,action:_,onSubmit:c?p:L,...R,"data-discover":!C&&n==="render"?"true":void 0})});bb.displayName="Form";function yb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rh(n){let o=u.useContext(tn);return Dt(o,yb(n)),o}function vb(n,{target:o,replace:l,state:c,preventScrollReset:m,relative:x,viewTransition:f}={}){let b=Rt(),p=ms(),g=xi(n,{relative:x});return u.useCallback(v=>{if(Wp(v,o)){v.preventDefault();let S=l!==void 0?l:li(p)===li(g);b(n,{replace:S,state:c,preventScrollReset:m,relative:x,viewTransition:f})}},[p,b,g,l,c,o,n,m,x,f])}var jb=0,Nb=()=>`__${String(++jb)}__`;function wb(){let{router:n}=rh("useSubmit"),{basename:o}=u.useContext(Us),l=Hp();return u.useCallback(async(c,m={})=>{let{action:x,method:f,encType:b,formData:p,body:g}=sb(c,o);if(m.navigate===!1){let v=m.fetcherKey||Nb();await n.fetch(v,l,m.action||x,{preventScrollReset:m.preventScrollReset,formData:p,body:g,formMethod:m.method||f,formEncType:m.encType||b,flushSync:m.flushSync})}else await n.navigate(m.action||x,{preventScrollReset:m.preventScrollReset,formData:p,body:g,formMethod:m.method||f,formEncType:m.encType||b,replace:m.replace,state:m.state,fromRouteId:l,flushSync:m.flushSync,viewTransition:m.viewTransition})},[n,o,l])}function Sb(n,{relative:o}={}){let{basename:l}=u.useContext(Us),c=u.useContext(Hs);Dt(c,"useFormAction must be used inside a RouteContext");let[m]=c.matches.slice(-1),x={...xi(n||".",{relative:o})},f=ms();if(n==null){x.search=f.search;let b=new URLSearchParams(x.search),p=b.getAll("index");if(p.some(v=>v==="")){b.delete("index"),p.filter(S=>S).forEach(S=>b.append("index",S));let v=b.toString();x.search=v?`?${v}`:""}}return(!n||n===".")&&m.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(x.pathname=x.pathname==="/"?l:pa([l,x.pathname])),li(x)}function Eb(n,o={}){let l=u.useContext(Qx);Dt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=rh("useViewTransitionState"),m=xi(n,{relative:o.relative});if(!l.isTransitioning)return!1;let x=ba(l.currentLocation.pathname,c)||l.currentLocation.pathname,f=ba(l.nextLocation.pathname,c)||l.nextLocation.pathname;return zl(m.pathname,f)!=null||zl(m.pathname,x)!=null}new TextEncoder;const wx={blue:{50:"bg-blue-50",100:"bg-blue-100",500:"bg-blue-500",600:"bg-blue-600",700:"bg-blue-700",text50:"text-blue-50",text100:"text-blue-100",text500:"text-blue-500",text600:"text-blue-600",text700:"text-blue-700",text800:"text-blue-800",border300:"border-blue-300",hover50:"hover:bg-blue-50",hover700:"hover:bg-blue-700",hoverText500:"hover:text-blue-500",hoverText800:"hover:text-blue-800",focusRing:"focus:ring-blue-500",focusBorder:"focus:border-blue-500"},red:{50:"bg-red-50",100:"bg-red-100",500:"bg-red-500",600:"bg-red-600",700:"bg-red-700",text50:"text-red-50",text100:"text-red-100",text500:"text-red-500",text600:"text-red-600",text700:"text-red-700",text800:"text-red-800",border300:"border-red-300",hover50:"hover:bg-red-50",hover700:"hover:bg-red-700",hoverText500:"hover:text-red-500",hoverText800:"hover:text-red-800",focusRing:"focus:ring-red-500",focusBorder:"focus:border-red-500"},green:{50:"bg-green-50",100:"bg-green-100",500:"bg-green-500",600:"bg-green-600",700:"bg-green-700",text50:"text-green-50",text100:"text-green-100",text500:"text-green-500",text600:"text-green-600",text700:"text-green-700",text800:"text-green-800",border300:"border-green-300",hover50:"hover:bg-green-50",hover700:"hover:bg-green-700",hoverText500:"hover:text-green-500",hoverText800:"hover:text-green-800",focusRing:"focus:ring-green-500",focusBorder:"focus:border-green-500"}},nh=u.createContext(),Db=({children:n})=>{const[o,l]=u.useState("blue"),c=wx[o],m=x=>{wx[x]?l(x):console.warn(`Theme color "${x}" not found. Using default.`)};return e.jsx(nh.Provider,{value:{theme:c,setTheme:m,currentTheme:o},children:n})},ih=()=>{const n=u.useContext(nh);if(!n)throw new Error("useTheme must be used within a ThemeProvider");return n};function lh(n,o){return function(){return n.apply(o,arguments)}}const{toString:Cb}=Object.prototype,{getPrototypeOf:kd}=Object,Bl=(n=>o=>{const l=Cb.call(o);return n[l]||(n[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),Fs=n=>(n=n.toLowerCase(),o=>Bl(o)===n),Il=n=>o=>typeof o===n,{isArray:an}=Array,oi=Il("undefined");function kb(n){return n!==null&&!oi(n)&&n.constructor!==null&&!oi(n.constructor)&&vs(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const oh=Fs("ArrayBuffer");function Ab(n){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(n):o=n&&n.buffer&&oh(n.buffer),o}const Rb=Il("string"),vs=Il("function"),ch=Il("number"),Pl=n=>n!==null&&typeof n=="object",zb=n=>n===!0||n===!1,kl=n=>{if(Bl(n)!=="object")return!1;const o=kd(n);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Tb=Fs("Date"),Mb=Fs("File"),$b=Fs("Blob"),_b=Fs("FileList"),Lb=n=>Pl(n)&&vs(n.pipe),Ob=n=>{let o;return n&&(typeof FormData=="function"&&n instanceof FormData||vs(n.append)&&((o=Bl(n))==="formdata"||o==="object"&&vs(n.toString)&&n.toString()==="[object FormData]"))},Bb=Fs("URLSearchParams"),[Ib,Pb,qb,Ub]=["ReadableStream","Request","Response","Headers"].map(Fs),Hb=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hi(n,o,{allOwnKeys:l=!1}={}){if(n===null||typeof n>"u")return;let c,m;if(typeof n!="object"&&(n=[n]),an(n))for(c=0,m=n.length;c<m;c++)o.call(null,n[c],c,n);else{const x=l?Object.getOwnPropertyNames(n):Object.keys(n),f=x.length;let b;for(c=0;c<f;c++)b=x[c],o.call(null,n[b],b,n)}}function dh(n,o){o=o.toLowerCase();const l=Object.keys(n);let c=l.length,m;for(;c-- >0;)if(m=l[c],o===m.toLowerCase())return m;return null}const dr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mh=n=>!oi(n)&&n!==dr;function ud(){const{caseless:n}=mh(this)&&this||{},o={},l=(c,m)=>{const x=n&&dh(o,m)||m;kl(o[x])&&kl(c)?o[x]=ud(o[x],c):kl(c)?o[x]=ud({},c):an(c)?o[x]=c.slice():o[x]=c};for(let c=0,m=arguments.length;c<m;c++)arguments[c]&&hi(arguments[c],l);return o}const Fb=(n,o,l,{allOwnKeys:c}={})=>(hi(o,(m,x)=>{l&&vs(m)?n[x]=lh(m,l):n[x]=m},{allOwnKeys:c}),n),Gb=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Vb=(n,o,l,c)=>{n.prototype=Object.create(o.prototype,c),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:o.prototype}),l&&Object.assign(n.prototype,l)},Yb=(n,o,l,c)=>{let m,x,f;const b={};if(o=o||{},n==null)return o;do{for(m=Object.getOwnPropertyNames(n),x=m.length;x-- >0;)f=m[x],(!c||c(f,n,o))&&!b[f]&&(o[f]=n[f],b[f]=!0);n=l!==!1&&kd(n)}while(n&&(!l||l(n,o))&&n!==Object.prototype);return o},Xb=(n,o,l)=>{n=String(n),(l===void 0||l>n.length)&&(l=n.length),l-=o.length;const c=n.indexOf(o,l);return c!==-1&&c===l},Qb=n=>{if(!n)return null;if(an(n))return n;let o=n.length;if(!ch(o))return null;const l=new Array(o);for(;o-- >0;)l[o]=n[o];return l},Zb=(n=>o=>n&&o instanceof n)(typeof Uint8Array<"u"&&kd(Uint8Array)),Kb=(n,o)=>{const c=(n&&n[Symbol.iterator]).call(n);let m;for(;(m=c.next())&&!m.done;){const x=m.value;o.call(n,x[0],x[1])}},Jb=(n,o)=>{let l;const c=[];for(;(l=n.exec(o))!==null;)c.push(l);return c},Wb=Fs("HTMLFormElement"),e1=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,c,m){return c.toUpperCase()+m}),Sx=(({hasOwnProperty:n})=>(o,l)=>n.call(o,l))(Object.prototype),t1=Fs("RegExp"),uh=(n,o)=>{const l=Object.getOwnPropertyDescriptors(n),c={};hi(l,(m,x)=>{let f;(f=o(m,x,n))!==!1&&(c[x]=f||m)}),Object.defineProperties(n,c)},s1=n=>{uh(n,(o,l)=>{if(vs(n)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const c=n[l];if(vs(c)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},a1=(n,o)=>{const l={},c=m=>{m.forEach(x=>{l[x]=!0})};return an(n)?c(n):c(String(n).split(o)),l},r1=()=>{},n1=(n,o)=>n!=null&&Number.isFinite(n=+n)?n:o;function i1(n){return!!(n&&vs(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const l1=n=>{const o=new Array(10),l=(c,m)=>{if(Pl(c)){if(o.indexOf(c)>=0)return;if(!("toJSON"in c)){o[m]=c;const x=an(c)?[]:{};return hi(c,(f,b)=>{const p=l(f,m+1);!oi(p)&&(x[b]=p)}),o[m]=void 0,x}}return c};return l(n,0)},o1=Fs("AsyncFunction"),c1=n=>n&&(Pl(n)||vs(n))&&vs(n.then)&&vs(n.catch),xh=((n,o)=>n?setImmediate:o?((l,c)=>(dr.addEventListener("message",({source:m,data:x})=>{m===dr&&x===l&&c.length&&c.shift()()},!1),m=>{c.push(m),dr.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",vs(dr.postMessage)),d1=typeof queueMicrotask<"u"?queueMicrotask.bind(dr):typeof process<"u"&&process.nextTick||xh,ue={isArray:an,isArrayBuffer:oh,isBuffer:kb,isFormData:Ob,isArrayBufferView:Ab,isString:Rb,isNumber:ch,isBoolean:zb,isObject:Pl,isPlainObject:kl,isReadableStream:Ib,isRequest:Pb,isResponse:qb,isHeaders:Ub,isUndefined:oi,isDate:Tb,isFile:Mb,isBlob:$b,isRegExp:t1,isFunction:vs,isStream:Lb,isURLSearchParams:Bb,isTypedArray:Zb,isFileList:_b,forEach:hi,merge:ud,extend:Fb,trim:Hb,stripBOM:Gb,inherits:Vb,toFlatObject:Yb,kindOf:Bl,kindOfTest:Fs,endsWith:Xb,toArray:Qb,forEachEntry:Kb,matchAll:Jb,isHTMLForm:Wb,hasOwnProperty:Sx,hasOwnProp:Sx,reduceDescriptors:uh,freezeMethods:s1,toObjectSet:a1,toCamelCase:e1,noop:r1,toFiniteNumber:n1,findKey:dh,global:dr,isContextDefined:mh,isSpecCompliantForm:i1,toJSONObject:l1,isAsyncFn:o1,isThenable:c1,setImmediate:xh,asap:d1};function We(n,o,l,c,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",o&&(this.code=o),l&&(this.config=l),c&&(this.request=c),m&&(this.response=m,this.status=m.status?m.status:null)}ue.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const hh=We.prototype,fh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{fh[n]={value:n}});Object.defineProperties(We,fh);Object.defineProperty(hh,"isAxiosError",{value:!0});We.from=(n,o,l,c,m,x)=>{const f=Object.create(hh);return ue.toFlatObject(n,f,function(p){return p!==Error.prototype},b=>b!=="isAxiosError"),We.call(f,n.message,o,l,c,m),f.cause=n,f.name=n.name,x&&Object.assign(f,x),f};const m1=null;function xd(n){return ue.isPlainObject(n)||ue.isArray(n)}function gh(n){return ue.endsWith(n,"[]")?n.slice(0,-2):n}function Ex(n,o,l){return n?n.concat(o).map(function(m,x){return m=gh(m),!l&&x?"["+m+"]":m}).join(l?".":""):o}function u1(n){return ue.isArray(n)&&!n.some(xd)}const x1=ue.toFlatObject(ue,{},null,function(o){return/^is[A-Z]/.test(o)});function ql(n,o,l){if(!ue.isObject(n))throw new TypeError("target must be an object");o=o||new FormData,l=ue.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,D){return!ue.isUndefined(D[_])});const c=l.metaTokens,m=l.visitor||v,x=l.dots,f=l.indexes,p=(l.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(o);if(!ue.isFunction(m))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(ue.isDate(E))return E.toISOString();if(!p&&ue.isBlob(E))throw new We("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(E)||ue.isTypedArray(E)?p&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function v(E,_,D){let C=E;if(E&&!D&&typeof E=="object"){if(ue.endsWith(_,"{}"))_=c?_:_.slice(0,-2),E=JSON.stringify(E);else if(ue.isArray(E)&&u1(E)||(ue.isFileList(E)||ue.endsWith(_,"[]"))&&(C=ue.toArray(E)))return _=gh(_),C.forEach(function(T,W){!(ue.isUndefined(T)||T===null)&&o.append(f===!0?Ex([_],W,x):f===null?_:_+"[]",g(T))}),!1}return xd(E)?!0:(o.append(Ex(D,_,x),g(E)),!1)}const S=[],R=Object.assign(x1,{defaultVisitor:v,convertValue:g,isVisitable:xd});function w(E,_){if(!ue.isUndefined(E)){if(S.indexOf(E)!==-1)throw Error("Circular reference detected in "+_.join("."));S.push(E),ue.forEach(E,function(C,L){(!(ue.isUndefined(C)||C===null)&&m.call(o,C,ue.isString(L)?L.trim():L,_,R))===!0&&w(C,_?_.concat(L):[L])}),S.pop()}}if(!ue.isObject(n))throw new TypeError("data must be an object");return w(n),o}function Dx(n){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(c){return o[c]})}function Ad(n,o){this._pairs=[],n&&ql(n,this,o)}const ph=Ad.prototype;ph.append=function(o,l){this._pairs.push([o,l])};ph.toString=function(o){const l=o?function(c){return o.call(this,c,Dx)}:Dx;return this._pairs.map(function(m){return l(m[0])+"="+l(m[1])},"").join("&")};function h1(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bh(n,o,l){if(!o)return n;const c=l&&l.encode||h1;ue.isFunction(l)&&(l={serialize:l});const m=l&&l.serialize;let x;if(m?x=m(o,l):x=ue.isURLSearchParams(o)?o.toString():new Ad(o,l).toString(c),x){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+x}return n}class Cx{constructor(){this.handlers=[]}use(o,l,c){return this.handlers.push({fulfilled:o,rejected:l,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){ue.forEach(this.handlers,function(c){c!==null&&o(c)})}}const yh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f1=typeof URLSearchParams<"u"?URLSearchParams:Ad,g1=typeof FormData<"u"?FormData:null,p1=typeof Blob<"u"?Blob:null,b1={isBrowser:!0,classes:{URLSearchParams:f1,FormData:g1,Blob:p1},protocols:["http","https","file","blob","url","data"]},Rd=typeof window<"u"&&typeof document<"u",hd=typeof navigator=="object"&&navigator||void 0,y1=Rd&&(!hd||["ReactNative","NativeScript","NS"].indexOf(hd.product)<0),v1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j1=Rd&&window.location.href||"http://localhost",N1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rd,hasStandardBrowserEnv:y1,hasStandardBrowserWebWorkerEnv:v1,navigator:hd,origin:j1},Symbol.toStringTag,{value:"Module"})),es={...N1,...b1};function w1(n,o){return ql(n,new es.classes.URLSearchParams,Object.assign({visitor:function(l,c,m,x){return es.isNode&&ue.isBuffer(l)?(this.append(c,l.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)}},o))}function S1(n){return ue.matchAll(/\w+|\[(\w*)]/g,n).map(o=>o[0]==="[]"?"":o[1]||o[0])}function E1(n){const o={},l=Object.keys(n);let c;const m=l.length;let x;for(c=0;c<m;c++)x=l[c],o[x]=n[x];return o}function vh(n){function o(l,c,m,x){let f=l[x++];if(f==="__proto__")return!0;const b=Number.isFinite(+f),p=x>=l.length;return f=!f&&ue.isArray(m)?m.length:f,p?(ue.hasOwnProp(m,f)?m[f]=[m[f],c]:m[f]=c,!b):((!m[f]||!ue.isObject(m[f]))&&(m[f]=[]),o(l,c,m[f],x)&&ue.isArray(m[f])&&(m[f]=E1(m[f])),!b)}if(ue.isFormData(n)&&ue.isFunction(n.entries)){const l={};return ue.forEachEntry(n,(c,m)=>{o(S1(c),m,l,0)}),l}return null}function D1(n,o,l){if(ue.isString(n))try{return(o||JSON.parse)(n),ue.trim(n)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(n)}const fi={transitional:yh,adapter:["xhr","http","fetch"],transformRequest:[function(o,l){const c=l.getContentType()||"",m=c.indexOf("application/json")>-1,x=ue.isObject(o);if(x&&ue.isHTMLForm(o)&&(o=new FormData(o)),ue.isFormData(o))return m?JSON.stringify(vh(o)):o;if(ue.isArrayBuffer(o)||ue.isBuffer(o)||ue.isStream(o)||ue.isFile(o)||ue.isBlob(o)||ue.isReadableStream(o))return o;if(ue.isArrayBufferView(o))return o.buffer;if(ue.isURLSearchParams(o))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let b;if(x){if(c.indexOf("application/x-www-form-urlencoded")>-1)return w1(o,this.formSerializer).toString();if((b=ue.isFileList(o))||c.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ql(b?{"files[]":o}:o,p&&new p,this.formSerializer)}}return x||m?(l.setContentType("application/json",!1),D1(o)):o}],transformResponse:[function(o){const l=this.transitional||fi.transitional,c=l&&l.forcedJSONParsing,m=this.responseType==="json";if(ue.isResponse(o)||ue.isReadableStream(o))return o;if(o&&ue.isString(o)&&(c&&!this.responseType||m)){const f=!(l&&l.silentJSONParsing)&&m;try{return JSON.parse(o)}catch(b){if(f)throw b.name==="SyntaxError"?We.from(b,We.ERR_BAD_RESPONSE,this,null,this.response):b}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:es.classes.FormData,Blob:es.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],n=>{fi.headers[n]={}});const C1=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k1=n=>{const o={};let l,c,m;return n&&n.split(`
`).forEach(function(f){m=f.indexOf(":"),l=f.substring(0,m).trim().toLowerCase(),c=f.substring(m+1).trim(),!(!l||o[l]&&C1[l])&&(l==="set-cookie"?o[l]?o[l].push(c):o[l]=[c]:o[l]=o[l]?o[l]+", "+c:c)}),o},kx=Symbol("internals");function ri(n){return n&&String(n).trim().toLowerCase()}function Al(n){return n===!1||n==null?n:ue.isArray(n)?n.map(Al):String(n)}function A1(n){const o=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=l.exec(n);)o[c[1]]=c[2];return o}const R1=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function id(n,o,l,c,m){if(ue.isFunction(c))return c.call(this,o,l);if(m&&(o=l),!!ue.isString(o)){if(ue.isString(c))return o.indexOf(c)!==-1;if(ue.isRegExp(c))return c.test(o)}}function z1(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,l,c)=>l.toUpperCase()+c)}function T1(n,o){const l=ue.toCamelCase(" "+o);["get","set","has"].forEach(c=>{Object.defineProperty(n,c+l,{value:function(m,x,f){return this[c].call(this,o,m,x,f)},configurable:!0})})}let cs=class{constructor(o){o&&this.set(o)}set(o,l,c){const m=this;function x(b,p,g){const v=ri(p);if(!v)throw new Error("header name must be a non-empty string");const S=ue.findKey(m,v);(!S||m[S]===void 0||g===!0||g===void 0&&m[S]!==!1)&&(m[S||p]=Al(b))}const f=(b,p)=>ue.forEach(b,(g,v)=>x(g,v,p));if(ue.isPlainObject(o)||o instanceof this.constructor)f(o,l);else if(ue.isString(o)&&(o=o.trim())&&!R1(o))f(k1(o),l);else if(ue.isHeaders(o))for(const[b,p]of o.entries())x(p,b,c);else o!=null&&x(l,o,c);return this}get(o,l){if(o=ri(o),o){const c=ue.findKey(this,o);if(c){const m=this[c];if(!l)return m;if(l===!0)return A1(m);if(ue.isFunction(l))return l.call(this,m,c);if(ue.isRegExp(l))return l.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(o,l){if(o=ri(o),o){const c=ue.findKey(this,o);return!!(c&&this[c]!==void 0&&(!l||id(this,this[c],c,l)))}return!1}delete(o,l){const c=this;let m=!1;function x(f){if(f=ri(f),f){const b=ue.findKey(c,f);b&&(!l||id(c,c[b],b,l))&&(delete c[b],m=!0)}}return ue.isArray(o)?o.forEach(x):x(o),m}clear(o){const l=Object.keys(this);let c=l.length,m=!1;for(;c--;){const x=l[c];(!o||id(this,this[x],x,o,!0))&&(delete this[x],m=!0)}return m}normalize(o){const l=this,c={};return ue.forEach(this,(m,x)=>{const f=ue.findKey(c,x);if(f){l[f]=Al(m),delete l[x];return}const b=o?z1(x):String(x).trim();b!==x&&delete l[x],l[b]=Al(m),c[b]=!0}),this}concat(...o){return this.constructor.concat(this,...o)}toJSON(o){const l=Object.create(null);return ue.forEach(this,(c,m)=>{c!=null&&c!==!1&&(l[m]=o&&ue.isArray(c)?c.join(", "):c)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([o,l])=>o+": "+l).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(o){return o instanceof this?o:new this(o)}static concat(o,...l){const c=new this(o);return l.forEach(m=>c.set(m)),c}static accessor(o){const c=(this[kx]=this[kx]={accessors:{}}).accessors,m=this.prototype;function x(f){const b=ri(f);c[b]||(T1(m,f),c[b]=!0)}return ue.isArray(o)?o.forEach(x):x(o),this}};cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(cs.prototype,({value:n},o)=>{let l=o[0].toUpperCase()+o.slice(1);return{get:()=>n,set(c){this[l]=c}}});ue.freezeMethods(cs);function ld(n,o){const l=this||fi,c=o||l,m=cs.from(c.headers);let x=c.data;return ue.forEach(n,function(b){x=b.call(l,x,m.normalize(),o?o.status:void 0)}),m.normalize(),x}function jh(n){return!!(n&&n.__CANCEL__)}function rn(n,o,l){We.call(this,n??"canceled",We.ERR_CANCELED,o,l),this.name="CanceledError"}ue.inherits(rn,We,{__CANCEL__:!0});function Nh(n,o,l){const c=l.config.validateStatus;!l.status||!c||c(l.status)?n(l):o(new We("Request failed with status code "+l.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function M1(n){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return o&&o[1]||""}function $1(n,o){n=n||10;const l=new Array(n),c=new Array(n);let m=0,x=0,f;return o=o!==void 0?o:1e3,function(p){const g=Date.now(),v=c[x];f||(f=g),l[m]=p,c[m]=g;let S=x,R=0;for(;S!==m;)R+=l[S++],S=S%n;if(m=(m+1)%n,m===x&&(x=(x+1)%n),g-f<o)return;const w=v&&g-v;return w?Math.round(R*1e3/w):void 0}}function _1(n,o){let l=0,c=1e3/o,m,x;const f=(g,v=Date.now())=>{l=v,m=null,x&&(clearTimeout(x),x=null),n.apply(null,g)};return[(...g)=>{const v=Date.now(),S=v-l;S>=c?f(g,v):(m=g,x||(x=setTimeout(()=>{x=null,f(m)},c-S)))},()=>m&&f(m)]}const Tl=(n,o,l=3)=>{let c=0;const m=$1(50,250);return _1(x=>{const f=x.loaded,b=x.lengthComputable?x.total:void 0,p=f-c,g=m(p),v=f<=b;c=f;const S={loaded:f,total:b,progress:b?f/b:void 0,bytes:p,rate:g||void 0,estimated:g&&b&&v?(b-f)/g:void 0,event:x,lengthComputable:b!=null,[o?"download":"upload"]:!0};n(S)},l)},Ax=(n,o)=>{const l=n!=null;return[c=>o[0]({lengthComputable:l,total:n,loaded:c}),o[1]]},Rx=n=>(...o)=>ue.asap(()=>n(...o)),L1=es.hasStandardBrowserEnv?((n,o)=>l=>(l=new URL(l,es.origin),n.protocol===l.protocol&&n.host===l.host&&(o||n.port===l.port)))(new URL(es.origin),es.navigator&&/(msie|trident)/i.test(es.navigator.userAgent)):()=>!0,O1=es.hasStandardBrowserEnv?{write(n,o,l,c,m,x){const f=[n+"="+encodeURIComponent(o)];ue.isNumber(l)&&f.push("expires="+new Date(l).toGMTString()),ue.isString(c)&&f.push("path="+c),ue.isString(m)&&f.push("domain="+m),x===!0&&f.push("secure"),document.cookie=f.join("; ")},read(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function B1(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function I1(n,o){return o?n.replace(/\/?\/$/,"")+"/"+o.replace(/^\/+/,""):n}function wh(n,o,l){let c=!B1(o);return n&&(c||l==!1)?I1(n,o):o}const zx=n=>n instanceof cs?{...n}:n;function xr(n,o){o=o||{};const l={};function c(g,v,S,R){return ue.isPlainObject(g)&&ue.isPlainObject(v)?ue.merge.call({caseless:R},g,v):ue.isPlainObject(v)?ue.merge({},v):ue.isArray(v)?v.slice():v}function m(g,v,S,R){if(ue.isUndefined(v)){if(!ue.isUndefined(g))return c(void 0,g,S,R)}else return c(g,v,S,R)}function x(g,v){if(!ue.isUndefined(v))return c(void 0,v)}function f(g,v){if(ue.isUndefined(v)){if(!ue.isUndefined(g))return c(void 0,g)}else return c(void 0,v)}function b(g,v,S){if(S in o)return c(g,v);if(S in n)return c(void 0,g)}const p={url:x,method:x,data:x,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:b,headers:(g,v,S)=>m(zx(g),zx(v),S,!0)};return ue.forEach(Object.keys(Object.assign({},n,o)),function(v){const S=p[v]||m,R=S(n[v],o[v],v);ue.isUndefined(R)&&S!==b||(l[v]=R)}),l}const Sh=n=>{const o=xr({},n);let{data:l,withXSRFToken:c,xsrfHeaderName:m,xsrfCookieName:x,headers:f,auth:b}=o;o.headers=f=cs.from(f),o.url=bh(wh(o.baseURL,o.url,o.allowAbsoluteUrls),n.params,n.paramsSerializer),b&&f.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let p;if(ue.isFormData(l)){if(es.hasStandardBrowserEnv||es.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((p=f.getContentType())!==!1){const[g,...v]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];f.setContentType([g||"multipart/form-data",...v].join("; "))}}if(es.hasStandardBrowserEnv&&(c&&ue.isFunction(c)&&(c=c(o)),c||c!==!1&&L1(o.url))){const g=m&&x&&O1.read(x);g&&f.set(m,g)}return o},P1=typeof XMLHttpRequest<"u",q1=P1&&function(n){return new Promise(function(l,c){const m=Sh(n);let x=m.data;const f=cs.from(m.headers).normalize();let{responseType:b,onUploadProgress:p,onDownloadProgress:g}=m,v,S,R,w,E;function _(){w&&w(),E&&E(),m.cancelToken&&m.cancelToken.unsubscribe(v),m.signal&&m.signal.removeEventListener("abort",v)}let D=new XMLHttpRequest;D.open(m.method.toUpperCase(),m.url,!0),D.timeout=m.timeout;function C(){if(!D)return;const T=cs.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),V={data:!b||b==="text"||b==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:T,config:n,request:D};Nh(function(ae){l(ae),_()},function(ae){c(ae),_()},V),D=null}"onloadend"in D?D.onloadend=C:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(C)},D.onabort=function(){D&&(c(new We("Request aborted",We.ECONNABORTED,n,D)),D=null)},D.onerror=function(){c(new We("Network Error",We.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let W=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const V=m.transitional||yh;m.timeoutErrorMessage&&(W=m.timeoutErrorMessage),c(new We(W,V.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,n,D)),D=null},x===void 0&&f.setContentType(null),"setRequestHeader"in D&&ue.forEach(f.toJSON(),function(W,V){D.setRequestHeader(V,W)}),ue.isUndefined(m.withCredentials)||(D.withCredentials=!!m.withCredentials),b&&b!=="json"&&(D.responseType=m.responseType),g&&([R,E]=Tl(g,!0),D.addEventListener("progress",R)),p&&D.upload&&([S,w]=Tl(p),D.upload.addEventListener("progress",S),D.upload.addEventListener("loadend",w)),(m.cancelToken||m.signal)&&(v=T=>{D&&(c(!T||T.type?new rn(null,n,D):T),D.abort(),D=null)},m.cancelToken&&m.cancelToken.subscribe(v),m.signal&&(m.signal.aborted?v():m.signal.addEventListener("abort",v)));const L=M1(m.url);if(L&&es.protocols.indexOf(L)===-1){c(new We("Unsupported protocol "+L+":",We.ERR_BAD_REQUEST,n));return}D.send(x||null)})},U1=(n,o)=>{const{length:l}=n=n?n.filter(Boolean):[];if(o||l){let c=new AbortController,m;const x=function(g){if(!m){m=!0,b();const v=g instanceof Error?g:this.reason;c.abort(v instanceof We?v:new rn(v instanceof Error?v.message:v))}};let f=o&&setTimeout(()=>{f=null,x(new We(`timeout ${o} of ms exceeded`,We.ETIMEDOUT))},o);const b=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(x):g.removeEventListener("abort",x)}),n=null)};n.forEach(g=>g.addEventListener("abort",x));const{signal:p}=c;return p.unsubscribe=()=>ue.asap(b),p}},H1=function*(n,o){let l=n.byteLength;if(l<o){yield n;return}let c=0,m;for(;c<l;)m=c+o,yield n.slice(c,m),c=m},F1=async function*(n,o){for await(const l of G1(n))yield*H1(l,o)},G1=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const o=n.getReader();try{for(;;){const{done:l,value:c}=await o.read();if(l)break;yield c}}finally{await o.cancel()}},Tx=(n,o,l,c)=>{const m=F1(n,o);let x=0,f,b=p=>{f||(f=!0,c&&c(p))};return new ReadableStream({async pull(p){try{const{done:g,value:v}=await m.next();if(g){b(),p.close();return}let S=v.byteLength;if(l){let R=x+=S;l(R)}p.enqueue(new Uint8Array(v))}catch(g){throw b(g),g}},cancel(p){return b(p),m.return()}},{highWaterMark:2})},Ul=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Eh=Ul&&typeof ReadableStream=="function",V1=Ul&&(typeof TextEncoder=="function"?(n=>o=>n.encode(o))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Dh=(n,...o)=>{try{return!!n(...o)}catch{return!1}},Y1=Eh&&Dh(()=>{let n=!1;const o=new Request(es.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!o}),Mx=64*1024,fd=Eh&&Dh(()=>ue.isReadableStream(new Response("").body)),Ml={stream:fd&&(n=>n.body)};Ul&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(o=>{!Ml[o]&&(Ml[o]=ue.isFunction(n[o])?l=>l[o]():(l,c)=>{throw new We(`Response type '${o}' is not supported`,We.ERR_NOT_SUPPORT,c)})})})(new Response);const X1=async n=>{if(n==null)return 0;if(ue.isBlob(n))return n.size;if(ue.isSpecCompliantForm(n))return(await new Request(es.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(n)||ue.isArrayBuffer(n))return n.byteLength;if(ue.isURLSearchParams(n)&&(n=n+""),ue.isString(n))return(await V1(n)).byteLength},Q1=async(n,o)=>{const l=ue.toFiniteNumber(n.getContentLength());return l??X1(o)},Z1=Ul&&(async n=>{let{url:o,method:l,data:c,signal:m,cancelToken:x,timeout:f,onDownloadProgress:b,onUploadProgress:p,responseType:g,headers:v,withCredentials:S="same-origin",fetchOptions:R}=Sh(n);g=g?(g+"").toLowerCase():"text";let w=U1([m,x&&x.toAbortSignal()],f),E;const _=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let D;try{if(p&&Y1&&l!=="get"&&l!=="head"&&(D=await Q1(v,c))!==0){let V=new Request(o,{method:"POST",body:c,duplex:"half"}),me;if(ue.isFormData(c)&&(me=V.headers.get("content-type"))&&v.setContentType(me),V.body){const[ae,Y]=Ax(D,Tl(Rx(p)));c=Tx(V.body,Mx,ae,Y)}}ue.isString(S)||(S=S?"include":"omit");const C="credentials"in Request.prototype;E=new Request(o,{...R,signal:w,method:l.toUpperCase(),headers:v.normalize().toJSON(),body:c,duplex:"half",credentials:C?S:void 0});let L=await fetch(E);const T=fd&&(g==="stream"||g==="response");if(fd&&(b||T&&_)){const V={};["status","statusText","headers"].forEach(F=>{V[F]=L[F]});const me=ue.toFiniteNumber(L.headers.get("content-length")),[ae,Y]=b&&Ax(me,Tl(Rx(b),!0))||[];L=new Response(Tx(L.body,Mx,ae,()=>{Y&&Y(),_&&_()}),V)}g=g||"text";let W=await Ml[ue.findKey(Ml,g)||"text"](L,n);return!T&&_&&_(),await new Promise((V,me)=>{Nh(V,me,{data:W,headers:cs.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:E})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,n,E),{cause:C.cause||C}):We.from(C,C&&C.code,n,E)}}),gd={http:m1,xhr:q1,fetch:Z1};ue.forEach(gd,(n,o)=>{if(n){try{Object.defineProperty(n,"name",{value:o})}catch{}Object.defineProperty(n,"adapterName",{value:o})}});const $x=n=>`- ${n}`,K1=n=>ue.isFunction(n)||n===null||n===!1,Ch={getAdapter:n=>{n=ue.isArray(n)?n:[n];const{length:o}=n;let l,c;const m={};for(let x=0;x<o;x++){l=n[x];let f;if(c=l,!K1(l)&&(c=gd[(f=String(l)).toLowerCase()],c===void 0))throw new We(`Unknown adapter '${f}'`);if(c)break;m[f||"#"+x]=c}if(!c){const x=Object.entries(m).map(([b,p])=>`adapter ${b} `+(p===!1?"is not supported by the environment":"is not available in the build"));let f=o?x.length>1?`since :
`+x.map($x).join(`
`):" "+$x(x[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return c},adapters:gd};function od(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new rn(null,n)}function _x(n){return od(n),n.headers=cs.from(n.headers),n.data=ld.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ch.getAdapter(n.adapter||fi.adapter)(n).then(function(c){return od(n),c.data=ld.call(n,n.transformResponse,c),c.headers=cs.from(c.headers),c},function(c){return jh(c)||(od(n),c&&c.response&&(c.response.data=ld.call(n,n.transformResponse,c.response),c.response.headers=cs.from(c.response.headers))),Promise.reject(c)})}const kh="1.8.4",Hl={};["object","boolean","number","function","string","symbol"].forEach((n,o)=>{Hl[n]=function(c){return typeof c===n||"a"+(o<1?"n ":" ")+n}});const Lx={};Hl.transitional=function(o,l,c){function m(x,f){return"[Axios v"+kh+"] Transitional option '"+x+"'"+f+(c?". "+c:"")}return(x,f,b)=>{if(o===!1)throw new We(m(f," has been removed"+(l?" in "+l:"")),We.ERR_DEPRECATED);return l&&!Lx[f]&&(Lx[f]=!0,console.warn(m(f," has been deprecated since v"+l+" and will be removed in the near future"))),o?o(x,f,b):!0}};Hl.spelling=function(o){return(l,c)=>(console.warn(`${c} is likely a misspelling of ${o}`),!0)};function J1(n,o,l){if(typeof n!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const c=Object.keys(n);let m=c.length;for(;m-- >0;){const x=c[m],f=o[x];if(f){const b=n[x],p=b===void 0||f(b,x,n);if(p!==!0)throw new We("option "+x+" must be "+p,We.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new We("Unknown option "+x,We.ERR_BAD_OPTION)}}const Rl={assertOptions:J1,validators:Hl},Ks=Rl.validators;let ur=class{constructor(o){this.defaults=o,this.interceptors={request:new Cx,response:new Cx}}async request(o,l){try{return await this._request(o,l)}catch(c){if(c instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const x=m.stack?m.stack.replace(/^.+\n/,""):"";try{c.stack?x&&!String(c.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+x):c.stack=x}catch{}}throw c}}_request(o,l){typeof o=="string"?(l=l||{},l.url=o):l=o||{},l=xr(this.defaults,l);const{transitional:c,paramsSerializer:m,headers:x}=l;c!==void 0&&Rl.assertOptions(c,{silentJSONParsing:Ks.transitional(Ks.boolean),forcedJSONParsing:Ks.transitional(Ks.boolean),clarifyTimeoutError:Ks.transitional(Ks.boolean)},!1),m!=null&&(ue.isFunction(m)?l.paramsSerializer={serialize:m}:Rl.assertOptions(m,{encode:Ks.function,serialize:Ks.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Rl.assertOptions(l,{baseUrl:Ks.spelling("baseURL"),withXsrfToken:Ks.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let f=x&&ue.merge(x.common,x[l.method]);x&&ue.forEach(["delete","get","head","post","put","patch","common"],E=>{delete x[E]}),l.headers=cs.concat(f,x);const b=[];let p=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(l)===!1||(p=p&&_.synchronous,b.unshift(_.fulfilled,_.rejected))});const g=[];this.interceptors.response.forEach(function(_){g.push(_.fulfilled,_.rejected)});let v,S=0,R;if(!p){const E=[_x.bind(this),void 0];for(E.unshift.apply(E,b),E.push.apply(E,g),R=E.length,v=Promise.resolve(l);S<R;)v=v.then(E[S++],E[S++]);return v}R=b.length;let w=l;for(S=0;S<R;){const E=b[S++],_=b[S++];try{w=E(w)}catch(D){_.call(this,D);break}}try{v=_x.call(this,w)}catch(E){return Promise.reject(E)}for(S=0,R=g.length;S<R;)v=v.then(g[S++],g[S++]);return v}getUri(o){o=xr(this.defaults,o);const l=wh(o.baseURL,o.url,o.allowAbsoluteUrls);return bh(l,o.params,o.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(o){ur.prototype[o]=function(l,c){return this.request(xr(c||{},{method:o,url:l,data:(c||{}).data}))}});ue.forEach(["post","put","patch"],function(o){function l(c){return function(x,f,b){return this.request(xr(b||{},{method:o,headers:c?{"Content-Type":"multipart/form-data"}:{},url:x,data:f}))}}ur.prototype[o]=l(),ur.prototype[o+"Form"]=l(!0)});let W1=class Ah{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(x){l=x});const c=this;this.promise.then(m=>{if(!c._listeners)return;let x=c._listeners.length;for(;x-- >0;)c._listeners[x](m);c._listeners=null}),this.promise.then=m=>{let x;const f=new Promise(b=>{c.subscribe(b),x=b}).then(m);return f.cancel=function(){c.unsubscribe(x)},f},o(function(x,f,b){c.reason||(c.reason=new rn(x,f,b),l(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const l=this._listeners.indexOf(o);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const o=new AbortController,l=c=>{o.abort(c)};return this.subscribe(l),o.signal.unsubscribe=()=>this.unsubscribe(l),o.signal}static source(){let o;return{token:new Ah(function(m){o=m}),cancel:o}}};function ey(n){return function(l){return n.apply(null,l)}}function ty(n){return ue.isObject(n)&&n.isAxiosError===!0}const pd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pd).forEach(([n,o])=>{pd[o]=n});function Rh(n){const o=new ur(n),l=lh(ur.prototype.request,o);return ue.extend(l,ur.prototype,o,{allOwnKeys:!0}),ue.extend(l,o,null,{allOwnKeys:!0}),l.create=function(m){return Rh(xr(n,m))},l}const j=Rh(fi);j.Axios=ur;j.CanceledError=rn;j.CancelToken=W1;j.isCancel=jh;j.VERSION=kh;j.toFormData=ql;j.AxiosError=We;j.Cancel=j.CanceledError;j.all=function(o){return Promise.all(o)};j.spread=ey;j.isAxiosError=ty;j.mergeConfig=xr;j.AxiosHeaders=cs;j.formToJSON=n=>vh(ue.isHTMLForm(n)?new FormData(n):n);j.getAdapter=Ch.getAdapter;j.HttpStatusCode=pd;j.default=j;const{Axios:Bv,AxiosError:Iv,CanceledError:Pv,isCancel:qv,CancelToken:Uv,VERSION:Hv,all:Fv,Cancel:Gv,isAxiosError:Vv,spread:Yv,toFormData:Xv,AxiosHeaders:Qv,HttpStatusCode:Zv,formToJSON:Kv,getAdapter:Jv,mergeConfig:Wv}=j,Ox=()=>{const n=Rt(),l=ms().pathname==="/registro-profesor",[c,m]=u.useState({nombre:"",apellido:"",cedula:"",email:"",telefono:"",direccion:"",password:"",confirmPassword:""}),[x,f]=u.useState(!1),[b,p]=u.useState(""),[g,v]=u.useState(!1),[S,R]=u.useState(null),[w,E]=u.useState(!1),[_,D]=u.useState(l?1:2),C=W=>{const{name:V,value:me}=W.target;m({...c,[V]:me})},L=async()=>{var W,V;if(!c.cedula){p("Por favor, ingrese su número de cédula");return}try{E(!0),p("");const me=await j.get(`http://localhost:5000/personas/verificar-profesor/${c.cedula}`);me.data.existe&&!me.data.yaRegistrado?(R(me.data.profesor),me.data.profesor.email&&m({...c,email:me.data.profesor.email,nombre:me.data.profesor.nombre,apellido:me.data.profesor.apellido}),D(2)):me.data.yaRegistrado?p("Este profesor ya tiene una cuenta registrada. Por favor, inicie sesión o recupere su contraseña."):p("No se encontró un profesor registrado con esta cédula. Por favor, contacte a la administración.")}catch(me){console.error("Error al verificar profesor:",me),p(((V=(W=me.response)==null?void 0:W.data)==null?void 0:V.message)||"Error al verificar. Por favor, intente nuevamente.")}finally{E(!1)}},T=async W=>{var V,me;if(W.preventDefault(),c.password!==c.confirmPassword){p("Las contraseñas no coinciden");return}try{f(!0),p("");let ae;if(l){if(!S){p("Debe verificar su cédula primero"),f(!1);return}ae=await j.post("http://localhost:5000/auth/register-profesor",{personaID:S.id,email:c.email,password:c.password})}else ae=await j.post("http://localhost:5000/auth/register",{...c,tipo:"representante"});v(!0),setTimeout(()=>{n("/verificacion-email",{state:{email:c.email}})},2e3)}catch(ae){console.error("Error al registrar:",ae),p(((me=(V=ae.response)==null?void 0:V.data)==null?void 0:me.message)||"Error al registrar. Por favor, intente nuevamente.")}finally{f(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:l?"Registro de Profesor":"Registro de Representante"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["¿Ya tiene una cuenta?"," ",e.jsx(Pe,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Inicie sesión aquí"})]}),!l&&e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["¿Es Profesor?"," ",e.jsx(Pe,{to:"/registro-profesor",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Regístrese aquí"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[b&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:b}),g&&e.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:"Registro exitoso. Redirigiendo a la página de verificación..."}),l&&_===1&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Verificar Identidad"}),e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700",children:"Cédula/Documento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"cedula",name:"cedula",type:"text",required:!0,value:c.cedula,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsx("button",{type:"button",onClick:L,disabled:w||!c.cedula,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:w?"Verificando...":"Verificar"})]})]}),_===2&&e.jsxs("form",{className:"space-y-6",onSubmit:T,children:[l&&S&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-md mb-4",children:[e.jsxs("p",{className:"text-green-700",children:["Profesor verificado: ",e.jsxs("strong",{children:[S.nombre," ",S.apellido]})]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Complete los siguientes datos para crear su cuenta."})]}),!l&&e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:"Nombres"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"nombre",name:"nombre",type:"text",required:!0,value:c.nombre,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"apellido",className:"block text-sm font-medium text-gray-700",children:"Apellidos"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"apellido",name:"apellido",type:"text",required:!0,value:c.apellido,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]})]}),!l&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700",children:"Cédula/Documento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"cedula",name:"cedula",type:"text",required:!0,value:c.cedula,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c.email,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",readOnly:l&&(S==null?void 0:S.email)})})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"telefono",name:"telefono",type:"tel",required:!0,value:c.telefono,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700",children:"Dirección"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"direccion",name:"direccion",rows:"2",required:!0,value:c.direccion,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:c.password,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Contraseña"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:c.confirmPassword,onChange:C,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:x?"Procesando...":"Registrarse"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O continuar con"})})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:e.jsx(Pe,{to:"/",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Volver al inicio"})})]})]})})]})},sy=()=>{const n=ms(),o=Rt(),[l,c]=u.useState(""),[m,x]=u.useState(""),[f,b]=u.useState(!1),[p,g]=u.useState(""),[v,S]=u.useState(!1),[R,w]=u.useState(!1),[E,_]=u.useState(0);u.useEffect(()=>{n.state&&n.state.email&&c(n.state.email)},[n]),u.useEffect(()=>{if(E>0){const L=setTimeout(()=>_(E-1),1e3);return()=>clearTimeout(L)}else E===0&&R&&w(!1)},[E,R]);const D=async L=>{var T,W;if(L.preventDefault(),!l){g("Por favor, ingrese su correo electrónico");return}if(!m){g("Por favor, ingrese el código de verificación");return}try{b(!0),g("");const V=await j.post("http://localhost:5000/auth/verify-email",{email:l,verificationCode:m});S(!0),setTimeout(()=>{o("/login")},3e3)}catch(V){console.error("Error al verificar el correo:",V),g(((W=(T=V.response)==null?void 0:T.data)==null?void 0:W.message)||"Error al verificar el código. Por favor, intente nuevamente.")}finally{b(!1)}},C=async()=>{var L,T;if(!l){g("Por favor, ingrese su correo electrónico");return}try{b(!0),g(""),w(!0),_(60);const W=await j.post("http://localhost:5000/auth/resend-verification",{email:l});g(""),S(!0),setTimeout(()=>S(!1),3e3)}catch(W){console.error("Error al reenviar el código:",W),g(((T=(L=W.response)==null?void 0:L.data)==null?void 0:T.message)||"Error al reenviar el código. Por favor, intente nuevamente.")}finally{b(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verificación de Correo Electrónico"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Por favor, ingrese el código de verificación enviado a su correo electrónico."})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[p&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:p}),v&&e.jsx("div",{className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:v===!0?"Verificación exitosa. Redirigiendo al inicio de sesión...":v}),e.jsxs("form",{className:"space-y-6",onSubmit:D,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:L=>c(L.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700",children:"Código de Verificación"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"verificationCode",name:"verificationCode",type:"text",required:!0,value:m,onChange:L=>x(L.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Ingrese el código de 6 dígitos"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:f,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:f?"Verificando...":"Verificar"})})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:C,disabled:R||f,className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 disabled:text-gray-400 disabled:cursor-not-allowed",children:R?`Reenviar código (${E}s)`:"Reenviar código"}),e.jsx(Pe,{to:"/login",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Volver al inicio de sesión"})]})]})})]})},ay=()=>{const n=Rt(),[o,l]=u.useState({email:"",password:""}),[c,m]=u.useState(!1),[x,f]=u.useState(""),b=g=>{const{name:v,value:S}=g.target;l({...o,[v]:S})},p=async g=>{var v,S;g.preventDefault();try{m(!0),f("");const R=await j.post("http://localhost:5000/auth/login",o);localStorage.setItem("token",R.data.token),localStorage.setItem("user",JSON.stringify(R.data.user));const w=R.data.user;w.tipo==="representante"?n("/dashboard/representante"):w.tipo==="adminWeb"||w.tipo==="owner"?n("/admin/dashboard"):w.tipo==="profesor"?n("/profesor/dashboard"):n("/dashboard")}catch(R){console.error("Error al iniciar sesión:",R),f(((S=(v=R.response)==null?void 0:v.data)==null?void 0:S.message)||"Error al iniciar sesión. Verifique sus credenciales.")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Iniciar Sesión"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["¿No tiene una cuenta?"," ",e.jsx(Pe,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Regístrese aquí"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[x&&e.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:x}),e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:b,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contraseña"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o.password,onChange:b,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Recordarme"})]}),e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"¿Olvidó su contraseña?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-400 disabled:cursor-not-allowed",children:c?"Iniciando sesión...":"Iniciar Sesión"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"O continuar con"})})]}),e.jsx("div",{className:"mt-6 grid grid-cols-1 gap-3",children:e.jsx(Pe,{to:"/",className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:"Volver al inicio"})})]})]})})]})},ry="http://localhost:5000",Fl=j.create({baseURL:ry,headers:{"Content-Type":"application/json"}});Fl.interceptors.request.use(n=>{const o=localStorage.getItem("token");return o&&(n.headers.Authorization=`Bearer ${o}`),n},n=>Promise.reject(n));Fl.interceptors.response.use(n=>n,n=>(n.response&&n.response.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(n)));const ny=()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},iy=()=>{const n=localStorage.getItem("user");return n?JSON.parse(n):null},ly=async n=>{var o;try{return(await Fl.post("/auth/forgot-password",{email:n})).data}catch(l){throw((o=l.response)==null?void 0:o.data)||{message:"Error de conexión"}}},oy=async(n,o,l)=>{var c;try{return(await Fl.post("/auth/reset-password",{email:n,code:o,newPassword:l})).data}catch(m){throw((c=m.response)==null?void 0:c.data)||{message:"Error de conexión"}}},cy=()=>{const n=Rt(),[o,l]=u.useState(""),[c,m]=u.useState(!1),[x,f]=u.useState(""),[b,p]=u.useState(""),g=async v=>{v.preventDefault(),m(!0),f(""),p("");try{const S=await ly(o);p(S.message),setTimeout(()=>{n("/reset-password",{state:{email:o}})},3e3)}catch(S){f(S.message||"Error al procesar la solicitud")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Recuperar Contraseña"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa tu correo electrónico y te enviaremos un código para restablecer tu contraseña."})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[x&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:x})}),b&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:b})}),e.jsxs("form",{className:"space-y-6",onSubmit:g,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o,onChange:v=>l(v.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:c?"Enviando...":"Enviar Código"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"¿Recordaste tu contraseña?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>n("/login"),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver a Iniciar Sesión"})})]})]})})]})},dy=()=>{const n=Rt(),o=ms(),[l,c]=u.useState({email:"",code:"",newPassword:"",confirmPassword:""}),[m,x]=u.useState(!1),[f,b]=u.useState(""),[p,g]=u.useState("");u.useEffect(()=>{var R;(R=o.state)!=null&&R.email&&c(w=>({...w,email:o.state.email}))},[o]);const v=R=>{const{name:w,value:E}=R.target;c(_=>({..._,[w]:E}))},S=async R=>{if(R.preventDefault(),x(!0),b(""),g(""),l.newPassword!==l.confirmPassword){b("Las contraseñas no coinciden"),x(!1);return}try{const w=await oy(l.email,l.code,l.newPassword);g(w.message),setTimeout(()=>{n("/login",{state:{message:"Contraseña restablecida correctamente. Ahora puedes iniciar sesión."}})},3e3)}catch(w){b(w.message||"Error al restablecer la contraseña")}finally{x(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Restablecer Contraseña"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Ingresa el código que recibiste por correo y tu nueva contraseña."})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[f&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:f})}),p&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:p})}),e.jsxs("form",{className:"space-y-6",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electrónico"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l.email,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700",children:"Código de Recuperación"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"code",name:"code",type:"text",required:!0,value:l.code,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"Nueva Contraseña"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",required:!0,value:l.newPassword,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirmar Contraseña"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:l.confirmPassword,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?"Procesando...":"Restablecer Contraseña"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"¿Recordaste tu contraseña?"})})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>n("/login"),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver a Iniciar Sesión"})})]})]})})]})},my=()=>{var ae;const{inscripcionId:n}=Ws(),o=Rt(),[l,c]=u.useState(null),[m,x]=u.useState(null),[f,b]=u.useState([]),[p,g]=u.useState(!0),[v,S]=u.useState(""),[R,w]=u.useState(""),[E,_]=u.useState(!1),[D,C]=u.useState({metodoPagoID:"",referencia:"",monto:"",fecha:new Date().toISOString().split("T")[0],observaciones:""}),[L,T]=u.useState(null);u.useEffect(()=>{(async()=>{try{const F=await j.get(`http://localhost:5000/inscripciones/${n}`);c(F.data),C(ee=>({...ee,monto:F.data.montoInscripcion}));const $=await j.get(`http://localhost:5000/personas/${F.data.estudianteID}`);x($.data);const K=await j.get("http://localhost:5000/metodos-pago/activos");b(K.data),g(!1)}catch(F){console.error("Error al cargar datos:",F),S("Error al cargar los datos necesarios"),g(!1)}})()},[n]);const W=Y=>{const{name:F,value:$}=Y.target;C(K=>({...K,[F]:$}))},V=Y=>{T(Y.target.files[0])},me=async Y=>{var F,$;if(Y.preventDefault(),!L){S("Debe adjuntar un comprobante de pago");return}_(!0),S("");try{const K=new FormData;K.append("inscripcionID",n),K.append("estudianteID",m.id),K.append("metodoPagoID",D.metodoPagoID),K.append("referencia",D.referencia),K.append("monto",D.monto),K.append("fecha",D.fecha),K.append("observaciones",D.observaciones),K.append("comprobante",L),K.append("arancelID",l.arancelID||1);const ee=await j.post("http://localhost:5000/pagos-estudiantes/registrar",K,{headers:{"Content-Type":"multipart/form-data"}});w("Pago registrado correctamente. Será revisado por la administración."),setTimeout(()=>{o(`/inscripcion/comprobante/${n}`)},2e3)}catch(K){console.error("Error al registrar pago:",K),S((($=(F=K.response)==null?void 0:F.data)==null?void 0:$.message)||"Error al registrar el pago")}finally{_(!1)}};return p?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsx("div",{className:"min-h-screen bg-gray-100 py-12",children:e.jsx("div",{className:"max-w-2xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("div",{className:"px-6 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Registrar Pago de Inscripción"}),v&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:v})})]})}),R&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:R})})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Información del Estudiante"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:[m==null?void 0:m.nombre," ",m==null?void 0:m.apellido," - C.I.: ",m==null?void 0:m.cedula]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Monto a pagar: $",((ae=aranceles.find(Y=>Y.id===parseInt(D.arancelID)))==null?void 0:ae.monto)||"No seleccionado"]})]})}),e.jsx("form",{onSubmit:me,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"arancelID",className:"block text-sm font-medium text-gray-700",children:"Arancel"}),e.jsxs("select",{id:"arancelID",name:"arancelID",value:D.arancelID,onChange:W,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un arancel"}),aranceles.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.nombre," - $",Y.monto]},Y.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"metodoPagoID",className:"block text-sm font-medium text-gray-700",children:"Método de Pago"}),e.jsxs("select",{id:"metodoPagoID",name:"metodoPagoID",value:D.metodoPagoID,onChange:W,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un método de pago"}),f.map(Y=>e.jsx("option",{value:Y.id,children:Y.nombre},Y.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"referencia",className:"block text-sm font-medium text-gray-700",children:"Referencia / Nº de Transacción"}),e.jsx("input",{type:"text",name:"referencia",id:"referencia",value:D.referencia,onChange:W,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"comprobante",className:"block text-sm font-medium text-gray-700",children:"Comprobante de Pago"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e.jsx("span",{children:"Subir un archivo"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:V})]}),e.jsx("p",{className:"pl-1",children:"o arrastre y suelte"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF hasta 10MB"}),L&&e.jsxs("p",{className:"text-sm text-indigo-600 mt-2",children:["Archivo seleccionado: ",L.name]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:3,value:D.observaciones,onChange:W,className:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),e.jsxs("div",{className:"flex justify-between pt-5",children:[e.jsx(Pe,{to:`/inscripcion/comprobante/${n}`,className:"inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:E,className:`inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${E?"opacity-50 cursor-not-allowed":""}`,children:E?"Registrando...":"Registrar Pago"})]})]})})]})})})};var zh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Bx=mr.createContext&&mr.createContext(zh),uy=["attr","size","title"];function xy(n,o){if(n==null)return{};var l=hy(n,o),c,m;if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(n);for(m=0;m<x.length;m++)c=x[m],!(o.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(n,c)&&(l[c]=n[c])}return l}function hy(n,o){if(n==null)return{};var l={};for(var c in n)if(Object.prototype.hasOwnProperty.call(n,c)){if(o.indexOf(c)>=0)continue;l[c]=n[c]}return l}function $l(){return $l=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(n[c]=l[c])}return n},$l.apply(this,arguments)}function Ix(n,o){var l=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);o&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(n,m).enumerable})),l.push.apply(l,c)}return l}function _l(n){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?Ix(Object(l),!0).forEach(function(c){fy(n,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(l)):Ix(Object(l)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(l,c))})}return n}function fy(n,o,l){return o=gy(o),o in n?Object.defineProperty(n,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[o]=l,n}function gy(n){var o=py(n,"string");return typeof o=="symbol"?o:o+""}function py(n,o){if(typeof n!="object"||!n)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var c=l.call(n,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}function Th(n){return n&&n.map((o,l)=>mr.createElement(o.tag,_l({key:l},o.attr),Th(o.child)))}function st(n){return o=>mr.createElement(by,$l({attr:_l({},n.attr)},o),Th(n.child))}function by(n){var o=l=>{var{attr:c,size:m,title:x}=n,f=xy(n,uy),b=m||l.size||"1em",p;return l.className&&(p=l.className),n.className&&(p=(p?p+" ":"")+n.className),mr.createElement("svg",$l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,c,f,{className:p,style:_l(_l({color:n.color||l.color},l.style),n.style),height:b,width:b,xmlns:"http://www.w3.org/2000/svg"}),x&&mr.createElement("title",null,x),n.children)};return Bx!==void 0?mr.createElement(Bx.Consumer,null,l=>o(l)):o(zh)}function hr(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function yy(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function vy(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function ci(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(n)}function Wr(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(n)}function jy(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 64h448v352h64V40c0-22.06-17.94-40-40-40H72C49.94 0 32 17.94 32 40v376h64V64zm528 384H480v-64H288v64H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function Px(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function bd(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function Ny(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function wy(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(n)}function zd(n){return st({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(n)}function Sy(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function Mh(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function ds(n){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function Qt(n){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(n)}function Ey(n){return st({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(n)}function ii(n){return st({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function Dy(n){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(n)}function qx(n){return st({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"},child:[]}]})(n)}function Cy(n){return st({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(n)}function Td(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(n)}function $h(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(n)}function ky(n){return st({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function Ay(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(n)}function fr(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(n)}function rs(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function _h(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(n)}function gr(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(n)}function Ry(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function pr(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function zy(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function Ty(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(n)}function Ux(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(n)}function ya(n){return st({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Pt(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(n)}function Ps(n){return st({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function br(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(n)}function Gl(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function My(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(n)}function $y(n){return st({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function di(n){return st({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const _y=({isOpen:n,onClose:o,estudianteID:l})=>{const[c,m]=u.useState("materias"),[x,f]=u.useState(!0),[b,p]=u.useState(""),[g,v]=u.useState(null),[S,R]=u.useState([]),[w,E]=u.useState(null),[_,D]=u.useState(null),[C,L]=u.useState([]),[T,W]=u.useState([]),[V,me]=u.useState([]),[ae,Y]=u.useState(null);u.useEffect(()=>{n&&l&&F()},[n,l]);const F=async()=>{var ee;try{f(!0);const X=localStorage.getItem("token");if(!X){p("No se encontró token de autenticación"),f(!1);return}const te={headers:{Authorization:`Bearer ${X}`}},fe=await j.get(`http://localhost:5000/personas/${l}`,te);v(fe.data);const B=await j.get("http://localhost:5000/anno-escolar/actual",te);Y(B.data);let J=null;try{const q=await j.get(`http://localhost:5000/grados/estudiante/${l}`,{...te,params:{annoEscolarID:B.data.id}});if(q.data&&q.data.length>0){J=q.data[0],E(J);try{const de=await j.get(`http://localhost:5000/grados/${J.id}/materias`,{...te,params:{annoEscolarID:B.data.id}});L(de.data)}catch(de){console.error("Error al obtener materias:",de),L([])}try{const de=await j.get(`http://localhost:5000/secciones/estudiante/${l}`,{...te,params:{annoEscolarID:B.data.id}});de.data&&de.data.length>0&&D(de.data[0])}catch(de){console.error("Error al obtener sección:",de)}}}catch(q){console.error("Error al obtener grado:",q)}try{const q=await j.get(`http://localhost:5000/evaluaciones/estudiante/${l}`,{...te,params:{annoEscolarID:(ee=B.data)==null?void 0:ee.id}});me(q.data)}catch(q){console.error("Error al obtener evaluaciones:",q),me([])}try{const q=B.data.id,de=await j.get(`http://localhost:5000/calificaciones/estudiante/${l}`,{...te,params:{annoEscolarID:q}});if(console.log("Respuesta de calificaciones (directa):",de.data),Array.isArray(de.data)&&de.data.length>0)W(de.data);else if(C&&C.length>0){console.log("Obteniendo calificaciones por materias:",C);let N=[];for(const k of C)try{const z=await j.get(`http://localhost:5000/calificaciones/materia/${k.id}`,{...te,params:{estudianteID:l,annoEscolarID:q}});if(console.log(`Calificaciones para materia ${k.asignatura}:`,z.data),z.data&&Array.isArray(z.data)&&z.data.length>0){const pe=z.data.map(P=>({...P,materiaID:k.id,nombreMateria:k.asignatura}));N=[...N,...pe]}}catch(z){console.error(`Error al obtener calificaciones para materia ${k.id}:`,z)}N.length>0?(console.log("Calificaciones encontradas por materias:",N),W(N)):W([])}else W([])}catch(q){if(console.error("Error al obtener calificaciones:",q),C&&C.length>0)try{const de=B.data.id;let N=[];for(const k of C)try{const z=await j.get(`http://localhost:5000/calificaciones/materia/${k.id}`,{...te,params:{estudianteID:l,annoEscolarID:de}});if(z.data&&Array.isArray(z.data)&&z.data.length>0){const pe=z.data.map(P=>({...P,materiaID:k.id,nombreMateria:k.asignatura}));N=[...N,...pe]}}catch(z){console.error(`Error al obtener calificaciones para materia ${k.id}:`,z)}N.length>0?W(N):W([])}catch(de){console.error("Error al obtener calificaciones por materias:",de),W([])}else W([])}try{const q=await j.get("http://localhost:5000/personas/tipo/profesor",te);R(q.data)}catch(q){console.error("Error al obtener profesores:",q),R([])}f(!1)}catch(X){console.error("Error al cargar datos del estudiante:",X),p("Error al cargar los datos del estudiante. Por favor, intente nuevamente."),f(!1)}},$=ee=>{if(T.length>0&&T[0].hasOwnProperty("asignatura")){const X=T.find(J=>J.id===ee);if(!X)return{promedio:0,porcentajeCompletado:0,calificaciones:[]};let te=0,fe=0;X.lapsos?(Object.keys(X.lapsos).forEach(J=>{X.lapsos[J]&&X.lapsos[J].nota&&(te+=parseFloat(X.lapsos[J].nota),fe++)}),te=fe>0?te/fe:0):X.definitiva&&(te=parseFloat(X.definitiva));const B=fe>0?fe/3*100:0;return{promedio:te.toFixed(2),porcentajeCompletado:Math.round(B),calificaciones:X.lapsos?Object.keys(X.lapsos).map(J=>({lapso:J,valor:X.lapsos[J].nota,porcentajeEvaluado:X.lapsos[J].porcentajeEvaluado})):[]}}else{const X=T.filter(q=>q.Evaluacion&&q.Evaluacion.materiaID===ee||q.materiaID===ee);if(X.length===0)return{promedio:0,porcentajeCompletado:0,calificaciones:[]};const fe=X.reduce((q,de)=>q+parseFloat(de.calificacion||de.valor||0),0)/X.length,B=V.filter(q=>q.materiaID===ee),J=B.length>0?X.length/B.length*100:0;return{promedio:fe.toFixed(2),porcentajeCompletado:Math.round(J),calificaciones:X}}},K=ee=>{if(!ee)return"No disponible";const X=new Date(ee);return isNaN(X.getTime())?"Fecha inválida":X.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})};return n?e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b pb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x?"Cargando información académica...":g?`Progreso Académico de ${g.nombre} ${g.apellido}`:"Información Académica"}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:e.jsx(ya,{size:24})})]}),x?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b?e.jsx("div",{className:"bg-red-50 p-4 rounded-md text-red-700",children:b}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Año Escolar"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:ae?ae.periodo:"No disponible"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Grado"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:w?w.nombre_grado:"No asignado"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Sección"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_?_.nombre_seccion:"No asignada"})]})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsxs("button",{onClick:()=>m("materias"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center ${c==="materias"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ci,{className:"mr-2"})," Materias y Progreso"]}),e.jsxs("button",{onClick:()=>m("calificaciones"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center ${c==="calificaciones"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx($h,{className:"mr-2"})," Calificaciones"]}),e.jsxs("button",{onClick:()=>m("evaluaciones"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm flex items-center ${c==="evaluaciones"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(zd,{className:"mr-2"})," Evaluaciones"]})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[c==="materias"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Materias y Progreso Académico"}),C.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:C.map(ee=>{const X=$(ee.id);return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:ee.asignatura}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ee.descripcion||"Sin descripción"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Promedio: ",X.promedio]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Progreso del curso"}),e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:[X.porcentajeCompletado,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${X.porcentajeCompletado}%`}})})]}),X.calificaciones.length>0?e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Calificaciones"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Evaluación"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calificación"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:X.calificaciones.map(te=>{const fe=V.find(B=>B.id===te.evaluacionID);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:fe?fe.titulo:"No disponible"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:fe?fe.tipo:"No disponible"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:te.fecha?K(te.fecha):"No disponible"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${parseFloat(te.valor)>=10?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.valor})})]},te.id)})})]})})]}):e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"No hay calificaciones registradas para esta materia."}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Próximas Evaluaciones"}),V.filter(te=>te.materiaID===ee.id&&new Date(te.fecha)>new Date&&!X.calificaciones.some(fe=>fe.evaluacionID===te.id)).length>0?e.jsx("ul",{className:"space-y-2",children:V.filter(te=>te.materiaID===ee.id&&new Date(te.fecha)>new Date&&!X.calificaciones.some(fe=>fe.evaluacionID===te.id)).map(te=>e.jsxs("li",{className:"flex justify-between items-center p-2 bg-white rounded-md shadow-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm",children:te.titulo}),e.jsx("p",{className:"text-xs text-gray-500",children:te.tipo})]}),e.jsx("span",{className:"text-xs text-gray-500",children:K(te.fecha)})]},te.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No hay evaluaciones pendientes."})]})]},ee.id)})}):e.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:e.jsx("p",{className:"text-yellow-700",children:"No hay materias asignadas para este estudiante."})})]}),c==="calificaciones"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Calificaciones"}),T&&T.length>0?e.jsx("div",{className:"bg-gray-50 p-4 rounded-md overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materia"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T[0]&&T[0].hasOwnProperty("asignatura")?"Lapso":"Evaluación"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calificación"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:T[0]&&T[0].hasOwnProperty("asignatura")?"Progreso":"Tipo"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T[0]&&T[0].hasOwnProperty("asignatura")?T.flatMap(ee=>ee.lapsos?Object.keys(ee.lapsos).map(X=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.asignatura})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["Lapso ",X]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm font-medium ${parseFloat(ee.lapsos[X].nota)>=10?"text-green-600":"text-red-600"}`,children:ee.lapsos[X].nota})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ee.lapsos[X].porcentajeEvaluado?`${ee.lapsos[X].porcentajeEvaluado}% evaluado`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ee.lapsos[X].fecha?K(ee.lapsos[X].fecha):"N/A"})})]},`${ee.id}-${X}`)):[]):T.map((ee,X)=>{const te=V.find(B=>B.id===ee.evaluacionID);var fe=C.find(B=>B.id===((te==null?void 0:te.materiaID)||ee.materiaID));return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(fe==null?void 0:fe.asignatura)||ee.nombreMateria||"No disponible"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:te?te.tipoEvaluacion||te.tipo||"No especificado":ee.tipoEvaluacion||ee.tipo||"No especificado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm font-medium ${parseFloat(ee.calificacion||ee.valor||0)>=10?"text-green-600":"text-red-600"}`,children:ee.calificacion||ee.valor||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:te?te.tipoEvaluacion||te.tipo||"No especificado":ee.tipoEvaluacion||ee.tipo||"No especificado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ee.fecha||ee.fechaRegistro||ee.createdAt?K(ee.fecha||ee.fechaRegistro||ee.createdAt):"N/A"})})]},ee.id||`cal-${X}`)})})]})}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:C&&C.length>0?e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-2",children:"No hay calificaciones registradas para este estudiante."}),e.jsxs("p",{className:"text-gray-500",children:["El estudiante está inscrito en ",C.length," materia(s), pero aún no tiene evaluaciones calificadas."]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-700 mb-2",children:["Materias del grado ",w==null?void 0:w.nombre_grado,":"]}),e.jsx("ul",{className:"list-disc pl-5",children:C.map(ee=>e.jsx("li",{className:"text-gray-600",children:ee.asignatura},ee.id))})]})]}):w?e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-2",children:"No hay calificaciones ni materias registradas para este estudiante."}),e.jsxs("p",{className:"text-gray-500",children:["El estudiante está asignado al grado ",w.nombre_grado,", pero no tiene materias asignadas."]})]}):e.jsx("p",{className:"text-gray-500",children:"No hay calificaciones ni información académica registrada para este estudiante."})})]}),c==="evaluaciones"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Evaluaciones"}),V.length>0?e.jsx("div",{className:"bg-gray-50 p-4 rounded-md overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materia"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profesor"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lapso"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Porcentaje"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map(ee=>{const X=C.find(N=>N.id===ee.materiaID),te=T.find(N=>N.evaluacionID===ee.id),fe=new Date(ee.fechaEvaluacion||ee.fecha),B=new Date,J=S.find(N=>N.id===ee.profesorID);let q="Pendiente",de="bg-yellow-100 text-yellow-800";return te?(q="Calificada",de="bg-green-100 text-green-800"):fe<B?(q="Vencida",de="bg-red-100 text-red-800"):fe>B&&(q="Próxima",de="bg-blue-100 text-blue-800"),e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(X==null?void 0:X.asignatura)||"No disponible"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:ee.nombreEvaluacion||ee.titulo}),ee.descripcion&&e.jsx("div",{className:"text-xs text-gray-500",children:ee.descripcion})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:J?`${J.nombre} ${J.apellido}`:"No asignado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ee.tipoEvaluacion||ee.tipo})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ee.lapso||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ee.porcentaje?`${ee.porcentaje}%`:"N/A"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-500",children:K(ee.fechaEvaluacion||ee.fecha)}),ee.requiereEntrega&&ee.fechaLimiteEntrega&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Entrega: ",K(ee.fechaLimiteEntrega)]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${de}`,children:q}),te&&e.jsxs("div",{className:"text-sm font-medium mt-1",children:["Nota: ",te.valor]})]})]},ee.id)})})]})}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-gray-500",children:"No hay evaluaciones registradas para este estudiante."})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cerrar"})})]})]})}):null},Ly=()=>{var he,Re;const[n,o]=u.useState(null),[l,c]=u.useState([]),[m,x]=u.useState([]),[f,b]=u.useState([]),[p,g]=u.useState(!0),[v,S]=u.useState(""),[R,w]=u.useState(""),[E,_]=u.useState([]),[D,C]=u.useState([]),[L,T]=u.useState([]),[W,V]=u.useState([]),[me,ae]=u.useState([]),[Y,F]=u.useState("pendientes"),[$,K]=u.useState(""),[ee,X]=u.useState(1),[te]=u.useState(5),[fe,B]=u.useState(!1),[J,q]=u.useState([]),[de,N]=u.useState([]),[k,z]=u.useState(!1),[pe,P]=u.useState(!1),[Ce,ze]=u.useState(null),M=u.useRef(null),[be,Ae]=u.useState(null),[re,Se]=u.useState(!1),[Q,xe]=u.useState(null),[Be,Le]=u.useState(!1),[et,Je]=u.useState(null),[at,gt]=u.useState({estudianteID:"",representanteID:"",metodoPagoID:"",arancelID:"",inscripcionID:"",annoEscolarID:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),[Oe,I]=u.useState(null),[se,ve]=u.useState({estudianteID:"",arancelID:"",metodoPagoID:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:"",annoEscolarID:""}),[Ee,Ve]=u.useState("0");u.useEffect(()=>{const U=parseFloat(se.monto)||0,je=parseFloat(se.montoMora)||0,Ie=parseFloat(se.descuento)||0,Qe=U+je-Ie;Ve(Qe.toFixed(2))},[se.monto,se.montoMora,se.descuento]),u.useEffect(()=>{(async()=>{try{const je=localStorage.getItem("token"),Ie=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${je}`}});Ie.data&&Ie.data.id&&ve(Qe=>({...Qe,annoEscolarID:Ie.data.id}))}catch(je){console.error("Error al cargar año escolar:",je)}})()},[]),u.useEffect(()=>{(async()=>{try{g(!0);const je=localStorage.getItem("token"),Ie=JSON.parse(atob(je.split(".")[1])),Qe=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${je}`}});if(!Qe.data||!Qe.data.id){console.error("No se pudo obtener el año escolar actual"),S("Error al cargar datos. No se pudo obtener el año escolar actual."),g(!1);return}const yt=Qe.data.id;Ae(Qe.data);const Et=await j.get(`http://localhost:5000/personas/${Ie.personaID}`,{headers:{Authorization:`Bearer ${je}`}});o(Et.data),localStorage.setItem("representanteData",JSON.stringify(Et.data));const ts=await j.get(`http://localhost:5000/personas/representante/${Ie.personaID}/estudiantes`,{headers:{Authorization:`Bearer ${je}`}}),vt=await Promise.all(ts.data.map(async is=>{try{const Zt=await j.get(`http://localhost:5000/grados/estudiante/${is.id}?annoEscolarID=${yt}`,{headers:{Authorization:`Bearer ${je}`}});return Zt.data&&Zt.data.length>0?(console.log("Estructura del grado:",Zt.data[0]),{...is,grado:Zt.data[0]}):is}catch(Zt){return console.error(`Error al obtener grado para estudiante ${is.id}:`,Zt),is}}));c(vt);const ns=await j.get(`http://localhost:5000/inscripciones/representante/${Ie.personaID}`,{headers:{Authorization:`Bearer ${je}`}});x(ns.data);const js=await j.get("http://localhost:5000/cupos/resumen");b(js.data.resumenCupos);const qt=await j.get(`http://localhost:5000/pagos/representante/${Ie.personaID}`,{headers:{Authorization:`Bearer ${je}`}});if(console.log("Datos de pagos:",qt.data),qt.data&&Array.isArray(qt.data)){_(qt.data);const is=qt.data.filter(us=>us.estado==="pendiente"),Zt=qt.data.filter(us=>us.estado==="pagado"),Gs=qt.data.filter(us=>us.estado==="anulado");C(is),T(Zt),V(Gs),ae(is),ae(Y==="pendientes"?is:Y==="pagados"?Zt:Gs)}g(!1)}catch(je){console.error("Error al cargar datos:",je),S("Error al cargar datos. Por favor, intente nuevamente."),g(!1)}})()},[Y]),u.useEffect(()=>{(async()=>{try{const je=localStorage.getItem("token");if(!je)return;const Ie=JSON.parse(atob(je.split(".")[1])),Qe=await j.get(`http://localhost:5000/pagos/representante/${Ie.personaID}`,{headers:{Authorization:`Bearer ${je}`}});Qe.data&&Array.isArray(Qe.data)&&_(Qe.data)}catch(je){console.error("Error al cargar pagos:",je)}})()},[]),u.useEffect(()=>{let U=[];if(Y==="pendientes"?U=D:Y==="pagados"?U=L:U=W,$.trim()==="")ae(U);else{const je=U.filter(Ie=>Ie.estudiantes&&Ie.estudiantes.nombre&&Ie.estudiantes.nombre.toLowerCase().includes($.toLowerCase())||Ie.estudiantes&&Ie.estudiantes.apellido&&Ie.estudiantes.apellido.toLowerCase().includes($.toLowerCase())||Ie.estudiantes&&Ie.estudiantes.cedula&&Ie.estudiantes.cedula.toLowerCase().includes($.toLowerCase())||Ie.referencia&&Ie.referencia.toLowerCase().includes($.toLowerCase())||Ie.id&&Ie.id.toString().toLowerCase().includes($.toLowerCase()));ae(je)}X(1)},[$,D,L,W,Y]);const oe=async()=>{const U=localStorage.getItem("token");try{z(!0);const je=await j.get("http://localhost:5000/aranceles",{headers:{Authorization:`Bearer ${U}`}});q(je.data.filter(Ie=>Ie.activo)),z(!1)}catch(je){console.error("Error al cargar aranceles:",je),q([]),z(!1)}try{P(!0);const je=await j.get("http://localhost:5000/metodos-pago",{headers:{Authorization:`Bearer ${U}`}});N(je.data.filter(Ie=>Ie.activo)),P(!1)}catch(je){console.error("Error al cargar métodos de pago:",je),N([]),P(!1)}},Te=()=>{ve({estudianteID:"",arancelID:"",metodoPagoID:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),I(null),M.current&&(M.current.value=""),oe(),B(!0)},De=U=>{U.target.files&&U.target.files.length>0?I(U.target.files[0]):I(null)},qe=()=>{Se(!1),xe(null)},ct=U=>{U.urlComprobante&&window.open(`http://localhost:5000${U.urlComprobante}`,"_blank")},$e=()=>{B(!1),ve({estudianteID:"",arancelID:"",metodoPagoID:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),I(null),M.current&&(M.current.value="")},O=async U=>{var je,Ie;if(U.preventDefault(),!se.estudianteID||!se.arancelID||!se.metodoPagoID||!se.monto){S("Por favor, complete todos los campos obligatorios.");return}try{g(!0),S("");const Qe=localStorage.getItem("token"),yt=JSON.parse(atob(Qe.split(".")[1])),Et=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${Qe}`}});if(!Et.data||!Et.data.id)throw new Error("No se pudo obtener el año escolar actual");const ts=Et.data.id,vt=new FormData;vt.append("estudianteID",se.estudianteID),vt.append("representanteID",yt.personaID),vt.append("metodoPagoID",se.metodoPagoID),vt.append("arancelID",se.arancelID),vt.append("monto",se.monto),vt.append("montoTotal",Ee),vt.append("annoEscolarID",ts),se.montoMora&&se.montoMora!=="0"&&vt.append("montoMora",se.montoMora),se.descuento&&se.descuento!=="0"&&vt.append("descuento",se.descuento),se.mesPago&&vt.append("mesPago",se.mesPago),se.fechaPago&&vt.append("fechaPago",se.fechaPago),se.referencia&&vt.append("referencia",se.referencia),se.observaciones&&vt.append("observaciones",se.observaciones),Oe&&vt.append("comprobante",Oe),console.log("Datos a enviar:");for(let qt of vt.entries())console.log(qt[0]+": "+qt[1]);const ns=await j.post("http://localhost:5000/pagos",vt,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${Qe}`}});console.log("Respuesta del servidor:",ns.data),w("Pago registrado correctamente"),$e();const js=await j.get(`http://localhost:5000/pagos/representante/${yt.personaID}`,{headers:{Authorization:`Bearer ${Qe}`}});js.data&&Array.isArray(js.data)&&_(js.data),g(!1),setTimeout(()=>{w("")},3e3)}catch(Qe){console.error("Error al registrar pago:",Qe),S(((Ie=(je=Qe.response)==null?void 0:je.data)==null?void 0:Ie.message)||"Error al registrar el pago. Por favor, intente nuevamente."),g(!1)}},we=U=>{Je(U.id),Le(!0)},ce=ee*te,_e=ce-te;me.slice(_e,ce);const He=U=>U?new Date(U).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",Ye=U=>U==null?"N/A":`$${parseFloat(U).toFixed(2)}`;return p&&!n?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard del Representante"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-gray-600 mr-4",children:[n==null?void 0:n.nombre," ",n==null?void 0:n.apellido]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},className:"bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition-colors",children:"Cerrar Sesión"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[v&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:v}),R&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:R}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Mis Estudiantes"}),e.jsx(Pe,{to:"/inscripcion/nuevo-estudiante",className:"bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700 transition-colors",children:"Inscribir Nuevo Estudiante"})]}),l.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-500",children:"No tiene estudiantes registrados."}),e.jsx("p",{className:"text-gray-500 mt-2",children:'Haga clic en "Inscribir Nuevo Estudiante" para comenzar.'})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(U=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.nombre," ",U.apellido]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:U.cedula})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:U.grado?e.jsx(e.Fragment,{children:U.grado.nombre_grado||"Grado sin nombre"}):"No asignado"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx(Pe,{to:`/estudiante/${U.id}`,className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Ver Detalles"}),e.jsx("button",{onClick:()=>we(U),className:"text-blue-600 hover:text-blue-900",children:"Ver Progreso"})]})]},U.id))})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inscripciones Recientes"}),m.length===0?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-gray-500",children:"No tiene inscripciones registradas."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(U=>{var je;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[U.estudiante.nombre," ",U.estudiante.apellido]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:(je=U.grado)==null?void 0:je.nombre_grado})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.estado==="aprobado"?"bg-green-100 text-green-800":U.estado==="rechazado"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:U.estado.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(Pe,{to:`/inscripcion/comprobante/${U.id}`,className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Ver Comprobante"})})]},U.id)})})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mt-6",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Pagos Recientes"}),e.jsxs("button",{onClick:Te,className:"bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700 transition-colors flex items-center",children:[e.jsx(fr,{className:"mr-2"})," Registrar Pago"]})]}),E.length===0?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-gray-500",children:"No tiene pagos registrados."}),e.jsx("p",{className:"text-gray-500 mt-2",children:'Haga clic en "Registrar Pago" para comenzar.'})]}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.slice(0,5).map(U=>{var je,Ie,Qe,yt,Et,ts,vt,ns;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(U.fechaPago||U.createdAt).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[((je=U.estudiante)==null?void 0:je.nombre)||((Ie=U.estudiantes)==null?void 0:Ie.nombre)||((Qe=U.estudianteInfo)==null?void 0:Qe.nombre)||"N/A"," ",((yt=U.estudiante)==null?void 0:yt.apellido)||((Et=U.estudiantes)==null?void 0:Et.apellido)||((ts=U.estudianteInfo)==null?void 0:ts.apellido)||""]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:((vt=U.arancel)==null?void 0:vt.nombre)||((ns=U.aranceles)==null?void 0:ns.nombre)||U.concepto||"No especificado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["$",parseFloat(U.montoTotal||U.monto).toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${U.estado==="pagado"?"bg-green-100 text-green-800":U.estado==="anulado"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:U.estado.toUpperCase()})})]},U.id)})})]}),E.length>5&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(Pe,{to:"/pagos",className:"text-indigo-600 hover:text-indigo-900",children:"Ver todos los pagos"})})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg lg:col-span-2",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cupos Disponibles"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacidad Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cupos Ocupados"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cupos Disponibles"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ocupación"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(U=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.nombre_grado})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:U.totalCapacidad})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:U.totalOcupados})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:U.totalDisponibles})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${U.porcentajeOcupacion>90?"bg-red-600":U.porcentajeOcupacion>70?"bg-yellow-600":"bg-green-600"}`,style:{width:`${U.porcentajeOcupacion}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[U.porcentajeOcupacion,"%"]})]})]},U.gradoID))})]})})]})})]})]}),fe&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Registrar Nuevo Pago"}),e.jsx("div",{className:"mt-2",children:e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"estudiante",className:"block text-sm font-medium text-gray-700",children:["Estudiante ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"estudiante",name:"estudianteID",value:se.estudianteID,onChange:U=>ve({...se,estudianteID:U.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un estudiante"}),l.map(U=>e.jsxs("option",{value:U.id,children:[U.nombre," ",U.apellido]},U.id))]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"arancelID",className:"block text-sm font-medium text-gray-700",children:["Concepto de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"arancelID",name:"arancelID",value:se.arancelID,onChange:U=>{const je=U.target.value,Ie=J.find(Qe=>Qe.id.toString()===je);ve({...se,arancelID:je,monto:Ie?Ie.monto.toString():""})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un concepto"}),J.map(U=>e.jsxs("option",{value:U.id,children:[U.nombre," - $",U.monto]},U.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"metodoPagoID",className:"block text-sm font-medium text-gray-700",children:["Método de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"metodoPagoID",name:"metodoPagoID",value:se.metodoPagoID,onChange:U=>{ve({...se,metodoPagoID:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un método"}),de.map(U=>e.jsx("option",{value:U.id,children:U.nombre},U.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700",children:["Monto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"monto",name:"monto",value:se.monto,onChange:U=>{ve({...se,monto:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"montoMora",className:"block text-sm font-medium text-gray-700",children:"Monto por Mora"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"montoMora",name:"montoMora",value:se.montoMora,onChange:U=>{ve({...se,montoMora:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"descuento",className:"block text-sm font-medium text-gray-700",children:"Descuento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"descuento",name:"descuento",value:se.descuento,onChange:U=>{ve({...se,descuento:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"montoTotal",className:"block text-sm font-medium text-gray-700",children:"Monto Total"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"montoTotal",value:`${Ee}`,className:"bg-gray-100 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md",disabled:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"mesPago",className:"block text-sm font-medium text-gray-700",children:"Mes de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"mesPago",name:"mesPago",value:se.mesPago,onChange:U=>{ve({...se,mesPago:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione un mes"}),e.jsx("option",{value:"Enero",children:"Enero"}),e.jsx("option",{value:"Febrero",children:"Febrero"}),e.jsx("option",{value:"Marzo",children:"Marzo"}),e.jsx("option",{value:"Abril",children:"Abril"}),e.jsx("option",{value:"Mayo",children:"Mayo"}),e.jsx("option",{value:"Junio",children:"Junio"}),e.jsx("option",{value:"Julio",children:"Julio"}),e.jsx("option",{value:"Agosto",children:"Agosto"}),e.jsx("option",{value:"Septiembre",children:"Septiembre"}),e.jsx("option",{value:"Octubre",children:"Octubre"}),e.jsx("option",{value:"Noviembre",children:"Noviembre"}),e.jsx("option",{value:"Diciembre",children:"Diciembre"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"fechaPago",className:"block text-sm font-medium text-gray-700",children:"Fecha de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",id:"fechaPago",name:"fechaPago",value:se.fechaPago,onChange:U=>{ve({...se,fechaPago:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"referencia",className:"block text-sm font-medium text-gray-700",children:"Referencia"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"referencia",name:"referencia",value:se.referencia,onChange:U=>{ve({...se,referencia:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"comprobante",className:"block text-sm font-medium text-gray-700",children:"Comprobante de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"file",id:"comprobante",ref:M,onChange:De,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",accept:".pdf,.jpg,.jpeg,.png"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Formatos aceptados: PDF, JPG, JPEG, PNG"})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:se.observaciones,onChange:U=>{ve({...se,observaciones:U.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]})})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:O,disabled:p,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:p?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsx("span",{className:"flex items-center",children:"Registrar Pago"})}),e.jsx("button",{type:"button",onClick:$e,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),re&&Q&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsxs("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalles del Pago"}),e.jsx("button",{onClick:qe,className:"text-gray-400 hover:text-gray-500",children:e.jsx(ya,{})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Estudiante"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[(he=Q.estudiante)==null?void 0:he.nombre," ",(Re=Q.estudiante)==null?void 0:Re.apellido]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Concepto"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Q.concepto})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Monto"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Ye(Q.monto)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Método de Pago"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Q.metodoPago})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Referencia"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Q.referencia})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:He(Q.fecha)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Q.estado==="pagado"?"bg-green-100 text-green-800":Q.estado==="anulado"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:Q.estado.toUpperCase()})})]}),Q.observaciones&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:Q.observaciones})]}),Q.urlComprobante&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Comprobante"}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{onClick:()=>ct(Q),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Qt,{className:"mr-2"})," Ver Comprobante"]})})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:qe,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cerrar"})})]})}),Be&&e.jsx(_y,{isOpen:Be,onClose:()=>Le(!1),estudianteID:et})]})},_s=n=>n?n.replace(/_/g," "):"No asignado",ys=n=>{if(!n)return"No disponible";const o=new Date(n);if(isNaN(o.getTime())){const l=n.split("-");return l.length===3?`${l[0]}/${l[1]}/${l[2]}`:n}return o.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})},Oy=n=>{if(!n)return null;if(n instanceof Date)return n;let o=new Date(n);if(!isNaN(o.getTime()))return o;if(typeof n=="string"){const l=n.split("-");if(l.length===3&&(l[0].length===2||parseInt(l[0])<=31?o=new Date(`${l[2]}-${l[1]}-${l[0]}`):o=new Date(`${l[0]}-${l[1]}-${l[2]}`),!isNaN(o.getTime())))return o;const c=n.split("/");if(c.length===3&&(o=new Date(`${c[2]}-${c[1]}-${c[0]}`),!isNaN(o.getTime())))return o}return console.error("No se pudo parsear la fecha:",n),null},By=n=>{const o=Oy(n);if(!o)return"N/A";const l=new Date;let c=l.getFullYear()-o.getFullYear();const m=l.getMonth()-o.getMonth();return(m<0||m===0&&l.getDate()<o.getDate())&&c--,c},Iy=n=>n?n.charAt(0).toUpperCase()+n.slice(1):"No asignado",Py=()=>{var $e;const n=Rt(),o=ms(),[l,c]=u.useState(1),[m,x]=u.useState(!1),[f,b]=u.useState(""),[p,g]=u.useState(""),[v,S]=u.useState(!1),[R,w]=u.useState(0),[E,_]=u.useState([]),[D,C]=u.useState([]),[L,T]=u.useState(!1),[W,V]=u.useState(""),[me,ae]=u.useState(!1),[Y,F]=u.useState(!1),[$,K]=u.useState(!1),[ee,X]=u.useState(null),[te,fe]=u.useState(null),[B,J]=u.useState(0),[q,de]=u.useState([]),[N,k]=u.useState(!1),[z,pe]=u.useState([]),[P,Ce]=u.useState(null),ze=localStorage.getItem("token");j.defaults.headers.common.Authorization=`Bearer ${ze}`;const[M,be]=u.useState({estudiante:{cedula:"",nombre:"",apellido:"",fechaNacimiento:"",lugarNacimiento:"",genero:"",direccion:"",observaciones:""},representante:{cedula:"",nombre:"",apellido:"",telefono:"",email:"",direccion:"",profesion:"",id:""},gradoID:"",annoEscolarID:""}),[Ae,re]=u.useState([]),[Se,Q]=u.useState(null),[xe,Be]=u.useState({}),[Le,et]=u.useState(""),Je=u.useRef(null),at=u.useRef(null),gt=()=>{const O=new URLSearchParams(o.search);return{repId:O.get("repId"),repCedula:O.get("repCedula"),repNombre:O.get("repNombre"),repApellido:O.get("repApellido")}};u.useEffect(()=>{(async()=>{try{x(!0);const{repId:we,repCedula:ce,repNombre:_e,repApellido:He}=gt();if(we&&ce){be(U=>({...U,representante:{...U.representante,id:we,cedula:ce,nombre:_e||"",apellido:He||""}}));try{const U=localStorage.getItem("token"),je=await j.get(`http://localhost:5000/personas/${we}`,{headers:{Authorization:`Bearer ${U}`}});je.data&&je.data.tipo==="representante"&&(be(Ie=>({...Ie,representante:{...Ie.representante,id:je.data.id,cedula:je.data.cedula,nombre:je.data.nombre,apellido:je.data.apellido,telefono:je.data.telefono||"",email:je.data.email||"",direccion:je.data.direccion||"",profesion:je.data.profesion||""}})),F(!0))}catch(U){console.warn("No se pudo cargar información completa del representante",U)}}const Ye=await j.get("http://localhost:5000/anno-escolar/actual");Q(Ye.data);const he=await j.get("http://localhost:5000/inscripciones/cupos-disponibles");Be(he.data.cuposDisponibles);const Re=await j.get("http://localhost:5000/grados");if(re(Re.data),ze)try{const U=JSON.parse(atob(ze.split(".")[1])),je=await j.get(`http://localhost:5000/personas/${U.personaID}`,{headers:{Authorization:`Bearer ${ze}`}});je.data&&je.data.tipo==="representante"&&(be(Ie=>({...Ie,representante:{...Ie.representante,id:je.data.id,cedula:je.data.cedula,nombre:je.data.nombre,apellido:je.data.apellido,telefono:je.data.telefono||"",email:je.data.email||"",direccion:je.data.direccion||"",profesion:je.data.profesion||""}})),F(!0))}catch(U){console.warn("No se pudo cargar información del usuario autenticado",U)}x(!1)}catch(we){console.error("Error al cargar datos iniciales:",we),b("Error al cargar datos iniciales. Por favor, recargue la página."),x(!1)}})()},[ze],[o.search]),u.useEffect(()=>{l===2&&(async()=>{try{T(!0),V("");const we=await j.get("http://localhost:5000/documentos/verificar/0/estudiante");if(_(we.data.documentosRequeridos),Y&&M.representante.id){const ce=await Oe(M.representante.id);if(ce.completo)C([]),console.log("El representante ya tiene todos los documentos obligatorios");else{const He=(await j.get("http://localhost:5000/documentos/verificar/0/representante")).data.documentosRequeridos.filter(Ye=>Ye.obligatorio&&!ce.documentos.find(he=>he.id===Ye.id&&he.subido));C(He)}}else{const ce=await j.get("http://localhost:5000/documentos/verificar/0/representante");C(ce.data.documentosRequeridos)}T(!1)}catch(we){console.error("Error al cargar documentos requeridos:",we),V("No se pudieron cargar los documentos requeridos. Por favor, intente nuevamente."),T(!1)}})()},[l,Y,M.representante.id]),u.useEffect(()=>{$&&ee&&(async()=>{try{const we=E.map(He=>({...He,tipo:"estudiante",personaID:ee.id}));let ce=[];if(D.length>0)ce=D.map(He=>({...He,tipo:"representante",personaID:M.representante.id}));else if(Y&&M.representante.id){const He=await Oe(M.representante.id);He.completo||(ce=He.documentos.filter(he=>he.obligatorio&&!he.subido).map(he=>({...he,tipo:"representante",personaID:M.representante.id})))}const _e=[...we,...ce];console.log("Documentos a subir:",_e),pe(_e),_e.length>0?(J(0),c(4)):n(`/inscripcion/comprobante/${te}`)}catch(we){console.error("Error al preparar documentos:",we),b("Error al preparar los documentos para subir")}})()},[$,ee,te]),u.useEffect(()=>{(async()=>{try{let we="http://localhost:5000/grados";Le&&(we=`http://localhost:5000/grados/nivel/${Le}`);const ce=await j.get(we);re(ce.data);const _e={};for(const He of ce.data)_e[He.id]=30;try{const He=await j.get("http://localhost:5000/cupos/resumen");He.data&&He.data.resumenCupos&&He.data.resumenCupos.forEach(Ye=>{_e[Ye.gradoID]=Ye.totalDisponibles})}catch{console.warn("No se pudieron obtener los cupos exactos, usando valores predeterminados")}Be(_e)}catch(we){console.error("Error al cargar los grados:",we),b("No se pudieron cargar los grados. Por favor, intente nuevamente.")}})()},[Le]);const Oe=async O=>{try{const we=await j.get(`http://localhost:5000/documentos/verificar/${O}/representante`);return{completo:we.data.documentosRequeridos.filter(_e=>_e.obligatorio).every(_e=>_e.subido),documentos:we.data.documentosRequeridos}}catch(we){return console.error("Error al verificar documentos del representante:",we),{completo:!1,documentos:[]}}},I=async()=>{if(!M.representante.cedula){b("Ingrese la cédula del representante para buscar");return}try{ae(!0),b("");const O=await j.get(`http://localhost:5000/personas/cedula/${M.representante.cedula}`);O.data&&O.data.tipo==="representante"?(be(we=>({...we,representante:{...we.representante,id:O.data.id,nombre:O.data.nombre,apellido:O.data.apellido,telefono:O.data.telefono||"",email:O.data.email||"",direccion:O.data.direccion||"",profesion:O.data.profesion||""}})),F(!0)):(b("No se encontró un representante con esa cédula"),F(!1))}catch(O){console.error("Error al buscar representante:",O),b("No se encontró un representante con esa cédula"),F(!1)}finally{ae(!1)}},se=()=>{B<z.length-1?(J(B+1),Ce(null),at.current&&(at.current.value="")):n(`/inscripcion/comprobante/${te}`)},ve=async()=>{var O,we;try{x(!0),q.length>0&&await j.put(`http://localhost:5000/inscripciones/${te}/update-estado`,{documentosCompletos:!0},{headers:{Authorization:`Bearer ${ze}`,"Content-Type":"application/json"}}),n(`/inscripcion/comprobante/${te}`)}catch(ce){console.error("Error al finalizar proceso:",ce),b(((we=(O=ce.response)==null?void 0:O.data)==null?void 0:we.message)||"Error al finalizar el proceso. Por favor, intente nuevamente.")}finally{x(!1)}},Ee=(O,we)=>{const{name:ce,value:_e}=O.target;be({...M,[we]:{...M[we],[ce]:_e}})},Ve=O=>{const{name:we,value:ce}=O.target;be({...M,[we]:ce})},oe=()=>{if(l===1){if(!M.estudiante.cedula||!M.estudiante.nombre||!M.estudiante.apellido||!M.estudiante.fechaNacimiento||!M.estudiante.direccion){b("Complete todos los campos obligatorios del estudiante");return}if(!Y&&(!M.representante.cedula||!M.representante.nombre||!M.representante.apellido||!M.representante.telefono||!M.representante.email||!M.representante.direccion)){b("Complete todos los campos obligatorios del representante");return}if(!M.gradoID){b("Seleccione un grado");return}}b(""),c(l+1)},Te=()=>{c(l-1)},De=async O=>{var we,ce;if(O.preventDefault(),l<3){oe();return}try{x(!0),b("");const _e=new FormData;Object.entries(M.estudiante).forEach(([Ye,he])=>{he!=null&&_e.append(Ye,he)}),Object.entries(M.representante).forEach(([Ye,he])=>{he!=null&&_e.append(`rep_${Ye}`,he)}),_e.append("gradoID",M.gradoID),_e.append("annoEscolarID",Se.id),_e.append("documentosCompletos","false"),console.log("Creando estudiante e inscripción...");const He=await j.post("http://localhost:5000/inscripciones/nuevo-estudiante",_e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${ze}`}});console.log("Respuesta del servidor:",He.data),X(He.data.estudiante),fe(He.data.inscripcionId),K(!0),g("Estudiante inscrito correctamente. Ahora puede subir los documentos.")}catch(_e){console.error("Error al enviar formulario:",_e),b(((ce=(we=_e.response)==null?void 0:we.data)==null?void 0:ce.message)||"Error al procesar la inscripción. Por favor, intente nuevamente."),x(!1)}},qe=O=>{O.target.files&&O.target.files.length>0?Ce(O.target.files[0]):Ce(null)},ct=async()=>{var we,ce;if(!P){b("Por favor, seleccione un archivo para subir");return}const O=z[B];try{k(!0),b("");const _e=new FormData;_e.append("documento",P),_e.append("personaID",O.personaID),_e.append("tipoDocumento",O.id),_e.append("descripcion",`Documento ${O.nombre} subido durante inscripción`);try{const Ye=(await j.get(`http://localhost:5000/documentos/persona/${O.personaID}`)).data.find(U=>U.tipoDocumento===O.id);let he;Ye?(console.log(`Actualizando documento existente ID: ${Ye.id}`),he=await j.put(`http://localhost:5000/documentos/${Ye.id}`,_e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${ze}`}})):he=await j.post("http://localhost:5000/documentos/upload",_e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${ze}`}});const Re=z.map((U,je)=>je===B?{...U,subido:!0}:U);pe(Re),de(U=>[...U,{...O,documentoID:he.data.documento.id,nombreArchivo:P.name,subido:!0}]),console.log("Respuesta del servidor:",he.data),Ce(null),at.current&&(at.current.value=""),B<z.length-1?J(B+1):(await j.put(`http://localhost:5000/inscripciones/${te}/update-estado`,{documentosCompletos:!0},{headers:{Authorization:`Bearer ${ze}`}}),n(`/inscripcion/comprobante/${te}`))}catch(He){console.error("Error al verificar o actualizar documentos:",He),b("Error al procesar el documento. Por favor, intente nuevamente.")}}catch(_e){console.error("Error al subir documento:",_e),b(((ce=(we=_e.response)==null?void 0:we.data)==null?void 0:ce.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{k(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 bg-indigo-600",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Inscripción de Nuevo Estudiante"}),e.jsx("p",{className:"mt-1 text-sm text-indigo-100",children:"Complete todos los campos requeridos para inscribir al estudiante."})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${l>=1?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"1"})}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${l>=2?"bg-indigo-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${l>=2?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"2"})}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${l>=3?"bg-indigo-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${l>=3?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"3"})}),l>=4&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-1 flex-1 mx-2 bg-indigo-600"}),e.jsx("div",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-indigo-600",children:e.jsx("span",{className:"text-white text-sm font-medium",children:"4"})})]})]})}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:"Datos Personales"}),e.jsx("span",{children:"Documentos"}),e.jsx("span",{children:"Confirmación"}),l>=4&&e.jsx("span",{children:"Subir Archivos"})]})]}),f&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 m-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),p&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 m-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:p})})]})}),Y&&gt().repId&&e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 m-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["Está registrando un nuevo estudiante para el representante ",M.representante.nombre," ",M.representante.apellido,"."]})})]})}),v&&e.jsxs("div",{className:"mt-4 mx-4",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Subiendo archivos: ",R,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-1",children:e.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${R}%`}})})]}),e.jsxs("form",{ref:Je,onSubmit:De,className:"px-4 py-5 sm:p-6",encType:"multipart/form-data",children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Datos del Estudiante"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700",children:"Cédula/Documento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"cedula",id:"cedula",value:M.estudiante.cedula,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"nombre",id:"nombre",value:M.estudiante.nombre,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"apellido",className:"block text-sm font-medium text-gray-700",children:"Apellido"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"apellido",id:"apellido",value:M.estudiante.apellido,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"fechaNacimiento",className:"block text-sm font-medium text-gray-700",children:"Fecha de Nacimiento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento",value:M.estudiante.fechaNacimiento,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"lugarNacimiento",className:"block text-sm font-medium text-gray-700",children:"Lugar de Nacimiento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"lugarNacimiento",id:"lugarNacimiento",value:M.estudiante.lugarNacimiento,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"genero",className:"block text-sm font-medium text-gray-700",children:"Género"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"genero",name:"genero",value:M.estudiante.genero,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"})]})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700",children:"Dirección"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"direccion",id:"direccion",value:M.estudiante.direccion,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:M.estudiante.observaciones,onChange:O=>Ee(O,"estudiante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Datos del Representante"}),e.jsxs("div",{className:"mt-4 flex items-end space-x-4",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("label",{htmlFor:"rep_cedula",className:"block text-sm font-medium text-gray-700",children:"Cédula del Representante"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"cedula",id:"rep_cedula",value:M.representante.cedula,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,disabled:Y})})]}),!Y&&e.jsx("button",{type:"button",onClick:I,disabled:me||!M.representante.cedula,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300",children:me?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Buscar"}),!gt().repId&&e.jsx("button",{type:"button",onClick:()=>{F(!1),be(O=>({...O,representante:{...O.representante,id:"",cedula:"",nombre:"",apellido:"",telefono:"",email:"",direccion:"",profesion:""}}))},className:"mt-3 inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cambiar"})]}),Y?e.jsxs("div",{className:"mt-4 bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm font-medium text-green-800",children:gt().repId?"Representante seleccionado":"Representante encontrado"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4 gap-x-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Nombre completo"}),e.jsxs("div",{className:"mt-1 text-sm text-gray-900",children:[M.representante.nombre," ",M.representante.apellido]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Cédula"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:M.representante.cedula})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Teléfono"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:M.representante.telefono})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Email"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:M.representante.email})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"rep_direccion",className:"block text-sm font-medium text-gray-700",children:"Dirección"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"direccion",id:"rep_direccion",value:M.representante.direccion,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"rep_profesion",className:"block text-sm font-medium text-gray-700",children:"Profesión"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"profesion",id:"rep_profesion",value:M.representante.profesion,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]}):e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"rep_nombre",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"nombre",id:"rep_nombre",value:M.representante.nombre,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"rep_apellido",className:"block text-sm font-medium text-gray-700",children:"Apellido"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"apellido",id:"rep_apellido",value:M.representante.apellido,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"rep_telefono",className:"block text-sm font-medium text-gray-700",children:"Teléfono"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"tel",name:"telefono",id:"rep_telefono",value:M.representante.telefono,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"rep_email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"rep_email",value:M.representante.email,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"rep_profesion",className:"block text-sm font-medium text-gray-700",children:"Profesión"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"profesion",id:"rep_profesion",value:M.representante.profesion,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"rep_direccion",className:"block text-sm font-medium text-gray-700",children:"Dirección"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"direccion",id:"rep_direccion",value:M.representante.direccion,onChange:O=>Ee(O,"representante"),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]})]})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Información Académica"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-gray-700",children:"Nivel"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"nivel",name:"nivel",value:Le,onChange:O=>et(O.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione un nivel"}),e.jsx("option",{value:"Primaria",children:"Primaria"}),e.jsx("option",{value:"Secundaria",children:"Secundaria"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"gradoID",name:"gradoID",value:M.gradoID,onChange:Ve,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),Ae.map(O=>e.jsxs("option",{value:O.id,disabled:!xe[O.id]||xe[O.id]<=0,children:[O.nombre_grado," ",xe[O.id]?`(${xe[O.id]} cupos)`:"(Sin cupos)"]},O.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"annoEscolar",className:"block text-sm font-medium text-gray-700",children:"Año Escolar"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"annoEscolar",value:Se?Se.periodo:"Cargando...",className:"bg-gray-100 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md",disabled:!0})})]})]})]})]}),l===2&&e.jsx("div",{className:"space-y-6",children:L?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Documentos del Estudiante"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Por favor, revise los documentos requeridos para el estudiante. Los documentos marcados con * son obligatorios. Estos documentos se subirán después de completar la inscripción."}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:E.map(O=>e.jsx("div",{className:"border rounded-lg p-4 border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:O.obligatorio?e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-red-100",children:e.jsx("span",{className:"text-red-600 text-xs font-medium",children:"*"})}):e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-gray-100",children:e.jsx("span",{className:"text-gray-600 text-xs font-medium",children:"+"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:O.nombre}),e.jsx("p",{className:"text-xs text-gray-500",children:O.obligatorio?"Obligatorio":"Opcional"})]})]})},O.id))})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Documentos del Representante"}),D.length===0&&Y?e.jsx("div",{className:"mt-2 bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:"El representante ya tiene todos los documentos obligatorios subidos."})})]})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Por favor, revise los documentos requeridos para el representante. Los documentos marcados con * son obligatorios. Estos documentos se subirán después de completar la inscripción."}),e.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:D.map(O=>e.jsx("div",{className:"border rounded-lg p-4 border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:O.obligatorio?e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-red-100",children:e.jsx("span",{className:"text-red-600 text-xs font-medium",children:"*"})}):e.jsx("span",{className:"inline-flex items-center justify-center h-5 w-5 rounded-full bg-gray-100",children:e.jsx("span",{className:"text-gray-600 text-xs font-medium",children:"+"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:O.nombre}),e.jsx("p",{className:"text-xs text-gray-500",children:O.obligatorio?"Obligatorio":"Opcional"})]})]})},O.id))})]})]}),W&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:W})})]})})]})}),l===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Confirmar Inscripción"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, revise la información antes de completar la inscripción."}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Datos del Estudiante"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.estudiante.cedula})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre Completo"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[M.estudiante.nombre," ",M.estudiante.apellido]})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.estudiante.fechaNacimiento})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Género"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.estudiante.genero==="M"?"Masculino":"Femenino"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.estudiante.direccion})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Datos del Representante"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.representante.cedula})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre Completo"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[M.representante.nombre," ",M.representante.apellido]})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.representante.telefono})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.representante.email})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Profesión"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.representante.profesion||"No especificada"})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:M.representante.direccion})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Información Académica"}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Grado"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(($e=Ae.find(O=>O.id==M.gradoID))==null?void 0:$e.nombre_grado)||"No seleccionado"})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Año Escolar"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(Se==null?void 0:Se.periodo)||"No disponible"})]})]})]}),e.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-indigo-700",children:"Al completar la inscripción, acepta los términos y condiciones de la institución. Después de registrar al estudiante, podrá subir los documentos requeridos."})})]})})]}),l===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Subida de Documentos"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Por favor, suba los documentos uno por uno. Los documentos obligatorios están marcados con *."}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Progreso: ",q.length," de ",z.length," documentos"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(q.length/z.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${q.length/z.length*100}%`}})})]}),B<z.length&&e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-medium text-gray-900",children:[z[B].nombre,z[B].obligatorio&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z[B].tipo==="estudiante"?"Documento del estudiante":"Documento del representante"})]}),e.jsxs("span",{className:"text-xs bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full",children:[B+1," de ",z.length]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccione el archivo"}),e.jsx("input",{type:"file",ref:at,onChange:qe,className:`block w-full text-sm text-gray-500\r
                          file:mr-4 file:py-2 file:px-4\r
                          file:rounded-full file:border-0\r
                          file:text-sm file:font-semibold\r
                          file:bg-indigo-50 file:text-indigo-700\r
                          hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png"})]}),e.jsxs("div",{className:"mt-4 flex space-x-3",children:[e.jsx("button",{type:"button",onClick:ct,disabled:N||!P,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:N?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):"Subir Documento"}),e.jsx("button",{type:"button",onClick:se,disabled:N||z[B].obligatorio,className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:z[B].obligatorio?"Documento obligatorio":"Omitir"})]})]}),q.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Documentos Subidos"}),e.jsx("ul",{className:"divide-y divide-gray-200 border rounded-lg",children:q.map((O,we)=>e.jsxs("li",{className:"p-3 flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.nombre}),e.jsxs("p",{className:"text-xs text-gray-500",children:[O.tipo==="estudiante"?"Estudiante":"Representante"," - ",O.nombreArchivo]})]})]},we))})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"button",onClick:ve,disabled:m||q.length===0&&z.some(O=>O.obligatorio),className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:m?"Procesando...":"Finalizar y Ver Comprobante"})})]}),l<4&&e.jsx("div",{className:"pt-5 mt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:l>1?Te:()=>n(-1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:l>1?"Anterior":"Cancelar"}),e.jsxs("button",{type:l===3?"submit":"button",onClick:l<3?oe:void 0,disabled:m,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[m?e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,l<3?"Siguiente":"Registrar Estudiante"]})]})})]})]})})})};class ni extends Error{}ni.prototype.name="InvalidTokenError";function qy(n){return decodeURIComponent(atob(n).replace(/(.)/g,(o,l)=>{let c=l.charCodeAt(0).toString(16).toUpperCase();return c.length<2&&(c="0"+c),"%"+c}))}function Uy(n){let o=n.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return qy(o)}catch{return atob(o)}}function Hy(n,o){if(typeof n!="string")throw new ni("Invalid token specified: must be a string");o||(o={});const l=o.header===!0?0:1,c=n.split(".")[l];if(typeof c!="string")throw new ni(`Invalid token specified: missing part #${l+1}`);let m;try{m=Uy(c)}catch(x){throw new ni(`Invalid token specified: invalid base64 for part #${l+1} (${x.message})`)}try{return JSON.parse(m)}catch(x){throw new ni(`Invalid token specified: invalid json for part #${l+1} (${x.message})`)}}const Fy=()=>{const{inscripcionId:n}=Ws();Rt();const[o,l]=u.useState(null),[c,m]=u.useState(null),[x,f]=u.useState(null),[b,p]=u.useState(null),[g,v]=u.useState(null),[S,R]=u.useState(null),[w,E]=u.useState(!0),[_,D]=u.useState(""),[C,L]=u.useState([]),[T,W]=u.useState(""),V=localStorage.getItem("token"),me=()=>{switch(T){case"owner":case"adminweb":return"/admin/dashboard";case"representante":return"/dashboard/representante"}};return u.useEffect(()=>{if(V)try{const Y=Hy(V);W(Y.rol)}catch(Y){console.error("Error decodificando el token:",Y)}(async()=>{var Y,F;try{E(!0);const $={headers:{Authorization:`Bearer ${V}`}},K=await j.get(`http://localhost:5000/inscripciones/${n}`,$);l(K.data);const ee=K.data.estudianteID,X=K.data.representanteID,te=K.data.gradoID,fe=K.data.seccionID,B=K.data.annoEscolarID;E(!1)}catch($){console.error("Error al cargar datos:",$),D("Error al cargar los datos del comprobante. "+(((F=(Y=$.response)==null?void 0:Y.data)==null?void 0:F.message)||$.message)),E(!1)}})()},[n,V]),u.useEffect(()=>{(async()=>{var Y,F;try{E(!0);const $={headers:{Authorization:`Bearer ${V}`}},K=await j.get(`http://localhost:5000/inscripciones/${n}`,$);l(K.data);const ee=K.data.estudianteID,X=K.data.representanteID,te=K.data.gradoID,fe=K.data.seccionID,B=K.data.annoEscolarID,J=await j.get(`http://localhost:5000/personas/${ee}`,$);m(J.data);const q=await j.get(`http://localhost:5000/personas/${X}`,$);f(q.data);const de=await j.get(`http://localhost:5000/grados/${te}`,$);p(de.data);const N=await j.get(`http://localhost:5000/secciones/${fe}`,$);v(N.data);const k=await j.get(`http://localhost:5000/anno-escolar/${B}`,$);R(k.data);const z=await j.get("http://localhost:5000/metodos-pago/activos",$);L(z.data),E(!1)}catch($){console.error("Error al cargar datos:",$),D("Error al cargar los datos del comprobante. "+(((F=(Y=$.response)==null?void 0:Y.data)==null?void 0:F.message)||$.message)),E(!1)}})()},[n,V]),w?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):_?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-md",children:[e.jsx("p",{className:"font-bold",children:"Error"}),e.jsx("p",{children:_}),e.jsx(Pe,{to:me(),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver al Dashboard"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-100 py-12",children:e.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprobante de Inscripción"}),e.jsx("button",{onClick:()=>window.print(),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Descargar / Imprimir"})]}),e.jsx("div",{className:"hidden print:block print:mb-8 pt-0",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Colegio Brisas de Mamporal"}),e.jsx("h2",{className:"text-xl font-semibold mt-2",children:"Comprobante de Inscripción"}),e.jsxs("p",{className:"text-sm mt-1",children:["Año Escolar: ",S==null?void 0:S.periodo]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Datos del Estudiante"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Nombre:"}),e.jsxs("p",{className:"mt-1",children:[c==null?void 0:c.nombre," ",c==null?void 0:c.apellido]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Cédula:"}),e.jsx("p",{className:"mt-1",children:c==null?void 0:c.cedula})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento:"}),e.jsx("p",{className:"mt-1",children:ys(c==null?void 0:c.fechaNacimiento)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Género:"}),e.jsx("p",{className:"mt-1",children:(c==null?void 0:c.genero)==="M"?"Masculino":"Femenino"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Datos Académicos"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Grado:"}),e.jsx("p",{className:"mt-1",children:_s(b==null?void 0:b.nombre_grado)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Sección:"}),e.jsx("p",{className:"mt-1",children:g==null?void 0:g.nombre_seccion})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Año Escolar:"}),e.jsx("p",{className:"mt-1",children:S==null?void 0:S.periodo})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información de Pago"}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 print:bg-white print:border-black",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0 print:hidden",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-yellow-700 print:text-black",children:o!=null&&o.pagado?"El pago de inscripción ha sido registrado.":"El pago de inscripción está pendiente. Por favor, realice el pago para completar el proceso."})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Monto de Inscripción:"}),e.jsxs("p",{className:"mt-1",children:["$",o==null?void 0:o.montoInscripcion]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Estado:"}),e.jsx("p",{className:"mt-1",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o!=null&&o.pagado?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"} print:bg-white print:border print:border-black print:text-black`,children:o!=null&&o.pagado?"Pagado":"Pendiente"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Fecha de Inscripción:"}),e.jsx("p",{className:"mt-1",children:o!=null&&o.fechaInscripcion?new Date(o.fechaInscripcion).toLocaleDateString():"N/A"})]})]}),!(o!=null&&o.pagado)&&e.jsxs("div",{className:"mt-6 print:hidden",children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Métodos de Pago Disponibles"}),e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:C.map(ae=>e.jsxs("div",{className:"border rounded-md p-4",children:[e.jsx("h4",{className:"font-medium",children:ae.nombre}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ae.descripcion}),ae.numero_cuenta&&e.jsxs("p",{className:"text-sm mt-2",children:[e.jsx("span",{className:"font-medium",children:"Número de cuenta:"})," ",ae.numero_cuenta]}),ae.beneficiario&&e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Beneficiario:"})," ",ae.beneficiario]})]},ae.id))}),e.jsx("div",{className:"mt-6 print:hidden",children:e.jsx(Pe,{to:`/inscripcion/pago/${n}`,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Registrar Pago"})})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Datos del Representante"}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Nombre:"}),e.jsxs("p",{className:"mt-1",children:[x==null?void 0:x.nombre," ",x==null?void 0:x.apellido]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Cédula:"}),e.jsx("p",{className:"mt-1",children:x==null?void 0:x.cedula})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Teléfono:"}),e.jsx("p",{className:"mt-1",children:x==null?void 0:x.telefono})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Email:"}),e.jsx("p",{className:"mt-1",children:x==null?void 0:x.email})]})]})]}),e.jsx("div",{className:"hidden print:block print:mt-10 print:border-t print:border-gray-300 print:pt-4",children:e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{children:"Este documento es un comprobante oficial de inscripción."}),e.jsxs("p",{children:["Fecha de emisión: ",new Date().toLocaleDateString()]})]})})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 print:hidden",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx(Pe,{to:"/dashboard",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver al Dashboard"}),e.jsx("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Descargar / Imprimir"})]})})]})})},Gy=()=>{const{estudianteId:n}=Ws(),[o,l]=u.useState(null),[c,m]=u.useState([]),[x,f]=u.useState([]),[b,p]=u.useState(!0),[g,v]=u.useState("");u.useEffect(()=>{(async()=>{try{p(!0);const E=localStorage.getItem("token"),_=await j.get(`http://localhost:5000/personas/${n}`,{headers:{Authorization:`Bearer ${E}`}});l(_.data);const D=await j.get(`http://localhost:5000/inscripciones?estudianteID=${n}`,{headers:{Authorization:`Bearer ${E}`}});m(D.data);const C=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${E}`}});f(C.data),p(!1)}catch(E){console.error("Error al cargar datos:",E),v("Error al cargar datos del estudiante. Por favor, intente nuevamente."),p(!1)}})()},[n]);const S={cedula:"Cédula de Identidad",partidaNacimiento:"Partida de Nacimiento",boletin:"Boletín de Calificaciones",notasCertificadas:"Notas Certificadas",fotoCarnet:"Foto Carnet",fotoCarta:"Foto Tamaño Carta",boletaRetiroPlantel:"Boleta de Retiro del Plantel",constanciaTrabajo:"Constancia de Trabajo",solvenciaPago:"Solvencia de Pago",foniatrico:"Informe Foniátrico",psicomental:"Evaluación Psicomental",certificadoSalud:"Certificado de Salud",curriculumVitae:"Curriculum Vitae",constanciaEstudio6toSemestre:"Constancia de Estudio 6to Semestre",titulo:"Título Académico"},R=w=>w.replace(/_/g," ");return b?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded max-w-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error"}),e.jsx("p",{children:g}),e.jsx("div",{className:"mt-4",children:e.jsx(Pe,{to:"/dashboard/representante",className:"text-indigo-600 hover:text-indigo-800",children:"Volver al dashboard"})})]})}):o?e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Detalles del Estudiante"}),e.jsx(Pe,{to:"/dashboard/representante",className:"bg-indigo-600 text-white py-2 px-4 rounded hover:bg-indigo-700 transition-colors",children:"Volver al Dashboard"})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información Personal"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Nombre completo:"}),e.jsxs("div",{className:"text-sm text-gray-900",children:[o.nombre," ",o.apellido]}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento:"}),e.jsx("div",{className:"text-sm text-gray-900",children:o.cedula}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Fecha de nacimiento:"}),e.jsx("div",{className:"text-sm text-gray-900",children:ys(o==null?void 0:o.fechaNacimiento)}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Edad:"}),e.jsx("div",{className:"text-sm text-gray-900",children:o!=null&&o.fechaNacimiento?`${By(o.fechaNacimiento)} años`:"No disponible"}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Género:"}),e.jsx("div",{className:"text-sm text-gray-900",children:o.genero==="M"?"Masculino":"Femenino"}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Dirección:"}),e.jsx("div",{className:"text-sm text-gray-900",children:o.direccion})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg lg:col-span-2",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Inscripciones"}),c.length===0?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-gray-500",children:"No hay inscripciones registradas para este estudiante."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Año Escolar"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sección"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(w=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.annoEscolar.periodo})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["  ",w.grado?R(w.grado.nombre_grado):"No asignado"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.Secciones.nombre_seccion})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${w.estado==="aprobada"||w.estado==="inscrito"?"bg-green-100 text-green-800":w.estado==="rechazada"||w.estado==="retirado"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:w.estado.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsx(Pe,{to:`/inscripcion/comprobante/${w.id}`,className:"text-indigo-600 hover:text-indigo-900",children:"Ver Comprobante"})})]},w.id))})]})})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg lg:col-span-3",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Documentos"}),x.length===0?e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-gray-500",children:"No hay documentos registrados para este estudiante."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(w=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:w.tipoDocumento?S[w.tipoDocumento]||w.tipoDocumento:"No especificado"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["Subido el ",new Date(w.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("a",{href:`http://localhost:5000${w.urlDocumento}`,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-900 text-sm",children:"Ver documento"}),e.jsx("a",{href:`http://localhost:5000/documentos/download/${w.id}`,className:"text-green-600 hover:text-green-900 text-sm",children:"Descargar"})]})]},w.id))})]})}),o.calificaciones&&o.calificaciones.length>0&&e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg lg:col-span-3",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Calificaciones"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lapso 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lapso 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lapso 3"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Definitiva"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.calificaciones.map(w=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.materia})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.lapso1||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.lapso2||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.lapso3||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm font-medium ${w.definitiva>=10?"text-green-600":"text-red-600"}`,children:w.definitiva||"-"})})]},w.materiaID))})]})})]})}),o.pagos&&o.pagos.length>0&&e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg lg:col-span-3 mt-6",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Historial de Pagos"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método de Pago"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referencia"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.pagos.map(w=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(w.fecha).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.arancel.nombre})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.metodoPago.nombre})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:w.referencia||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["$",parseFloat(w.monto).toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${w.verificado?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:w.verificado?"VERIFICADO":"PENDIENTE"})})]},w.id))})]})})]})}),(!o.pagos||o.pagos.length===0)&&e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg lg:col-span-3 mt-6",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Historial de Pagos"}),e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{className:"text-gray-500",children:"No hay pagos registrados para este estudiante."})})]})})]})})]}):null},Vy=()=>{var S,R,w;const[n,o]=u.useState(null),[l,c]=u.useState(null),[m,x]=u.useState(null),[f,b]=u.useState(!1),p=u.useRef(null),g=E=>{E.target.files&&E.target.files.length>0&&o(E.target.files[0])},v=async E=>{var D,C;if(E.preventDefault(),!n){x("Por favor selecciona un archivo");return}b(!0),x(null),c(null);const _=new FormData;_.append("testFile",n);try{const L=await j.post("http://localhost:5000/test/upload-test",_,{headers:{"Content-Type":"multipart/form-data"}});c(L.data),console.log("Respuesta del servidor:",L.data)}catch(L){console.error("Error al subir archivo:",L),x(((C=(D=L.response)==null?void 0:D.data)==null?void 0:C.message)||"Error al subir el archivo")}finally{b(!1)}};return e.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Prueba de Subida de Archivos"}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecciona un archivo"}),e.jsx("input",{type:"file",ref:p,onChange:g,className:`block w-full text-sm text-gray-500 \r
              file:mr-4 file:py-2 file:px-4 \r
              file:rounded-full file:border-0 \r
              file:text-sm file:font-semibold \r
              file:bg-indigo-50 file:text-indigo-700 \r
              hover:file:bg-indigo-100`})]}),e.jsx("button",{type:"submit",disabled:f||!n,className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:f?"Subiendo...":"Subir Archivo"})]}),m&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-700 rounded-md",children:m}),l&&e.jsxs("div",{className:"mt-4 p-3 bg-green-50 text-green-700 rounded-md",children:[e.jsx("h3",{className:"font-medium",children:"Archivo subido correctamente"}),e.jsxs("ul",{className:"mt-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Nombre:"})," ",(S=l.file)==null?void 0:S.name]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tamaño:"})," ",Math.round((((R=l.file)==null?void 0:R.size)||0)/1024)," KB"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tipo:"})," ",(w=l.file)==null?void 0:w.mimetype]})]})]})]})},Yy=({isOpen:n,toggleSidebar:o,userRole:l})=>{const[c,m]=u.useState(!1),x=()=>{ny(),window.location.href="/login"},f=l==="owner"||l==="adminWeb";return e.jsxs("div",{className:`bg-indigo-800 text-white ${n?"w-64":"w-20"} transition-all duration-300 flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-indigo-700",children:[n?e.jsx("h1",{className:"text-xl font-bold",children:"Brisas de Mamporal"}):e.jsx("h1",{className:"text-xl font-bold",children:"BM"}),e.jsx("button",{onClick:o,className:"text-white focus:outline-none",children:n?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:e.jsxs("ul",{className:"space-y-2 px-2",children:[e.jsx("li",{children:e.jsxs(bs,{to:"/admin/dashboard",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(ky,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/estudiantes",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(br,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Estudiantes"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/profesores",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(Wr,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Profesores"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/representantes",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(di,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Representantes"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/empleados",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(My,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Empleados"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/pagos",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(fr,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Pagos"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/inscripciones",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(zd,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Inscripciones"})]})}),e.jsx("li",{children:e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>m(!c),className:`flex items-center justify-between w-full p-2 rounded-lg hover:bg-indigo-700 ${c?"bg-indigo-700":""}`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ci,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Académico"})]}),n&&e.jsx("div",{children:c?e.jsx(wy,{className:"w-4 h-4"}):e.jsx(Ny,{className:"w-4 h-4"})})]}),c&&n&&e.jsxs("ul",{className:"mt-2 space-y-1 pl-7",children:[e.jsx("li",{children:e.jsxs(bs,{to:"/admin/academico/grados",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-600":"hover:bg-indigo-600"}`,children:[e.jsx($h,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-3",children:"Grados"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/academico/materias",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-600":"hover:bg-indigo-600"}`,children:[e.jsx(ci,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-3",children:"Materias"})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/academico/secciones",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-600":"hover:bg-indigo-600"}`,children:[e.jsx(jy,{className:"w-4 h-4"}),e.jsx("span",{className:"ml-3",children:"Secciones"})]})})]})]})}),e.jsx("li",{children:e.jsxs(bs,{to:"/admin/cupos",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(Ry,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Gestión de Cupos"})]})}),f&&e.jsx("li",{children:e.jsxs(bs,{to:"/admin/configuracion",className:({isActive:b})=>`flex items-center p-2 rounded-lg ${b?"bg-indigo-700":"hover:bg-indigo-700"}`,children:[e.jsx(Sy,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Configuración"})]})})]})}),e.jsx("div",{className:"p-4 border-t border-indigo-700",children:e.jsxs("button",{onClick:x,className:"flex items-center w-full p-2 rounded-lg hover:bg-indigo-700",children:[e.jsx(zy,{className:"w-5 h-5"}),n&&e.jsx("span",{className:"ml-3",children:"Cerrar Sesión"})]})})]})},Xy=({user:n,toggleSidebar:o})=>{const[l,c]=u.useState(!1),[m,x]=u.useState(!1);return e.jsxs("header",{className:"bg-white shadow h-16 flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:o,className:"text-gray-500 focus:outline-none lg:hidden",children:e.jsx(yy,{className:"h-6 w-6"})}),e.jsxs("div",{className:"relative mx-4 lg:mx-0",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center",children:e.jsx("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("input",{className:"form-input w-32 sm:w-64 rounded-md pl-10 pr-4 focus:border-indigo-600",type:"text",placeholder:"Buscar"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>x(!m),className:"flex mx-4 text-gray-600 focus:outline-none",children:[e.jsx(vy,{className:"h-6 w-6"}),e.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 mt-1 mr-2 bg-red-500 rounded-full"})]}),m&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50",children:[e.jsxs("div",{className:"py-2",children:[e.jsx("a",{href:"#",className:"flex items-center px-4 py-3 border-b hover:bg-gray-100",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Nueva inscripción"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Se ha registrado una nueva inscripción"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Hace 5 minutos"})]})}),e.jsx("a",{href:"#",className:"flex items-center px-4 py-3 border-b hover:bg-gray-100",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Nuevo pago registrado"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Se ha registrado un nuevo pago"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Hace 10 minutos"})]})}),e.jsx("a",{href:"#",className:"flex items-center px-4 py-3 hover:bg-gray-100",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"Cupos por agotarse"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Los cupos para 3er grado están por agotarse"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Hace 1 hora"})]})})]}),e.jsx("a",{href:"#",className:"block bg-gray-800 text-white text-center font-bold py-2",children:"Ver todas las notificaciones"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>c(!l),className:"relative z-10 block h-8 w-8 rounded-full overflow-hidden shadow focus:outline-none",children:n.avatar?e.jsx("img",{className:"h-full w-full object-cover",src:n.avatar,alt:"Avatar"}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-indigo-600 text-white",children:e.jsx($y,{})})}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 py-2 w-48 bg-white rounded-md shadow-xl z-20",children:[e.jsxs("div",{className:"px-4 py-2 text-xs text-gray-400",children:[n.nombre," ",n.apellido]}),e.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white",children:"Mi Perfil"}),e.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white",children:"Configuración"}),e.jsx("a",{href:"/login",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-600 hover:text-white",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},children:"Cerrar Sesión"})]})]})]})]})},At=({children:n})=>{const o=Rt(),[l,c]=u.useState(null),[m,x]=u.useState(!0);return u.useEffect(()=>{const f=iy();if(!f||f.tipo!=="owner"&&f.tipo!=="adminWeb"){o("/login");return}c(f)},[o]),l?e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsx(Yy,{isOpen:m,toggleSidebar:()=>x(!m),userRole:l.tipo}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Xy,{user:l,toggleSidebar:()=>x(!m)}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-6",children:n})]})]}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:"Cargando..."})},El=({title:n,value:o,icon:l,color:c})=>e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`rounded-full p-3 ${c}`,children:l}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-gray-500 text-sm",children:n}),e.jsx("p",{className:"text-2xl font-semibold",children:o})]})]})}),Qy=({activities:n})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Actividad Reciente"}),e.jsx("div",{className:"space-y-4",children:n.map((o,l)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`rounded-full p-2 ${o.color} text-white mt-1`,children:o.icon}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium",children:o.title}),e.jsx("p",{className:"text-xs text-gray-500",children:o.time})]})]},l))})]}),Zy=({cupos:n})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Cupos Disponibles"}),e.jsx("div",{className:"space-y-4",children:n.map((o,l)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:o.grado}),e.jsxs("span",{className:"text-sm font-medium",children:[o.ocupados,"/",o.total]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:`${o.ocupados/o.total*100}%`}})})]},l))})]}),Ky=({pagos:n})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pagos Recientes"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((o,l)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.estudiante})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:o.concepto})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:["$",o.monto]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o.estado==="Pagado"?"bg-green-100 text-green-800":o.estado==="Pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o.estado})})]},l))})]})})]}),Jy=()=>{const[n,o]=u.useState({estudiantes:0,profesores:0,representantes:0,pagosMes:0}),[l,c]=u.useState([]),[m,x]=u.useState([]),[f,b]=u.useState([]),[p,g]=u.useState(!0);return u.useEffect(()=>{(async()=>{try{setTimeout(()=>{o({estudiantes:450,profesores:32,representantes:380,pagosMes:125e3}),c([{title:"Nueva inscripción: María Rodríguez",time:"Hace 10 minutos",icon:e.jsx(br,{size:12}),color:"bg-blue-500"},{title:"Pago registrado: Juan Pérez",time:"Hace 30 minutos",icon:e.jsx(fr,{size:12}),color:"bg-green-500"},{title:"Nuevo profesor: Carlos Mendoza",time:"Hace 2 horas",icon:e.jsx(Wr,{size:12}),color:"bg-purple-500"},{title:"Nuevo representante: Ana Gómez",time:"Hace 3 horas",icon:e.jsx(di,{size:12}),color:"bg-yellow-500"}]),x([{grado:"1er Grado",total:60,ocupados:45},{grado:"2do Grado",total:60,ocupados:52},{grado:"3er Grado",total:60,ocupados:58},{grado:"4to Grado",total:60,ocupados:40},{grado:"5to Grado",total:60,ocupados:35},{grado:"6to Grado",total:60,ocupados:30}]),b([{estudiante:"María Rodríguez",concepto:"Mensualidad Abril",monto:150,estado:"Pagado"},{estudiante:"Juan Pérez",concepto:"Inscripción",monto:300,estado:"Pagado"},{estudiante:"Pedro Martínez",concepto:"Mensualidad Abril",monto:150,estado:"Pendiente"},{estudiante:"Luisa Fernández",concepto:"Mensualidad Abril",monto:150,estado:"Vencido"},{estudiante:"Carlos Mendoza",concepto:"Mensualidad Abril",monto:150,estado:"Pagado"}]),g(!1)},1e3)}catch(S){console.error("Error al cargar datos del dashboard:",S),g(!1)}})()},[]),p?e.jsx(At,{children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx(El,{title:"Estudiantes",value:n.estudiantes,icon:e.jsx(br,{className:"h-6 w-6 text-white"}),color:"bg-blue-500"}),e.jsx(El,{title:"Profesores",value:n.profesores,icon:e.jsx(Wr,{className:"h-6 w-6 text-white"}),color:"bg-purple-500"}),e.jsx(El,{title:"Representantes",value:n.representantes,icon:e.jsx(di,{className:"h-6 w-6 text-white"}),color:"bg-yellow-500"}),e.jsx(El,{title:"Pagos del Mes",value:`$${n.pagosMes.toLocaleString()}`,icon:e.jsx(fr,{className:"h-6 w-6 text-white"}),color:"bg-green-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(Ky,{pagos:f})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Qy,{activities:l}),e.jsx(Zy,{cupos:m})]})]})]})})},Wy=()=>{const[n,o]=u.useState([]),[l,c]=u.useState(!0),[m,x]=u.useState(!1),[f,b]=u.useState({type:"",text:""}),[p,g]=u.useState(null),[v,S]=u.useState([]),[R,w]=u.useState([]),[E,_]=u.useState({}),[D,C]=u.useState(!1),L=localStorage.getItem("token");u.useEffect(()=>{(async()=>{try{c(!0);const K=new URLSearchParams(window.location.search),ee=K.get("gradoID"),X=K.get("seccionID"),te=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${L}`}});g(te.data);const fe=await j.get("http://localhost:5000/grados",{headers:{Authorization:`Bearer ${L}`}});S(fe.data);let B;ee?B=await j.get(`http://localhost:5000/secciones/grado/${ee}`,{headers:{Authorization:`Bearer ${L}`}}):B=await j.get("http://localhost:5000/secciones",{headers:{Authorization:`Bearer ${L}`}}),w(B.data);const q=(await j.get("http://localhost:5000/cupos",{headers:{Authorization:`Bearer ${L}`},params:{annoEscolarID:te.data.id,gradoID:ee,seccionID:X}})).data;let de=q;ee&&(de=q.filter(N=>N.gradoID==ee)),X&&(de=de.filter(N=>N.seccionID==X)),o(de),c(!1)}catch(K){console.error("Error al cargar datos:",K),c(!1),b({type:"error",text:"Error al cargar los datos. Por favor, intente de nuevo."})}})()},[L]);const T=async($,K,ee,X=[])=>{try{const te=[...X],fe=new Set(X.map(B=>B.seccionID));for(const B of $){const J=K.filter(q=>q.gradoID===B.id);for(const q of J){if(fe.has(q.id))continue;const N=(await j.get(`http://localhost:5000/secciones/${q.id}/estudiantes`,{headers:{Authorization:`Bearer ${L}`},params:{annoEscolarID:ee}})).data.length,k=q.capacidad||30,z=Math.max(0,k-N);te.push({id:`temp_${B.id}_${q.id}`,gradoID:B.id,seccionID:q.id,annoEscolarID:ee,capacidad:k,ocupados:N,disponibles:z,grado:B,Secciones:q})}}return te}catch(te){return console.error("Error al preparar cupos iniciales:",te),b({type:"error",text:"Error al preparar los cupos iniciales. Por favor, intente de nuevo."}),X}},W=($,K,ee,X)=>{const te=parseInt(X,10);isNaN(te)||te<0||(o(n.map(fe=>{if(fe.id===$||fe.gradoID===K&&fe.seccionID===ee){const B=Math.max(0,te-fe.ocupados);return{...fe,capacidad:te,disponibles:B}}return fe})),_({...E,[`${K}_${ee}`]:!0}))},V=async()=>{x(!0),b({type:"",text:""});try{for(const K of n){const ee=`${K.gradoID}_${K.seccionID}`;if(E[ee]){const X={gradoID:K.gradoID,seccionID:K.seccionID,annoEscolarID:p.id,capacidad:K.capacidad,ocupados:K.ocupados,disponibles:K.disponibles};K.id&&!K.id.toString().startsWith("temp_")?await j.put(`http://localhost:5000/cupos/${K.id}/capacidad`,{capacidad:K.capacidad},{headers:{Authorization:`Bearer ${L}`}}):await j.post("http://localhost:5000/cupos",X,{headers:{Authorization:`Bearer ${L}`}})}}const $=await j.get("http://localhost:5000/cupos",{headers:{Authorization:`Bearer ${L}`},params:{annoEscolarID:p.id}});o($.data),_({}),x(!1),b({type:"success",text:"Cupos actualizados correctamente"}),setTimeout(()=>{b({type:"",text:""})},3e3)}catch($){console.error("Error al guardar cupos:",$),x(!1),b({type:"error",text:"Error al guardar los cupos. Por favor, intente de nuevo."})}},me=async()=>{c(!0),b({type:"",text:""});try{const $=await j.get("http://localhost:5000/cupos",{headers:{Authorization:`Bearer ${L}`},params:{annoEscolarID:p.id}});o($.data),_({}),c(!1),b({type:"success",text:"Datos actualizados correctamente"}),setTimeout(()=>{b({type:"",text:""})},3e3)}catch($){console.error("Error al refrescar datos:",$),c(!1),b({type:"error",text:"Error al actualizar los datos. Por favor, intente de nuevo."})}},ae=async()=>{try{C(!0),b({type:"",text:""}),await j.post("http://localhost:5000/cupos/actualizar-reales",{annoEscolarID:p.id},{headers:{Authorization:`Bearer ${L}`}});const $=await j.get("http://localhost:5000/cupos",{headers:{Authorization:`Bearer ${L}`},params:{annoEscolarID:p.id}});o($.data),_({}),C(!1),b({type:"success",text:"Cupos restablecidos correctamente"}),setTimeout(()=>{b({type:"",text:""})},3e3)}catch($){console.error("Error al restablecer cupos:",$),C(!1),b({type:"error",text:"Error al restablecer los cupos. Por favor, intente de nuevo."})}},Y=async()=>{try{x(!0),b({type:"",text:""});const $=await T(v,R,p.id,n);for(const ee of $)if(ee.id&&ee.id.toString().startsWith("temp_")){const X={gradoID:ee.gradoID,seccionID:ee.seccionID,annoEscolarID:p.id,capacidad:ee.capacidad,ocupados:ee.ocupados,disponibles:ee.disponibles};await j.post("http://localhost:5000/cupos",X,{headers:{Authorization:`Bearer ${L}`}})}const K=await j.get("http://localhost:5000/cupos",{headers:{Authorization:`Bearer ${L}`},params:{annoEscolarID:p.id}});o(K.data),_({}),x(!1),b({type:"success",text:"Cupos creados correctamente para todos los grados y secciones"}),setTimeout(()=>{b({type:"",text:""})},3e3)}catch($){console.error("Error al crear todos los cupos:",$),x(!1),b({type:"error",text:"Error al crear los cupos. Por favor, intente de nuevo."})}},F=n.reduce(($,K)=>{const ee=K.gradoID;return $[ee]||($[ee]=[]),$[ee].push(K),$},{});return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Gestión de Cupos"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{onClick:me,disabled:l,className:"bg-gray-600 text-white px-4 py-2 rounded-md flex items-center",children:[e.jsx(Ty,{className:`mr-2 ${l?"animate-spin":""}`})," Actualizar"]}),e.jsxs("button",{onClick:ae,disabled:D||l,className:"bg-blue-600 text-white px-4 py-2 rounded-md flex items-center",children:[e.jsx(_h,{className:"mr-2"})," Restablecer Cupos"]}),e.jsxs("button",{onClick:Y,disabled:m||l,className:"bg-green-600 text-white px-4 py-2 rounded-md flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Crear Todos los Cupos"]}),e.jsx("button",{onClick:V,disabled:m||Object.keys(E).length===0,className:`${Object.keys(E).length===0?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"} text-white px-4 py-2 rounded-md flex items-center`,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gr,{className:"mr-2"})," Guardar Cambios"]})})]})]}),f.text&&e.jsx("div",{className:`mb-6 p-4 rounded-md ${f.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.text}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-md",children:[e.jsxs("h2",{className:"text-lg font-medium text-blue-800",children:["Año Escolar: ",p.periodo,p.activo?" (Activo)":""]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Los cupos se están gestionando para el año escolar actual."})]}),e.jsxs("div",{className:"mt-6 bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Resumen de Cupos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md",children:[e.jsx("h3",{className:"text-md font-medium text-blue-800",children:"Total de Cupos"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-2",children:n.reduce(($,K)=>$+K.capacidad,0)})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-md",children:[e.jsx("h3",{className:"text-md font-medium text-green-800",children:"Cupos Disponibles"}),e.jsx("p",{className:"text-2xl font-bold text-green-900 mt-2",children:n.reduce(($,K)=>$+K.disponibles,0)})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-md",children:[e.jsx("h3",{className:"text-md font-medium text-orange-800",children:"Cupos Ocupados"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900 mt-2",children:n.reduce(($,K)=>$+K.ocupados,0)})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-md font-medium text-gray-900 mb-2",children:"Instrucciones"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"Modifique la capacidad de cada sección según sea necesario."}),e.jsx("li",{children:"Los cupos disponibles se calculan automáticamente (Capacidad - Ocupados)."}),e.jsx("li",{children:'Los cambios no se guardarán hasta que haga clic en "Guardar Cambios".'}),e.jsx("li",{children:"Las filas resaltadas en amarillo indican cambios pendientes de guardar."}),e.jsx("li",{children:'Use "Crear Todos los Cupos" para configurar cupos para todos los grados y secciones.'}),e.jsx("li",{children:'Use "Restablecer Cupos" para actualizar los cupos basados en los estudiantes realmente inscritos.'})]})]})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs(e.Fragment,{children:[Object.keys(F).length>0?Object.keys(F).map($=>{var X;const K=F[$],ee=((X=K[0])==null?void 0:X.grado)||v.find(te=>te.id==$);return e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-800 mb-4",children:ee?_s(ee.nombre_grado):`Grado ${$}`}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sección"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacidad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ocupados"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Disponibles"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(te=>{const fe=te.Secciones?te.Secciones.nombre_seccion:"No disponible",B=`${te.gradoID}_${te.seccionID}`,J=E[B];return e.jsxs("tr",{className:J?"bg-yellow-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:fe})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"number",min:"0",value:te.capacidad,onChange:q=>W(te.id,te.gradoID,te.seccionID,q.target.value),className:`w-20 px-2 py-1 border rounded-md ${J?"border-yellow-400 bg-yellow-50":"border-gray-300"}`})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:te.ocupados})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:te.disponibles})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${te.disponibles>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.disponibles>0?"Disponible":"Completo"})})]},te.id||`${te.gradoID}_${te.seccionID}`)})})]})})})]},$)}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[e.jsx("p",{className:"text-gray-500",children:"No hay cupos configurados para el año escolar actual."}),e.jsxs("button",{onClick:Y,disabled:m,className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-md inline-flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Crear Cupos para Todos los Grados"]})]}),v.length>0&&Object.keys(F).length>0&&v.filter($=>!Object.keys(F).includes($.id.toString())).length>0&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-800 mb-4",children:"Grados sin Cupos Configurados"}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.filter($=>!Object.keys(F).includes($.id.toString())).map($=>e.jsxs("div",{className:"p-4 border rounded-md",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:_s($.nombre_grado)}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"No hay cupos configurados para este grado."})]},$.id))})})]})]})]})})},ev=()=>{var q,de,N;const[n,o]=u.useState([]),[l,c]=u.useState(!0),[m,x]=u.useState(""),[f,b]=u.useState(null),[p,g]=u.useState(null),[v,S]=u.useState("info"),[R,w]=u.useState([]),[E,_]=u.useState([]),[D,C]=u.useState([]),[L,T]=u.useState(!1),[W,V]=u.useState({}),[me,ae]=u.useState(!1),[Y,F]=u.useState(null),[$,K]=u.useState(!1),[ee,X]=u.useState(""),te=localStorage.getItem("token");u.useEffect(()=>{(async()=>{try{c(!0);const z=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${te}`}});b(z.data);const pe=await j.get("http://localhost:5000/grados",{headers:{Authorization:`Bearer ${te}`},params:{include:"niveles"}});o(pe.data);try{const P=await j.get("http://localhost:5000/cupos/resumen",{headers:{Authorization:`Bearer ${te}`},params:{annoEscolarID:z.data.id}}),Ce={};P.data&&P.data.cuposPorGrado&&Object.entries(P.data.cuposPorGrado).forEach(([ze,M])=>{Ce[ze]={capacidad:M.capacidadTotal||0,ocupados:M.ocupados||0,disponibles:M.disponibles||0}}),V(Ce)}catch(P){console.error("Error al cargar cupos:",P)}c(!1)}catch(z){console.error("Error al cargar datos:",z),x("Error al cargar los datos. Por favor, intente de nuevo."),c(!1)}})()},[te]);const fe=async k=>{g(k),S("info"),T(!0);try{try{const z=await j.get(`http://localhost:5000/grados/${k.id}/estudiantes`,{headers:{Authorization:`Bearer ${te}`},params:{annoEscolarID:f.id,tipo:"estudiante"}});w(z.data)}catch(z){console.error("Error al cargar estudiantes:",z),w([])}try{const z=await j.get(`http://localhost:5000/grados/${k.id}/profesores`,{headers:{Authorization:`Bearer ${te}`},params:{annoEscolarID:f.id,tipo:"profesor"}});_(z.data)}catch(z){console.error("Error al cargar profesores:",z),_([])}try{const z=await j.get(`http://localhost:5000/materias/grado/${k.id}`,{headers:{Authorization:`Bearer ${te}`},params:{annoEscolarID:f.id,limit:0}});console.log("Materias cargadas:",z.data.length),C(z.data)}catch(z){console.error("Error al cargar materias:",z),C([])}T(!1)}catch(z){console.error("Error general al cargar detalles del grado:",z),T(!1)}},B=k=>{F(k),ae(!0)},J=async()=>{if(Y){K(!0);try{await j.delete(`http://localhost:5000/grados/${Y.id}`,{headers:{Authorization:`Bearer ${te}`}}),o(n.filter(k=>k.id!==Y.id)),p&&p.id===Y.id&&g(null),X(`El grado ${_s(Y.nombre_grado)} ha sido eliminado correctamente.`),setTimeout(()=>X(""),3e3),ae(!1),F(null),K(!1)}catch(k){console.error("Error al eliminar grado:",k),x("No se pudo eliminar el grado. Verifique que no tenga estudiantes o profesores asignados."),K(!1)}}};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Gestión de Grados"}),e.jsx(Pe,{to:"/admin/academico/grados/nuevo",className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"Nuevo Grado"})]}),m&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-md",children:m}),ee&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 text-green-700 rounded-md",children:ee}),f&&e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-md",children:[e.jsxs("h2",{className:"text-lg font-medium text-blue-800",children:["Año Escolar: ",f.periodo,f.activo?" (Activo)":""]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Los datos mostrados corresponden al año escolar actual."})]}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b",children:e.jsx("h2",{className:"text-lg font-medium text-gray-800",children:"Grados"})}),n.length===0?e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No hay grados registrados."}):e.jsx("ul",{className:"divide-y divide-gray-200",children:n.map(k=>{const z=W[k.id]||{ocupados:0,disponibles:0};return e.jsx("li",{className:`hover:bg-gray-50 cursor-pointer ${p&&p.id===k.id?"bg-indigo-50":""}`,onClick:()=>fe(k),children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-medium text-gray-900",children:_s(k.nombre_grado)}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Nivel: ",k.Niveles?k.Niveles.nombre_nivel.charAt(0).toUpperCase()+k.Niveles.nombre_nivel.slice(1):"No especificado"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/academico/grados/${k.id}/editar`,className:"text-indigo-600 hover:text-indigo-800",onClick:pe=>pe.stopPropagation(),children:e.jsx(ds,{})}),e.jsx("button",{onClick:pe=>{pe.stopPropagation(),B(k)},className:"text-red-600 hover:text-red-800",children:e.jsx(Pt,{})})]})]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm",children:[e.jsxs("div",{className:"flex items-center text-green-600 mr-4",children:[e.jsx(di,{className:"mr-1"}),e.jsxs("span",{children:[z.ocupados," estudiantes"]})]}),e.jsx("div",{className:`flex items-center ${z.disponibles>0?"text-blue-600":"text-red-600"}`,children:e.jsxs("span",{children:[z.disponibles," cupos disponibles"]})})]})]})},k.id)})})]})}),e.jsx("div",{className:"md:w-2/3",children:p?e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b",children:e.jsx("h2",{className:"text-lg font-medium text-gray-800",children:_s(p.nombre_grado)})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsxs("button",{onClick:()=>S("info"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${v==="info"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Qt,{className:"inline mr-2"}),"Información"]}),e.jsxs("button",{onClick:()=>S("estudiantes"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${v==="estudiantes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(br,{className:"inline mr-2"}),"Estudiantes"]}),e.jsxs("button",{onClick:()=>S("profesores"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${v==="profesores"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Wr,{className:"inline mr-2"}),"Profesores"]}),e.jsxs("button",{onClick:()=>S("materias"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${v==="materias"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(ci,{className:"inline mr-2"}),"Materias"]})]})}),e.jsx("div",{className:"p-6",children:L?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs(e.Fragment,{children:[v==="info"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Información General"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Nombre del Grado"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:_s(p.nombre_grado)})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Nivel"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p.nivel||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Cantidad de Estudiantes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:R.length})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Cantidad de Materias"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:D.length})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Cantidad de Profesores"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:E.length})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Cupos"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm text-gray-500",children:"Capacidad Total"}),e.jsx("span",{className:"text-lg font-medium text-gray-900",children:((q=W[p.id])==null?void 0:q.capacidad)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm text-gray-500",children:"Ocupados"}),e.jsx("span",{className:"text-lg font-medium text-gray-900",children:((de=W[p.id])==null?void 0:de.ocupados)||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block text-sm text-gray-500",children:"Disponibles"}),e.jsx("span",{className:"text-lg font-medium text-gray-900",children:((N=W[p.id])==null?void 0:N.disponibles)||0})]})]})})]}),e.jsxs("div",{className:"mt-6 flex space-x-4",children:[e.jsxs(Pe,{to:`/admin/academico/grados/${p.id}/editar`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(ds,{className:"mr-2"})," Editar Grado"]}),e.jsx(Pe,{to:"/admin/cupos",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:"Gestionar Cupos"})]})]}),v==="estudiantes"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Estudiantes"}),e.jsx(Pe,{to:`/admin/academico/grados/${p.id}/asignar-estudiante`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Asignar Estudiante"})]}),R.length===0?e.jsx("div",{className:"bg-gray-50 p-4 text-center rounded-md",children:e.jsx("p",{className:"text-gray-500",children:"No hay estudiantes asignados a este grado."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Nacimiento"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[k.nombre," ",k.apellido]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:k.cedula})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(k.fechaNacimiento).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(Pe,{to:`/admin/estudiantes/${k.id}`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(Qt,{})}),e.jsx("button",{onClick:async()=>{if(window.confirm(`¿Está seguro de eliminar a ${k.nombre} ${k.apellido} de este grado?`))try{await j.delete(`http://localhost:5000/grados/${p.id}/estudiantes/${k.id}/${f.id}`,{headers:{Authorization:`Bearer ${te}`}}),w(R.filter(z=>z.id!==k.id)),X("Estudiante eliminado del grado correctamente."),setTimeout(()=>X(""),3e3)}catch(z){console.error("Error al eliminar estudiante del grado:",z),x("No se pudo eliminar el estudiante del grado.")}},className:"text-red-600 hover:text-red-900",children:e.jsx(Pt,{})})]})})]},k.id))})]})})]}),v==="profesores"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profesores"}),e.jsx(Pe,{to:`/admin/academico/grados/${p.id}/asignar-profesor`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Asignar Profesor"})]}),E.length===0?e.jsx("div",{className:"bg-gray-50 p-4 text-center rounded-md",children:e.jsx("p",{className:"text-gray-500",children:"No hay profesores asignados a este grado."})}):e.jsx("div",{className:"space-y-6",children:E.map(k=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-medium text-gray-900",children:[k.nombre," ",k.apellido]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Cédula: ",k.cedula]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Contacto: ",k.email||"No disponible"," | ",k.telefono||"No disponible"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/profesores/${k.id}`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(Qt,{})}),e.jsx("button",{onClick:async()=>{if(window.confirm(`¿Está seguro de eliminar al profesor ${k.nombre} ${k.apellido} de este grado?`))try{await j.delete(`http://localhost:5000/grados/${p.id}/profesores/${k.id}/${f.id}`,{headers:{Authorization:`Bearer ${te}`}}),_(E.filter(z=>z.id!==k.id)),X("Profesor eliminado del grado correctamente."),setTimeout(()=>X(""),3e3)}catch(z){console.error("Error al eliminar profesor del grado:",z),x("No se pudo eliminar el profesor del grado.")}},className:"text-red-600 hover:text-red-900",children:e.jsx(Pt,{})})]})]}),k.materiasAsignadas&&k.materiasAsignadas.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Materias asignadas:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.materiasAsignadas.map(z=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:z.asignatura},z.id))})]})]},k.id))})]}),v==="materias"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Materias (",D.length,")"]}),e.jsx(Pe,{to:`/admin/academico/grados/${p.id}/asignar-materia`,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Asignar Materia"})]}),D.length===0?e.jsx("div",{className:"bg-gray-50 p-4 text-center rounded-md",children:e.jsx("p",{className:"text-gray-500",children:"No hay materias asignadas a este grado."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto",children:D.map(k=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900",children:k.asignatura||k.asignatura}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Código: ",k.codigo||k.id||"No disponible"]}),k.descripcion&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:k.descripcion})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/academico/materias/${k.id}`,className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(Qt,{})}),e.jsx("button",{onClick:async()=>{if(window.confirm(`¿Está seguro de eliminar la materia ${k.asignatura||k.asignatura} de este grado?`))try{await j.delete(`http://localhost:5000/grados/${p.id}/materias/${k.id}`,{headers:{Authorization:`Bearer ${te}`}}),C(D.filter(z=>z.id!==k.id)),X("Materia eliminada del grado correctamente."),setTimeout(()=>X(""),3e3)}catch(z){console.error("Error al eliminar materia del grado:",z),x("No se pudo eliminar la materia del grado.")}},className:"text-red-600 hover:text-red-900",children:e.jsx(Pt,{})})]})]}),k.profesoresAsignados&&k.profesoresAsignados.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Profesores asignados:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.profesoresAsignados.map(z=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[z.nombre," ",z.apellido]},z.id))})]})]},k.id))})]})]})})]}):e.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Seleccione un grado para ver sus detalles."})})})]}),me&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Confirmar eliminación"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["¿Está seguro de eliminar el grado ",_s(Y.nombre_grado),"? Esta acción no se puede deshacer."]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>{ae(!1),F(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{onClick:J,disabled:$,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:$?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Eliminando..."]}):"Eliminar"})]})]})})]})})},tv=()=>{const{id:n}=Ws(),o=Rt(),[l,c]=u.useState(!0),[m,x]=u.useState(!1),[f,b]=u.useState(""),[p,g]=u.useState(""),[v,S]=u.useState({nombre_grado:"",nivel:"",descripcion:""}),R=localStorage.getItem("token");u.useEffect(()=>{(async()=>{try{c(!0);const D=await j.get(`http://localhost:5000/grados/${n}`,{headers:{Authorization:`Bearer ${R}`}});S({nombre_grado:D.data.nombre_grado||"",nivel:D.data.nivel||"",descripcion:D.data.descripcion||""}),c(!1)}catch(D){console.error("Error al cargar el grado:",D),b("No se pudo cargar la información del grado. Por favor, intente de nuevo."),c(!1)}})()},[n,R]);const w=_=>{const{name:D,value:C}=_.target;S(L=>({...L,[D]:C}))},E=async _=>{var D,C;_.preventDefault();try{x(!0),b(""),await j.put(`http://localhost:5000/grados/${n}`,v,{headers:{Authorization:`Bearer ${R}`}}),g("Grado actualizado correctamente"),setTimeout(()=>{o("/admin/academico/grados")},2e3)}catch(L){console.error("Error al actualizar el grado:",L),b(((C=(D=L.response)==null?void 0:D.data)==null?void 0:C.message)||"Error al actualizar el grado. Por favor, intente de nuevo."),x(!1)}};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Editar Grado"}),e.jsx("button",{onClick:()=>o("/admin/academico/grados"),className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300",children:"Volver"})]}),f&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-md",children:f}),p&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 text-green-700 rounded-md",children:p}),l?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:E,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"nombre_grado",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Grado"}),e.jsx("input",{type:"text",id:"nombre_grado",name:"nombre_grado",value:v.nombre_grado,onChange:w,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel"}),e.jsxs("select",{id:"nivel",name:"nivel",value:v.nivel,onChange:w,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un nivel"}),e.jsx("option",{value:"Primaria",children:"Primaria"}),e.jsx("option",{value:"Secundaria",children:"Secundaria"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),e.jsx("textarea",{id:"descripcion",name:"descripcion",rows:"3",value:v.descripcion,onChange:w,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",disabled:m,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:m?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Guardar Cambios"})})]})})})]})})},sv=()=>{const[n,o]=u.useState([]),[l,c]=u.useState(!0),[m,x]=u.useState(""),[f,b]=u.useState(""),[p,g]=u.useState(null),[v,S]=u.useState([]),[R,w]=u.useState([]),[E,_]=u.useState([]),[D,C]=u.useState(null),[L,T]=u.useState(""),[W,V]=u.useState([]),[me,ae]=u.useState(!1),[Y,F]=u.useState(!1),[$,K]=u.useState(!1),[ee,X]=u.useState(!1),[te,fe]=u.useState(!1),[B,J]=u.useState({asignatura:""}),[q,de]=u.useState({gradoID:"",annoEscolarID:""}),[N,k]=u.useState({profesorID:"",gradoID:"",annoEscolarID:""}),[z,pe]=u.useState({seccionID:"",annoEscolarID:""}),P=localStorage.getItem("token");u.useEffect(()=>{(async()=>{try{c(!0);const xe=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${P}`}});C(xe.data);const Be=await j.get("http://localhost:5000/materias",{headers:{Authorization:`Bearer ${P}`}});o(Be.data),V(Be.data);const Le=await j.get("http://localhost:5000/grados",{headers:{Authorization:`Bearer ${P}`}});S(Le.data);const et=await j.get("http://localhost:5000/personas",{headers:{Authorization:`Bearer ${P}`},params:{tipo:"profesor"}});Array.isArray(et.data)?w(et.data.filter(at=>at.tipo==="profesor")):et.data&&typeof et.data=="object"?et.data.tipo==="profesor"?w([et.data]):w([]):w([]);const Je=await j.get("http://localhost:5000/secciones",{headers:{Authorization:`Bearer ${P}`}});_(Je.data),c(!1)}catch(xe){console.error("Error al cargar datos iniciales:",xe),x("Error al cargar datos. Por favor, recargue la página."),c(!1)}})()},[P]),u.useEffect(()=>{if(L.trim()==="")V(n);else{const Q=n.filter(xe=>xe.asignatura.toLowerCase().includes(L.toLowerCase())||xe.id&&xe.id.toString().toLowerCase().includes(L.toLowerCase()));V(Q)}},[L,n]);const Ce=async Q=>{var xe,Be;Q.preventDefault();try{c(!0);const Le=await j.post("http://localhost:5000/materias",B,{headers:{Authorization:`Bearer ${P}`}});o([...n,Le.data]),b("Materia creada correctamente"),F(!1),J({asignatura:""}),setTimeout(()=>b(""),3e3),c(!1)}catch(Le){console.error("Error al crear materia:",Le),x(((Be=(xe=Le.response)==null?void 0:xe.data)==null?void 0:Be.message)||"Error al crear la materia"),c(!1)}},ze=async Q=>{var xe,Be;Q.preventDefault();try{c(!0),await j.post("http://localhost:5000/materias/asignar-a-grado",{materiaID:p.id,gradoID:q.gradoID,annoEscolarID:q.annoEscolarID||D.id},{headers:{Authorization:`Bearer ${P}`}}),b("Materia asignada al grado correctamente"),K(!1),de({gradoID:"",annoEscolarID:""}),setTimeout(()=>b(""),3e3),c(!1)}catch(Le){console.error("Error al asignar materia a grado:",Le),x(((Be=(xe=Le.response)==null?void 0:xe.data)==null?void 0:Be.message)||"Error al asignar la materia al grado"),c(!1)}},M=async Q=>{var xe,Be;Q.preventDefault();try{c(!0),await j.post("http://localhost:5000/materias/asignar-profesor",{profesorID:N.profesorID,materiaID:p.id,gradoID:N.gradoID,annoEscolarID:N.annoEscolarID||D.id},{headers:{Authorization:`Bearer ${P}`}}),b("Profesor asignado a la materia correctamente"),X(!1),k({profesorID:"",gradoID:"",annoEscolarID:""}),setTimeout(()=>b(""),3e3),c(!1)}catch(Le){console.error("Error al asignar profesor a materia:",Le),x(((Be=(xe=Le.response)==null?void 0:xe.data)==null?void 0:Be.message)||"Error al asignar el profesor a la materia"),c(!1)}},be=async Q=>{var xe,Be;Q.preventDefault();try{c(!0),await j.post("http://localhost:5000/materias/asignar-a-seccion",{materiaID:p.id,seccionID:z.seccionID,annoEscolarID:z.annoEscolarID||D.id},{headers:{Authorization:`Bearer ${P}`}}),b("Materia asignada a la sección correctamente"),fe(!1),pe({seccionID:"",annoEscolarID:""}),setTimeout(()=>b(""),3e3),c(!1)}catch(Le){console.error("Error al asignar materia a sección:",Le),x(((Be=(xe=Le.response)==null?void 0:xe.data)==null?void 0:Be.message)||"Error al asignar la materia a la sección"),c(!1)}},Ae=async Q=>{var xe,Be;if(window.confirm("¿Está seguro de eliminar esta materia? Esta acción no se puede deshacer."))try{c(!0),await j.delete(`http://localhost:5000/materias/${Q}`,{headers:{Authorization:`Bearer ${P}`}}),o(n.filter(Le=>Le.id!==Q)),b("Materia eliminada correctamente"),setTimeout(()=>b(""),3e3),c(!1)}catch(Le){console.error("Error al eliminar materia:",Le),x(((Be=(xe=Le.response)==null?void 0:xe.data)==null?void 0:Be.message)||"Error al eliminar la materia"),c(!1)}},re=({isOpen:Q,onClose:xe,title:Be,children:Le})=>Q?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:Be}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:xe,children:e.jsx(ya,{})})]}),e.jsx("div",{className:"mt-4",children:Le})]})})})})]})}):null,Se=e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>ae(!me),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md mb-4 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Nueva Materia"]}),me&&e.jsxs("div",{className:"absolute left-0 mt-2 w-96 bg-white rounded-md shadow-lg z-10 p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Crear Nueva Materia"}),e.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:Q=>{Q.preventDefault(),Ce(Q),ae(!1)},children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"asignatura",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Materia *"}),e.jsx("input",{type:"text",id:"asignatura",name:"asignatura",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:B.asignatura,onChange:Q=>J({...B,asignatura:Q.target.value})})]})}),e.jsxs("div",{className:"mt-5 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>ae(!1),children:"Cancelar"}),e.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:l,children:l?"Guardando...":"Guardar"})]})]})]}),f&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4 rounded",children:e.jsx("p",{children:f})}),m&&e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded",children:e.jsx("p",{children:m})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nombre o código...",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:L,onChange:Q=>T(Q.target.value)}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500"})})})}):W.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron materias"})}):W.map(Q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.id||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Q.asignatura}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:Q.descripcion||"Sin descripción"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{g(Q),K(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"Asignar a Grado",children:e.jsx(Ay,{})}),e.jsx("button",{onClick:()=>{g(Q),X(!0)},className:"text-green-600 hover:text-green-900",title:"Asignar Profesor",children:e.jsx(Gl,{})}),e.jsx("button",{onClick:()=>{g(Q),fe(!0)},className:"text-blue-600 hover:text-blue-900",title:"Asignar a Sección",children:e.jsx(Wr,{})}),e.jsx("button",{onClick:()=>Ae(Q.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(Pt,{})})]})})]},Q.id))})]})}),e.jsx(re,{isOpen:$,onClose:()=>K(!1),title:"Asignar Materia a Grado",children:e.jsxs("form",{onSubmit:ze,children:[p&&e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Materia: ",e.jsx("span",{className:"font-medium",children:p.asignatura})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado *"}),e.jsxs("select",{id:"gradoID",name:"gradoID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:q.gradoID,onChange:Q=>de({...q,gradoID:Q.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),v.map(Q=>e.jsx("option",{value:Q.id,children:Q.nombre_grado},Q.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annoEscolarID",className:"block text-sm font-medium text-gray-700",children:"Año Escolar"}),e.jsx("input",{type:"text",id:"annoEscolarID",name:"annoEscolarID",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-gray-100 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:D?D.periodo:"Cargando...",disabled:!0})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",disabled:l,children:l?"Asignando...":"Asignar"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>K(!1),children:"Cancelar"})]})]})}),e.jsx(re,{isOpen:ee,onClose:()=>X(!1),title:"Asignar Profesor a Materia",children:e.jsxs("form",{onSubmit:M,children:[p&&e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Materia: ",e.jsx("span",{className:"font-medium",children:p.asignatura})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"profesorID",className:"block text-sm font-medium text-gray-700",children:"Profesor *"}),e.jsxs("select",{id:"profesorID",name:"profesorID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:N.profesorID,onChange:Q=>k({...N,profesorID:Q.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione un profesor"}),Array.isArray(R)&&R.length>0?R.map(Q=>e.jsxs("option",{value:Q.id,children:[Q.nombre," ",Q.apellido]},Q.id)):e.jsx("option",{value:"",children:"No hay profesores disponibles"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado *"}),e.jsxs("select",{id:"gradoID",name:"gradoID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:N.gradoID,onChange:Q=>k({...N,gradoID:Q.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),v.map(Q=>e.jsx("option",{value:Q.id,children:Q.nombre_grado},Q.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annoEscolarID",className:"block text-sm font-medium text-gray-700",children:"Año Escolar"}),e.jsx("input",{type:"text",id:"annoEscolarID",name:"annoEscolarID",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-gray-100 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:D?D.periodo:"Cargando...",disabled:!0})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",disabled:l,children:l?"Asignando...":"Asignar"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>X(!1),children:"Cancelar"})]})]})}),e.jsx(re,{isOpen:te,onClose:()=>fe(!1),title:"Asignar Materia a Sección",children:e.jsxs("form",{onSubmit:be,children:[p&&e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Materia: ",e.jsx("span",{className:"font-medium",children:p.asignatura})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"seccionID",className:"block text-sm font-medium text-gray-700",children:"Sección *"}),e.jsxs("select",{id:"seccionID",name:"seccionID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:z.seccionID,onChange:Q=>pe({...z,seccionID:Q.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione una sección"}),E.map(Q=>{var xe;return e.jsxs("option",{value:Q.id,children:[Q.nombre_seccion," - ",((xe=v.find(Be=>Be.id===Q.gradoID))==null?void 0:xe.nombre_grado)||"Sin grado"]},Q.id)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annoEscolarID",className:"block text-sm font-medium text-gray-700",children:"Año Escolar"}),e.jsx("input",{type:"text",id:"annoEscolarID",name:"annoEscolarID",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-gray-100 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:D?D.periodo:"Cargando...",disabled:!0})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",disabled:l,children:l?"Asignando...":"Asignar"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>fe(!1),children:"Cancelar"})]})]})})]});return e.jsx(At,{children:Se})};function av(n){if(typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css",o.firstChild?o.insertBefore(l,o.firstChild):o.appendChild(l),l.styleSheet?l.styleSheet.cssText=n:l.appendChild(document.createTextNode(n))}av(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Md=n=>typeof n=="number"&&!isNaN(n),mi=n=>typeof n=="string",Lh=n=>typeof n=="function",rv=n=>mi(n)||Md(n),nv=n=>u.isValidElement(n)||mi(n)||Lh(n)||Md(n),iv=1,Oh=()=>`${iv++}`,Js=new Map,yd=[],Hx=new Set,Bh=()=>Js.size>0,lv=(n,{containerId:o})=>{var l;return(l=Js.get(o||1))==null?void 0:l.toasts.get(n)};function ov(n,o){var l;if(o)return!!((l=Js.get(o))!=null&&l.isToastActive(n));let c=!1;return Js.forEach(m=>{m.isToastActive(n)&&(c=!0)}),c}function cv(n){if(!Bh()){yd=yd.filter(o=>n!=null&&o.options.toastId!==n);return}if(n==null||rv(n))Js.forEach(o=>{o.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let o=Js.get(n.containerId);o?o.removeToast(n.id):Js.forEach(l=>{l.removeToast(n.id)})}}var dv=(n={})=>{Js.forEach(o=>{o.props.limit&&(!n.containerId||o.id===n.containerId)&&o.clearQueue()})};function mv(n,o){nv(n)&&(Bh()||yd.push({content:n,options:o}),Js.forEach(l=>{l.buildToast(n,o)}))}function Ih(n,o){Js.forEach(l=>{(o==null||!(o!=null&&o.containerId)||(o==null?void 0:o.containerId)===l.id)&&l.toggle(n,o==null?void 0:o.id)})}function uv(n){return Hx.add(n),()=>{Hx.delete(n)}}function xv(n){return n&&(mi(n.toastId)||Md(n.toastId))?n.toastId:Oh()}function gi(n,o){return mv(n,o),o.toastId}function Vl(n,o){return{...o,type:o&&o.type||n,toastId:xv(o)}}function Yl(n){return(o,l)=>gi(o,Vl(n,l))}function it(n,o){return gi(n,Vl("default",o))}it.loading=(n,o)=>gi(n,Vl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...o}));function hv(n,{pending:o,error:l,success:c},m){let x;o&&(x=mi(o)?it.loading(o,m):it.loading(o.render,{...m,...o}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},b=(g,v,S)=>{if(v==null){it.dismiss(x);return}let R={type:g,...f,...m,data:S},w=mi(v)?{render:v}:v;return x?it.update(x,{...R,...w}):it(w.render,{...R,...w}),S},p=Lh(n)?n():n;return p.then(g=>b("success",c,g)).catch(g=>b("error",l,g)),p}it.promise=hv;it.success=Yl("success");it.info=Yl("info");it.error=Yl("error");it.warning=Yl("warning");it.warn=it.warning;it.dark=(n,o)=>gi(n,Vl("default",{theme:"dark",...o}));function fv(n){cv(n)}it.dismiss=fv;it.clearWaitingQueue=dv;it.isActive=ov;it.update=(n,o={})=>{let l=lv(n,o);if(l){let{props:c,content:m}=l,x={delay:100,...c,...o,toastId:o.toastId||n,updateId:Oh()};x.toastId!==n&&(x.staleId=n);let f=x.render||m;delete x.render,gi(f,x)}};it.done=n=>{it.update(n,{progress:1})};it.onChange=uv;it.play=n=>Ih(!0,n);it.pause=n=>Ih(!1,n);const gv=()=>{const n=Rt(),[o,l]=u.useState([]),[c,m]=u.useState([]),[x,f]=u.useState(!0),[b,p]=u.useState(""),[g,v]=u.useState(""),[S,R]=u.useState(""),[w,E]=u.useState(!1),[_,D]=u.useState(!1),[C,L]=u.useState(!1),[T,W]=u.useState(null),[V,me]=u.useState([]),[ae,Y]=u.useState([]),[F,$]=u.useState(null),[K,ee]=u.useState([]),[X,te]=u.useState({}),[fe,B]=u.useState({nombre_seccion:"",gradoID:"",capacidad:30,activo:!0}),[J,q]=u.useState({estudianteID:"",seccionID:"",annoEscolarID:""});u.useEffect(()=>{(async()=>{try{f(!0);const be=localStorage.getItem("token");if(!be){n("/login");return}const Ae={headers:{Authorization:`Bearer ${be}`}},re=await j.get("http://localhost:5000/secciones",Ae);console.log("Secciones cargadas:",re.data);const Se=await j.get("http://localhost:5000/grados",Ae);console.log("Grados cargados:",Se.data);const Q=await j.get("http://localhost:5000/nivel",Ae);console.log("Niveles cargados:",Q.data);const xe=await j.get("http://localhost:5000/anno-escolar/actual",Ae),Be=await j.get("http://localhost:5000/personas/tipo/estudiante",Ae);l(re.data),m(Se.data),ee(Q.data),$(xe.data),me(Be.data),f(!1)}catch(be){console.error("Error al cargar datos:",be),p("Error al cargar datos. Por favor, intente nuevamente."),f(!1),be.response&&be.response.status===401&&(localStorage.removeItem("token"),n("/login"))}})()},[n]),u.useEffect(()=>{if(c.length>0&&K.length>0){const M={};c.forEach(be=>{const Ae=K.find(re=>re.id===be.nivelID);Ae&&(M[be.id]={nombreGrado:be.nombre_grado,nombreNivel:Ae.nombre_nivel})}),te(M),console.log("Mapa de grado-nivel creado:",M)}},[c,K]);const de=o.filter(M=>{var be;return M.nombre_seccion.toLowerCase().includes(S.toLowerCase())||((be=c.find(Ae=>Ae.id===M.gradoID))==null?void 0:be.nombre_grado.toLowerCase().includes(S.toLowerCase()))}),N=async M=>{var be,Ae,re,Se;M.preventDefault();try{f(!0);const Q=localStorage.getItem("token"),xe=await j.post("http://localhost:5000/secciones",fe,{headers:{Authorization:`Bearer ${Q}`}});l([...o,xe.data]),v("Sección creada correctamente"),E(!1),B({nombre_seccion:"",gradoID:"",capacidad:30,activo:!0}),it.success("Sección creada correctamente")}catch(Q){console.error("Error al crear sección:",Q),p(((Ae=(be=Q.response)==null?void 0:be.data)==null?void 0:Ae.message)||"Error al crear sección"),it.error(((Se=(re=Q.response)==null?void 0:re.data)==null?void 0:Se.message)||"Error al crear sección")}finally{f(!1)}},k=async M=>{var be,Ae,re,Se;M.preventDefault();try{f(!0);const Q=localStorage.getItem("token"),xe=await j.put(`http://localhost:5000/secciones/${T.id}`,T,{headers:{Authorization:`Bearer ${Q}`}});l(o.map(Be=>Be.id===T.id?xe.data:Be)),v("Sección actualizada correctamente"),D(!1),W(null),it.success("Sección actualizada correctamente")}catch(Q){console.error("Error al actualizar sección:",Q),p(((Ae=(be=Q.response)==null?void 0:be.data)==null?void 0:Ae.message)||"Error al actualizar sección"),it.error(((Se=(re=Q.response)==null?void 0:re.data)==null?void 0:Se.message)||"Error al actualizar sección")}finally{f(!1)}},z=async M=>{var be,Ae,re,Se;if(window.confirm("¿Está seguro de eliminar esta sección?"))try{f(!0);const Q=localStorage.getItem("token");await j.delete(`http://localhost:5000/secciones/${M}`,{headers:{Authorization:`Bearer ${Q}`}}),l(o.filter(xe=>xe.id!==M)),v("Sección eliminada correctamente"),it.success("Sección eliminada correctamente")}catch(Q){console.error("Error al eliminar sección:",Q),p(((Ae=(be=Q.response)==null?void 0:be.data)==null?void 0:Ae.message)||"Error al eliminar sección"),it.error(((Se=(re=Q.response)==null?void 0:re.data)==null?void 0:Se.message)||"Error al eliminar sección")}finally{f(!1)}},pe=async M=>{var be,Ae;if(M.preventDefault(),!J.estudianteID){it.error("Seleccione un estudiante");return}if(!F){it.error("No hay un año escolar activo");return}try{f(!0);const re=localStorage.getItem("token"),Se=await j.post("http://localhost:5000/secciones/asignar-estudiante",{estudianteID:J.estudianteID,seccionID:T.id,annoEscolarID:F.id},{headers:{Authorization:`Bearer ${re}`}});it.success("Estudiante asignado correctamente");const Q=await j.get(`http://localhost:5000/secciones/${T.id}/estudiantes?annoEscolarID=${F.id}`,{headers:{Authorization:`Bearer ${re}`}});Y(Q.data),me(xe=>xe.filter(Be=>Be.id!==J.estudianteID)),q({estudianteID:""}),f(!1)}catch(re){console.error("Error al asignar estudiante:",re),it.error(((Ae=(be=re.response)==null?void 0:be.data)==null?void 0:Ae.message)||"Error al asignar estudiante. Por favor, intente nuevamente."),f(!1)}},P=async M=>{var be,Ae;if(!F){it.error("No hay un año escolar activo");return}if(window.confirm("¿Está seguro de eliminar este estudiante de la sección?"))try{f(!0);const re=localStorage.getItem("token");await j.delete(`http://localhost:5000/secciones/${T.id}/estudiantes/${M}/anno/${F.id}`,{headers:{Authorization:`Bearer ${re}`}}),it.success("Estudiante eliminado de la sección correctamente");const Se=await j.get(`http://localhost:5000/secciones/${T.id}/estudiantes?annoEscolarID=${F.id}`,{headers:{Authorization:`Bearer ${re}`}});Y(Se.data);const Q=await j.get(`http://localhost:5000/personas/${M}`,{headers:{Authorization:`Bearer ${re}`}});Q.data&&me(xe=>[...xe,Q.data]),f(!1)}catch(re){console.error("Error al eliminar estudiante de la sección:",re),it.error(((Ae=(be=re.response)==null?void 0:be.data)==null?void 0:Ae.message)||"Error al eliminar estudiante. Por favor, intente nuevamente."),f(!1)}};u.useCallback(async M=>{try{f(!0);const be=localStorage.getItem("token"),Ae=await j.get(`http://localhost:5000/secciones/${M}/estudiantes?annoEscolarID=${F.id}`,{headers:{Authorization:`Bearer ${be}`}});Y(Ae.data)}catch(be){console.error("Error al cargar estudiantes de la sección:",be),p("Error al cargar estudiantes de la sección")}finally{f(!1)}},[F]);const Ce=async M=>{var be,Ae;try{f(!0),W(M);const Se={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},Q=F?F.id:null;if(!Q){it.error("No hay un año escolar activo"),f(!1);return}const xe=await j.get(`http://localhost:5000/secciones/${M.id}/estudiantes?annoEscolarID=${Q}`,Se);Y(xe.data);const Be=await j.get(`http://localhost:5000/grados/${M.gradoID}/estudiantes?annoEscolarID=${Q}`,Se),et=(await j.get(`http://localhost:5000/secciones/grado/${M.gradoID}`,Se)).data.map(gt=>gt.id),Je=new Set;for(const gt of et)(await j.get(`http://localhost:5000/secciones/${gt}/estudiantes?annoEscolarID=${Q}`,Se)).data.forEach(I=>{Je.add(I.id)});const at=Be.data.filter(gt=>!Je.has(gt.id));me(at),L(!0),f(!1)}catch(re){console.error("Error al cargar estudiantes:",re),it.error(((Ae=(be=re.response)==null?void 0:be.data)==null?void 0:Ae.message)||"Error al cargar estudiantes. Por favor, intente nuevamente."),f(!1)}},ze=e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestión de Secciones"}),e.jsx("button",{onClick:()=>E(!w),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md flex items-center",children:w?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancelar"]}):e.jsxs(e.Fragment,{children:[e.jsx(rs,{className:"mr-2"})," Nueva Sección"]})})]}),g&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4 rounded",children:e.jsx("p",{children:g})}),b&&e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 rounded",children:e.jsx("p",{children:b})}),w&&e.jsxs("div",{className:"mb-8 bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Crear Nueva Sección"}),e.jsxs("form",{onSubmit:N,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nombre_seccion",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Sección *"}),e.jsx("input",{type:"text",id:"nombre_seccion",name:"nombre_seccion",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:fe.nombre_seccion,onChange:M=>B({...fe,nombre_seccion:M.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado *"}),e.jsxs("select",{id:"gradoID",name:"gradoID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:fe.gradoID,onChange:M=>B({...fe,gradoID:M.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),c.map(M=>e.jsx("option",{value:M.id,children:M.nombre_grado},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"capacidad",className:"block text-sm font-medium text-gray-700",children:"Capacidad"}),e.jsx("input",{type:"number",id:"capacidad",name:"capacidad",min:"1",max:"100",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:fe.capacidad,onChange:M=>B({...fe,capacidad:parseInt(M.target.value)})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"activo",name:"activo",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:fe.activo,onChange:M=>B({...fe,activo:M.target.checked})}),e.jsx("label",{htmlFor:"activo",className:"ml-2 block text-sm text-gray-900",children:"Activo"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>E(!1),children:"Cancelar"}),e.jsx("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:x,children:x?"Guardando...":"Guardar"})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nombre o grado...",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",value:S,onChange:M=>R(M.target.value)}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sección"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nivel"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Capacidad"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiantes"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x&&!o.length?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500"})})})}):de.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron secciones"})}):de.map(M=>{var Ae,re;const be=c.find(Se=>Se.id===M.gradoID);return be&&K.find(Se=>Se.id===be.nivelID),e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:M.nombre_seccion}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(Ae=X[M.gradoID])!=null&&Ae.nombreGrado?_s(X[M.gradoID].nombreGrado):"No asignado"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(re=X[M.gradoID])!=null&&re.nombreNivel?Iy(X[M.gradoID].nombreNivel):"No asignado"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.capacidad}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${M.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:M.activo?"Activo":"Inactivo"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("button",{onClick:()=>Ce(M),className:"text-indigo-600 hover:text-indigo-900 flex items-center",children:[e.jsx(di,{className:"mr-1"})," Ver estudiantes"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{W(M),D(!0)},className:"text-indigo-600 hover:text-indigo-900",title:"Editar",children:e.jsx(ds,{})}),e.jsx("button",{onClick:()=>Ce(M),className:"text-green-600 hover:text-green-900",title:"Asignar Estudiantes",children:e.jsx(Gl,{})}),e.jsx("button",{onClick:()=>z(M.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(Pt,{})})]})})]},M.id)})})]})}),_&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-md w-full",onClick:M=>M.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Editar Sección"}),e.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_nombre_seccion",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Sección *"}),e.jsx("input",{type:"text",id:"edit_nombre_seccion",name:"nombre_seccion",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:T.nombre_seccion,onChange:M=>W({...T,nombre_seccion:M.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado *"}),e.jsxs("select",{id:"edit_gradoID",name:"gradoID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:T.gradoID,onChange:M=>W({...T,gradoID:M.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),c.map(M=>e.jsx("option",{value:M.id,children:M.nombre_grado},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_capacidad",className:"block text-sm font-medium text-gray-700",children:"Capacidad"}),e.jsx("input",{type:"number",id:"edit_capacidad",name:"capacidad",min:"1",max:"100",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:T.capacidad,onChange:M=>W({...T,capacidad:parseInt(M.target.value)})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"edit_activo",name:"activo",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",checked:T.activo,onChange:M=>W({...T,activo:M.target.checked})}),e.jsx("label",{htmlFor:"edit_activo",className:"ml-2 block text-sm text-gray-900",children:"Activo"})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",disabled:x,children:x?"Guardando...":"Guardar"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>D(!1),children:"Cancelar"})]})]})]})}),C&&T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-4xl w-full",onClick:M=>M.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Estudiantes de la Sección: ",T.nombre_seccion]}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Asignar Nuevo Estudiante"}),e.jsxs("form",{onSubmit:pe,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"estudianteID",className:"block text-sm font-medium text-gray-700",children:"Estudiante *"}),e.jsxs("select",{id:"estudianteID",name:"estudianteID",required:!0,className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:J.estudianteID,onChange:M=>q({...J,estudianteID:M.target.value}),children:[e.jsx("option",{value:"",children:"Seleccione un estudiante"}),V.map(M=>e.jsxs("option",{value:M.id,children:[M.nombre," ",M.apellido," - ",M.cedula]},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annoEscolar",className:"block text-sm font-medium text-gray-700",children:"Año Escolar"}),e.jsx("input",{type:"text",id:"annoEscolar",className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-gray-100 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:F?F.periodo:"Cargando...",disabled:!0})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:x,children:x?"Asignando...":"Asignar Estudiante"})})]})]}),e.jsxs("div",{className:"bg-white border rounded-lg",children:[e.jsxs("div",{className:"px-4 py-3 border-b",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Estudiantes Asignados"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[ae.length," de ",T.capacidad," cupos ocupados"]})]}),e.jsx("div",{className:"overflow-y-auto max-h-80",children:x?e.jsx("div",{className:"flex justify-center items-center p-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500"})}):ae.length===0?e.jsx("p",{className:"text-center text-gray-500 p-4",children:"No hay estudiantes asignados a esta sección"}):e.jsx("ul",{className:"divide-y divide-gray-200",children:ae.map(M=>e.jsxs("li",{className:"px-4 py-3 flex justify-between items-center hover:bg-gray-50",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[M.nombre," ",M.apellido]}),e.jsx("p",{className:"text-xs text-gray-500",children:M.cedula})]}),e.jsx("button",{onClick:()=>P(M.id),className:"text-red-600 hover:text-red-900",title:"Eliminar de la sección",children:e.jsx(Pt,{})})]},M.id))})})]})]})]})})]});return e.jsx(At,{children:ze})},pv=()=>{const n=Rt(),[o,l]=u.useState([]),[c,m]=u.useState([]),[x,f]=u.useState(!0),[b,p]=u.useState(""),[g,v]=u.useState(null),[S,R]=u.useState([]),[w,E]=u.useState(""),[_,D]=u.useState(""),[C,L]=u.useState(""),[T,W]=u.useState(!1);u.useEffect(()=>{(async()=>{try{f(!0);const F=localStorage.getItem("token");if(!F){n("/login");return}const $={headers:{Authorization:`Bearer ${F}`}},K=await j.get("http://localhost:5000/anno-escolar/actual",$);v(K.data);const ee=await j.get(`http://localhost:5000/inscripciones?annoEscolarID=${K.data.id}`,$);l(ee.data),m(ee.data);const X=await j.get("http://localhost:5000/grados",$);R(X.data),f(!1)}catch(F){console.error("Error al cargar datos:",F),p("Error al cargar datos. Por favor, intente nuevamente."),f(!1),F.response&&F.response.status===401&&(localStorage.removeItem("token"),n("/login"))}})()},[n]),u.useEffect(()=>{if(!o.length)return;let Y=[...o];if(w){const F=w.toLowerCase();Y=Y.filter($=>{var K,ee,X,te,fe,B;return $.id.toString().includes(w)||(((K=$.estudiante)==null?void 0:K.nombre)||"").toLowerCase().includes(F)||(((ee=$.estudiante)==null?void 0:ee.apellido)||"").toLowerCase().includes(F)||(((X=$.estudiante)==null?void 0:X.cedula)||"").toLowerCase().includes(F)||(((te=$.representante)==null?void 0:te.nombre)||"").toLowerCase().includes(F)||(((fe=$.representante)==null?void 0:fe.apellido)||"").toLowerCase().includes(F)||(((B=$.representante)==null?void 0:B.cedula)||"").toLowerCase().includes(F)})}_&&(Y=Y.filter(F=>F.estado===_)),C&&(Y=Y.filter(F=>F.gradoID.toString()===C)),m(Y)},[o,w,_,C]);const V=()=>{alert("Funcionalidad de exportación en desarrollo")},me=Y=>{const F=S.find($=>$.id===Y);return F?F.nombre_grado.replace(/_/g," "):"No asignado"},ae=Y=>{switch(Y){case"pendiente":return"bg-yellow-100 text-yellow-800";case"inscrito":return"bg-green-100 text-green-800";case"aprobado":return"bg-green-100 text-green-800";case"rechazado":return"bg-red-100 text-red-800";case"retirado":return"bg-gray-100 text-gray-800";case"graduado":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestión de Inscripciones"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>W(!T),className:"flex items-center px-4 py-2 bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:[e.jsx(Td,{className:"mr-2"}),T?"Ocultar filtros":"Mostrar filtros"]}),e.jsxs("button",{onClick:V,className:"flex items-center px-4 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200",children:[e.jsx(Dy,{className:"mr-2"}),"Exportar"]})]})]}),g&&e.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-md",children:e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Año Escolar Activo:"})," ",g.periodo]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{className:"text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Buscar por código, nombre, apellido o cédula...",value:w,onChange:Y=>E(Y.target.value)})]})}),T&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-md",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-700 mb-3",children:"Filtros"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filtroEstado",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),e.jsxs("select",{id:"filtroEstado",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:_,onChange:Y=>D(Y.target.value),children:[e.jsx("option",{value:"",children:"Todos los estados"}),e.jsx("option",{value:"pendiente",children:"Pendiente"}),e.jsx("option",{value:"inscrito",children:"Inscrito"}),e.jsx("option",{value:"aprobado",children:"Aprobado"}),e.jsx("option",{value:"rechazado",children:"Rechazado"}),e.jsx("option",{value:"retirado",children:"Retirado"}),e.jsx("option",{value:"graduado",children:"Graduado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"filtroGrado",className:"block text-sm font-medium text-gray-700 mb-1",children:"Grado"}),e.jsxs("select",{id:"filtroGrado",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:C,onChange:Y=>L(Y.target.value),children:[e.jsx("option",{value:"",children:"Todos los grados"}),S.map(Y=>e.jsx("option",{value:Y.id,children:Y.nombre_grado.replace(/_/g," ")},Y.id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{E(""),D(""),L("")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar filtros"})})]})]}),b&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border-l-4 border-red-400 text-red-700",children:e.jsx("p",{children:b})}),e.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Representante"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documentos"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pago"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500"})})})}):c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron inscripciones"})}):c.map(Y=>{var F,$,K,ee,X,te;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",Y.id]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[(F=Y.estudiante)==null?void 0:F.nombre," ",($=Y.estudiante)==null?void 0:$.apellido]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CI: ",(K=Y.estudiante)==null?void 0:K.cedula]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[(ee=Y.representante)==null?void 0:ee.nombre," ",(X=Y.representante)==null?void 0:X.apellido]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["CI: ",(te=Y.representante)==null?void 0:te.cedula]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:me(Y.gradoID)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ys(Y.fechaInscripcion)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(Y.estado)}`,children:Y.estado.charAt(0).toUpperCase()+Y.estado.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.documentosCompletos?e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx(Px,{className:"mr-1"})," Completos"]}):e.jsxs("span",{className:"text-yellow-600 flex items-center",children:[e.jsx(Ux,{className:"mr-1"})," Pendientes"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.pagoInscripcionCompletado?e.jsxs("span",{className:"text-green-600 flex items-center",children:[e.jsx(Px,{className:"mr-1"})," Pagado"]}):e.jsxs("span",{className:"text-yellow-600 flex items-center",children:[e.jsx(Ux,{className:"mr-1"})," Pendiente"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs(Pe,{to:`/admin/inscripciones/${Y.id}`,className:"text-indigo-600 hover:text-indigo-900 flex items-center",children:[e.jsx(Qt,{className:"mr-1"})," Ver detalles"]})})]},Y.id)})})]})})}),c.length>0&&e.jsx("div",{className:"mt-4 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:c.length})," de"," ",e.jsx("span",{className:"font-medium",children:o.length})," inscripciones"]})})]})})},bv=()=>{var _e,He,Ye;const{id:n}=Ws(),o=Rt(),[l,c]=u.useState(null),[m,x]=u.useState([]),[f,b]=u.useState([]),[p,g]=u.useState([]),[v,S]=u.useState([]),[R,w]=u.useState(!0),[E,_]=u.useState(""),[D,C]=u.useState(""),[L,T]=u.useState(!1),[W,V]=u.useState({}),[me,ae]=u.useState([]),[Y,F]=u.useState([]),[$,K]=u.useState([]),[ee,X]=u.useState(!1),[te,fe]=u.useState(!1),[B,J]=u.useState(null),[q,de]=u.useState(null),[N,k]=u.useState(!1),[z,pe]=u.useState(null),[P,Ce]=u.useState(!1),[ze,M]=u.useState([]),[be,Ae]=u.useState(!1),[re,Se]=u.useState(null),[Q,xe]=u.useState({metodoPagoID:"",referencia:"",monto:"",fechaPago:new Date().toISOString().split("T")[0],observaciones:""}),Be=he=>{const{name:Re,value:U}=he.target;xe({...Q,[Re]:U})},Le=u.useRef(null);u.useEffect(()=>{(async()=>{try{w(!0);const Re=localStorage.getItem("token");if(!Re){o("/login");return}const U={headers:{Authorization:`Bearer ${Re}`}},je=await j.get(`http://localhost:5000/inscripciones/${n}`,U);if(c(je.data),V({estado:je.data.estado,gradoID:je.data.gradoID,seccionID:je.data.seccionID,observaciones:je.data.observaciones||""}),je.data.estudiante){const yt=await j.get(`http://localhost:5000/documentos/persona/${je.data.estudiante.id}`,U);x(yt.data);const Et=await j.get(`http://localhost:5000/documentos/verificar/${je.data.estudiante.id}/estudiante`,U);b(Et.data.documentosRequeridos)}const Ie=await j.get("http://localhost:5000/grados",U);ae(Ie.data);const Qe=await j.get("http://localhost:5000/secciones",U);F(Qe.data),w(!1)}catch(Re){console.error("Error al cargar datos:",Re),_("Error al cargar los datos. Por favor, intente nuevamente."),w(!1),Re.response&&Re.response.status===401&&(localStorage.removeItem("token"),o("/login"))}})()},[n,o]),u.useEffect(()=>{(async()=>{var Re;if((Re=l==null?void 0:l.representante)!=null&&Re.id)try{const U=localStorage.getItem("token"),je=await j.get(`http://localhost:5000/documentos/persona/${l.representante.id}`,{headers:{Authorization:`Bearer ${U}`}});S(je.data);const Ie=await j.get(`http://localhost:5000/documentos/verificar/${l.representante.id}/representante`,{headers:{Authorization:`Bearer ${U}`}});g(Ie.data.documentosRequeridos)}catch(U){console.error("Error al cargar documentos del representante:",U),_("Error al cargar los documentos del representante.")}})()},[(_e=l==null?void 0:l.representante)==null?void 0:_e.id]);const et=he=>{const Re=v.find(U=>U.tipoDocumento===he.id);pe({...he,documentoExistente:Re}),fe(!0)},Je=()=>{fe(!1),pe(null),de(null),Le.current&&(Le.current.value="")},at=async()=>{var he,Re;if(!q){_("Por favor, seleccione un archivo para subir");return}try{k(!0),_("");const U=localStorage.getItem("token"),je=new FormData;je.append("documento",q),je.append("personaID",l.representante.id),je.append("tipoDocumento",z.id),je.append("descripcion",`Documento ${z.nombre} del representante`);let Ie;z.documentoExistente?(Ie=await j.put(`http://localhost:5000/documentos/${z.documentoExistente.id}`,je,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${U}`}}),C("Documento del representante actualizado correctamente")):(Ie=await j.post("http://localhost:5000/documentos/upload",je,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${U}`}}),C("Documento del representante subido correctamente"));const Qe=await j.get(`http://localhost:5000/documentos/persona/${l.representante.id}`,{headers:{Authorization:`Bearer ${U}`}});S(Qe.data);const yt=await j.get(`http://localhost:5000/documentos/verificar/${l.representante.id}/representante`,{headers:{Authorization:`Bearer ${U}`}});g(yt.data.documentosRequeridos),Je(),setTimeout(()=>{C("")},3e3)}catch(U){console.error("Error al subir documento del representante:",U),_(((Re=(he=U.response)==null?void 0:he.data)==null?void 0:Re.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{k(!1)}};u.useEffect(()=>{if(W.gradoID){const he=Y.filter(Re=>Re.gradoID==W.gradoID);K(he)}else K([])},[W.gradoID,Y]);const gt=he=>{switch(he){case"pendiente":return"bg-yellow-100 text-yellow-800";case"inscrito":case"aprobado":return"bg-green-100 text-green-800";case"rechazada":return"bg-red-100 text-red-800";case"retirado":return"bg-gray-100 text-gray-800";case"graduado":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Oe=he=>{const Re=me.find(U=>U.id==he);return Re?Re.nombre_grado.replace(/_/g," "):"No asignado"},I=he=>{const Re=Y.find(U=>U.id==he);return Re?Re.nombre_seccion:"No asignada"},se=he=>{const{name:Re,value:U}=he.target;V(je=>({...je,[Re]:U}))},ve=async()=>{try{w(!0);const Re={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await j.put(`http://localhost:5000/inscripciones/${n}/estado`,{estado:W.estado,observaciones:W.observaciones},Re);const U=await j.get(`http://localhost:5000/inscripciones/${n}`,Re);c(U.data),T(!1),C("Inscripción actualizada correctamente"),setTimeout(()=>{C("")},3e3),w(!1)}catch(he){console.error("Error al guardar cambios:",he),_("Error al guardar los cambios. Por favor, intente nuevamente."),w(!1)}},Ee=async()=>{try{w(!0);const Re={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await j.put(`http://localhost:5000/inscripciones/${n}/estado`,{estado:"aprobado",observaciones:"Inscripción aprobada"},Re);const U=await j.get(`http://localhost:5000/inscripciones/${n}`,Re);c(U.data),C("Inscripción aprobada correctamente"),setTimeout(()=>{C("")},3e3),w(!1)}catch(he){console.error("Error al aprobar inscripción:",he),_("Error al aprobar la inscripción. Por favor, intente nuevamente."),w(!1)}},Ve=async()=>{const he=prompt("Ingrese el motivo del rechazo:");if(he)try{w(!0);const U={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};await j.put(`http://localhost:5000/inscripciones/${n}/estado`,{estado:"rechazado",observaciones:`Rechazado: ${he}`},U);const je=await j.get(`http://localhost:5000/inscripciones/${n}`,U);c(je.data),C("Inscripción rechazada correctamente"),setTimeout(()=>{C("")},3e3),w(!1)}catch(Re){console.error("Error al rechazar inscripción:",Re),_("Error al rechazar la inscripción. Por favor, intente nuevamente."),w(!1)}},oe=async he=>{try{const Re=localStorage.getItem("token");window.open(`http://localhost:5000/documentos/download/${he}?token=${Re}`,"_blank")}catch(Re){console.error("Error al descargar documento:",Re),_("Error al descargar el documento. Por favor, intente nuevamente.")}},Te=he=>{const Re=localStorage.getItem("token"),U=`http://localhost:5000${he.urlDocumento}?token=${Re}`;window.open(U,"_blank")},De=he=>{const Re=m.find(U=>U.tipoDocumento===he.id);J({...he,documentoExistente:Re}),X(!0)},qe=()=>{X(!1),J(null),de(null),Le.current&&(Le.current.value="")},ct=he=>{he.target.files&&he.target.files.length>0?de(he.target.files[0]):de(null)},$e=async he=>{var Re,U;if(he.preventDefault(),!Q.metodoPagoID||!Q.monto||!Q.fechaPago){_("Por favor, complete todos los campos obligatorios.");return}try{w(!0),_("");const je=localStorage.getItem("token"),Ie=new FormData;Object.entries(Q).forEach(([Et,ts])=>{ts!=null&&ts!==""&&Ie.append(Et,ts)}),Ie.append("personaID",l.estudianteID),Ie.append("representanteID",l.representanteID),Ie.append("inscripcionID",l.id),Ie.append("annoEscolarID",l.annoEscolarID);const yt=(await j.get("http://localhost:5000/aranceles",{headers:{Authorization:`Bearer ${je}`}})).data.find(Et=>Et.nombre.toLowerCase().includes("inscripci")&&Et.activo);yt&&Ie.append("arancelID",yt.id),re&&Ie.append("comprobante",re),await j.post("http://localhost:5000/pagos",Ie,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${je}`}}),fetchInscripcion(),C("Pago registrado correctamente. Pendiente de verificación por el administrador."),C("Pago registrado correctamente. Pendiente de verificación por el administrador."),Ce(!1),xe({metodoPagoID:"",referencia:"",monto:"",fechaPago:new Date().toISOString().split("T")[0],observaciones:""}),Se(null),Le.current&&(Le.current.value=""),setTimeout(()=>{C("")},3e3),w(!1)}catch(je){console.error("Error al registrar pago:",je),_(((U=(Re=je.response)==null?void 0:Re.data)==null?void 0:U.message)||"Error al registrar el pago. Por favor, intente nuevamente."),w(!1)}},O=async()=>{var he,Re;if(!q){_("Por favor, seleccione un archivo para subir");return}try{k(!0),_("");const U=localStorage.getItem("token"),je=new FormData;je.append("documento",q),je.append("personaID",l.estudiante.id),je.append("tipoDocumento",B.id),je.append("descripcion",`Documento ${B.nombre}`);let Ie;B.documentoExistente?(Ie=await j.put(`http://localhost:5000/documentos/${B.documentoExistente.id}`,je,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${U}`}}),C("Documento actualizado correctamente")):(Ie=await j.post("http://localhost:5000/documentos/upload",je,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${U}`}}),C("Documento subido correctamente"));const Qe=await j.get(`http://localhost:5000/documentos/persona/${l.estudiante.id}`,{headers:{Authorization:`Bearer ${U}`}});x(Qe.data);const yt=await j.get(`http://localhost:5000/documentos/verificar/${l.estudiante.id}/estudiante`,{headers:{Authorization:`Bearer ${U}`}});b(yt.data.documentosRequeridos),qe(),setTimeout(()=>{C("")},3e3)}catch(U){console.error("Error al subir documento:",U),_(((Re=(he=U.response)==null?void 0:he.data)==null?void 0:Re.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{k(!1)}},we=async he=>{if(confirm("¿Está seguro de eliminar este documento?"))try{w(!0);const Re=localStorage.getItem("token"),Ie=(await j.get(`http://localhost:5000/documentos/${he}`,{headers:{Authorization:`Bearer ${Re}`}})).data.personaID===l.estudiante.id;if(await j.delete(`http://localhost:5000/documentos/${he}`,{headers:{Authorization:`Bearer ${Re}`}}),Ie){const Qe=await j.get(`http://localhost:5000/documentos/persona/${l.estudiante.id}`,{headers:{Authorization:`Bearer ${Re}`}});x(Qe.data);const yt=await j.get(`http://localhost:5000/documentos/verificar/${l.estudiante.id}/estudiante`,{headers:{Authorization:`Bearer ${Re}`}});b(yt.data.documentosRequeridos)}else{const Qe=await j.get(`http://localhost:5000/documentos/persona/${l.representante.id}`,{headers:{Authorization:`Bearer ${Re}`}});S(Qe.data);const yt=await j.get(`http://localhost:5000/documentos/verificar/${l.representante.id}/representante`,{headers:{Authorization:`Bearer ${Re}`}});g(yt.data.documentosRequeridos)}C("Documento eliminado correctamente"),setTimeout(()=>{C("")},3e3),w(!1)}catch(Re){console.error("Error al eliminar documento:",Re),_("Error al eliminar el documento. Por favor, intente nuevamente."),w(!1)}},ce=he=>{const Re=he.tipo_archivo||"";return Re.includes("image")?e.jsx("img",{src:`http://localhost:5000${he.urlDocumento}`,alt:he.nombre_archivo,className:"h-16 w-16 object-cover rounded"}):Re.includes("pdf")?e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-red-100 rounded",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"PDF"})}):Re.includes("word")||Re.includes("document")?e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-blue-100 rounded",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"DOC"})}):e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-gray-100 rounded",children:e.jsx("span",{className:"text-gray-600 text-xs font-bold",children:"FILE"})})};return R&&!l?e.jsx(At,{children:e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})})}):e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>o("/admin/inscripciones"),className:"flex items-center text-indigo-600 hover:text-indigo-900",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista de inscripciones"]})}),D&&e.jsx("div",{className:"mb-4 bg-green-50 border-l-4 border-green-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:D})})]})}),E&&e.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:E})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Detalles de Inscripción"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Información completa de la inscripción."})]}),e.jsx("div",{className:"flex space-x-2",children:L?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ve,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(bd,{className:"mr-2"})," Guardar"]}),e.jsxs("button",{onClick:()=>T(!1),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ya,{className:"mr-2"})," Cancelar"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>T(!0),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ds,{className:"mr-2"})," Editar"]}),(l==null?void 0:l.estado)==="pendiente"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Ee,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(bd,{className:"mr-2"})," Aprobar"]}),e.jsxs("button",{onClick:Ve,className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(ya,{className:"mr-2"})," Rechazar"]})]})]})})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Estado"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:L?e.jsxs("select",{name:"estado",value:W.estado,onChange:se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"pendiente",children:"Pendiente"}),e.jsx("option",{value:"aprobado",children:"Aprobado"}),e.jsx("option",{value:"rechazado",children:"Rechazado"}),e.jsx("option",{value:"inscrito",children:"Inscrito"}),e.jsx("option",{value:"retirado",children:"Retirado"}),e.jsx("option",{value:"graduado",children:"Graduado"})]}):e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${gt(l==null?void 0:l.estado)}`,children:(l==null?void 0:l.estado.charAt(0).toUpperCase())+(l==null?void 0:l.estado.slice(1))})})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de Inscripción"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:ys(l==null?void 0:l.fechaInscripcion)})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Año Escolar"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:((He=l==null?void 0:l.annoEscolar)==null?void 0:He.periodo)||"No asignado"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Grado"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:L?e.jsxs("select",{name:"gradoID",value:W.gradoID,onChange:se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),me.map(he=>e.jsx("option",{value:he.id,children:he.nombre_grado.replace(/_/g," ")},he.id))]}):Oe(l==null?void 0:l.gradoID)})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Sección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:L?e.jsxs("select",{name:"seccionID",value:W.seccionID,onChange:se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",disabled:!W.gradoID,children:[e.jsx("option",{value:"",children:"Seleccione una sección"}),$.map(he=>e.jsx("option",{value:he.id,children:he.nombre_seccion},he.id))]}):I(l==null?void 0:l.seccionID)})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:L?e.jsx("textarea",{name:"observaciones",value:W.observaciones,onChange:se,rows:"3",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.observaciones)||"Sin observaciones"})]})]})})]}),(l==null?void 0:l.estudiante)&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Información del Estudiante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Datos personales del estudiante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre completo"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[l.estudiante.nombre," ",l.estudiante.apellido]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.estudiante.cedula})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:ys(l.estudiante.fechaNacimiento)})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Género"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.estudiante.genero==="M"?"Masculino":"Femenino"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.estudiante.direccion})]})]})})]}),(l==null?void 0:l.representante)&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Información del Representante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Datos personales del representante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre completo"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:[l.representante.nombre," ",l.representante.apellido]})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.representante.cedula})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.representante.telefono})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.representante.email})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:l.representante.direccion})]})]})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos del Estudiante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Documentos requeridos y subidos."})]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:f.map(he=>{const Re=m.find(U=>U.tipoDocumento===he.id);return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${Re?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[he.nombre," ",he.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Re?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Re?"Subido":"Pendiente"})]})}),Re?e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:ce(Re)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Re.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(Re.tamano/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex space-x-2",children:[e.jsx("button",{onClick:()=>Te(Re),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Ver documento",children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>oe(Re.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Descargar documento",children:e.jsx(ii,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>De(he),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Resubir documento",children:e.jsx(Ps,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>we(Re.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Eliminar documento",children:e.jsx(Pt,{className:"h-4 w-4"})})]})]})}):e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>De(he),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," Subir documento"]})})]},he.id)})})})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos del Representante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Documentos requeridos y subidos por el representante."})]})}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:R?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:p&&p.map(he=>{const Re=v?v.find(U=>U.tipoDocumento===he.id):null;return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${Re?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[he.nombre," ",he.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Re?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Re?"Subido":"Pendiente"})]})}),Re?e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:ce(Re)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Re.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(Re.tamano/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex space-x-2",children:[e.jsx("button",{onClick:()=>Te(Re),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Ver documento",children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>oe(Re.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Descargar documento",children:e.jsx(ii,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>et(he),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Resubir documento",children:e.jsx(Ps,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>we(Re.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Eliminar documento",children:e.jsx(Pt,{className:"h-4 w-4"})})]})]})}):e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>et(he),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," Subir documento"]})})]},he.id)})})})})]}),ee&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:B!=null&&B.documentoExistente?"Actualizar documento":"Subir documento"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[B==null?void 0:B.nombre," ",(B==null?void 0:B.obligatorio)&&e.jsx("span",{className:"text-red-500",children:"*"})]}),(B==null?void 0:B.documentoExistente)&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:ce(B.documentoExistente)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:B.documentoExistente.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(B.documentoExistente.tamano/1024).toFixed(2)," KB"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccione un archivo"}),e.jsx("input",{type:"file",ref:Le,onChange:ct,className:`mt-1 block w-full text-sm text-gray-500\r
                              file:mr-4 file:py-2 file:px-4\r
                              file:rounded-full file:border-0\r
                              file:text-sm file:font-semibold\r
                              file:bg-indigo-50 file:text-indigo-700\r
                              hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:O,disabled:N||!q,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:N?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):"Subir"}),e.jsx("button",{type:"button",onClick:qe,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),te&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:z!=null&&z.documentoExistente?"Actualizar documento del representante":"Subir documento del representante"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[z==null?void 0:z.nombre," ",(z==null?void 0:z.obligatorio)&&e.jsx("span",{className:"text-red-500",children:"*"})]}),(z==null?void 0:z.documentoExistente)&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:ce(z.documentoExistente)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:z.documentoExistente.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(z.documentoExistente.tamano/1024).toFixed(2)," KB"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccione un archivo"}),e.jsx("input",{type:"file",ref:Le,onChange:ct,className:`mt-1 block w-full text-sm text-gray-500\r
                              file:mr-4 file:py-2 file:px-4\r
                              file:rounded-full file:border-0\r
                              file:text-sm file:font-semibold\r
                              file:bg-indigo-50 file:text-indigo-700\r
                              hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:at,disabled:N||!q,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:N?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):"Subir"}),e.jsx("button",{type:"button",onClick:Je,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),P&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Registrar Pago de Inscripción"}),e.jsx("div",{className:"mt-2",children:e.jsxs("form",{onSubmit:$e,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"metodoPagoID",className:"block text-sm font-medium text-gray-700",children:["Método de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"metodoPagoID",name:"metodoPagoID",value:Q.metodoPagoID,onChange:Be,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un método de pago"}),be?e.jsx("option",{disabled:!0,children:"Cargando métodos de pago..."}):ze.map(he=>e.jsx("option",{value:he.id,children:he.nombre},he.id))]})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"referencia",className:"block text-sm font-medium text-gray-700",children:"Referencia"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"referencia",id:"referencia",value:Q.referencia,onChange:Be,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Número de transferencia, referencia, etc."})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700",children:["Monto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",name:"monto",id:"monto",value:Q.monto,onChange:Be,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,step:"0.01",min:"0"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"fechaPago",className:"block text-sm font-medium text-gray-700",children:["Fecha de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",name:"fechaPago",id:"fechaPago",value:Q.fechaPago,onChange:Be,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"comprobante",className:"block text-sm font-medium text-gray-700",children:"Comprobante de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"file",name:"comprobante",id:"comprobante",ref:Le,onChange:ct,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",accept:".pdf,.jpg,.jpeg,.png"})}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Formatos aceptados: PDF, JPG, JPEG, PNG"})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:Q.observaciones,onChange:Be,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]}),E&&e.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:E})})]})})]})})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:$e,disabled:R,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",children:R?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):"Registrar Pago"}),e.jsx("button",{type:"button",onClick:()=>Ce(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Pagos Realizados"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Historial de pagos asociados a esta inscripción."})]}),e.jsx("div",{className:"border-t border-gray-200",children:!(l!=null&&l.pagos)||l.pagos.length===0?e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No se han realizado pagos para esta inscripción."})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método de Pago"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referencia"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.pagos.map(he=>{var Re,U;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ys(he.fechaPago)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((Re=he.arancel)==null?void 0:Re.nombre)||"Pago de inscripción"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((U=he.metodoPago)==null?void 0:U.nombre)||"No especificado"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:he.referencia||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(Number(he.monto)||0).toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${he.estado==="completado"?"bg-green-100 text-green-800":he.estado==="rechazado"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:he.estado.charAt(0).toUpperCase()+he.estado.slice(1)})})]},he.id)})})]})})})]}),"Botones de acción",e.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[e.jsxs(Pe,{to:`/admin/estudiantes/${(Ye=l==null?void 0:l.estudiante)==null?void 0:Ye.id}`,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(br,{className:"mr-2"})," Ver Perfil del Estudiante"]}),!(l!=null&&l.pagoInscripcionCompletado)&&e.jsxs(Pe,{to:`/admin/inscripciones/${n}/pago`,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(fr,{className:"mr-2"})," Registrar Pago"]}),e.jsxs(Pe,{to:`/admin/inscripciones/${n}/comprobante`,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ii,{className:"mr-2"})," Generar Comprobante"]})]})]})})},Fx=()=>{const[n,o]=u.useState([]),[l,c]=u.useState([]),[m,x]=u.useState(!0),[f,b]=u.useState(""),[p,g]=u.useState(""),[v,S]=u.useState(1),[R]=u.useState(10),[w,E]=u.useState(""),[_,D]=u.useState(""),[C,L]=u.useState([]),[T,W]=u.useState([]),[V,me]=u.useState(null),[ae,Y]=u.useState(!1),F=Rt();u.useEffect(()=>{(async()=>{try{x(!0);const q=localStorage.getItem("token");if(!q){F("/login");return}const de={headers:{Authorization:`Bearer ${q}`}},N=await j.get("http://localhost:5000/anno-escolar/actual",de);me(N.data);const k=await j.get("http://localhost:5000/personas",{...de,params:{tipo:"estudiante"}}),z=await j.get("http://localhost:5000/grados",de);L(z.data);const pe=await j.get("http://localhost:5000/secciones",de);W(pe.data);const P=k.data.map(M=>({...M,grado:{nombre_grado:"Cargando..."},seccion:{nombre_seccion:"Cargando..."},representante:{nombre:"Cargando...",apellido:"",id:null},nombreCompleto:`${M.nombre} ${M.apellido}`}));o(P),c(P);const Ce={};for(const M of z.data)try{const be=await j.get(`http://localhost:5000/grados/${M.id}/estudiantes`,{...de,params:{annoEscolarID:N.data.id}});for(const Ae of be.data)Ce[Ae.id]||(Ce[Ae.id]={}),Ce[Ae.id].grado=M}catch(be){console.error(`Error al obtener estudiantes para el grado ${M.id}:`,be)}for(const M of pe.data)try{const be=await j.get(`http://localhost:5000/secciones/${M.id}/estudiantes`,{...de,params:{annoEscolarID:N.data.id}});for(const Ae of be.data)Ce[Ae.id]||(Ce[Ae.id]={}),Ce[Ae.id].seccion=M}catch(be){console.error(`Error al obtener estudiantes para la sección ${M.id}:`,be)}for(const M of P)try{const be=await j.get(`http://localhost:5000/personas/estudiante/${M.id}/representante`,{...de,params:{annoEscolarID:N.data.id}});be.data&&(Ce[M.id]||(Ce[M.id]={}),Ce[M.id].representante=be.data)}catch(be){console.error(`Error al obtener representante para el estudiante ${M.id}:`,be)}const ze=P.map(M=>{const be=Ce[M.id]||{};return{...M,grado:be.grado||{nombre_grado:"No asignado"},seccion:be.seccion||{nombre_seccion:"No asignada"},representante:be.representante||{nombre:"No asignado",apellido:"",id:null}}});o(ze),c(ze),x(!1)}catch(q){console.error("Error al cargar datos:",q),b("Error al cargar la lista de estudiantes. Por favor, intente nuevamente."),x(!1),q.response&&q.response.status===401&&(localStorage.removeItem("token"),F("/login"))}})()},[F]),u.useEffect(()=>{let J=n;if(p){const q=p.toLowerCase();J=J.filter(de=>{var N,k,z,pe;return((N=de.nombre)==null?void 0:N.toLowerCase().includes(q))||((k=de.apellido)==null?void 0:k.toLowerCase().includes(q))||((z=de.cedula)==null?void 0:z.toLowerCase().includes(q))||((pe=de.nombreCompleto)==null?void 0:pe.toLowerCase().includes(q))})}w&&(J=J.filter(q=>{var de;return((de=q.grado)==null?void 0:de.id)===parseInt(w)})),_&&(J=J.filter(q=>{var de;return((de=q.seccion)==null?void 0:de.id)===parseInt(_)})),c(J)},[p,w,_,n]);const $=J=>{J.preventDefault()},K=async J=>{var q,de;if(window.confirm("¿Está seguro de que desea eliminar este estudiante? Esta acción no se puede deshacer."))try{const N=localStorage.getItem("token");await j.delete(`http://localhost:5000/personas/${J}`,{headers:{Authorization:`Bearer ${N}`}}),o(k=>k.filter(z=>z.id!==J)),c(k=>k.filter(z=>z.id!==J)),alert("Estudiante eliminado correctamente")}catch(N){console.error("Error al eliminar estudiante:",N),alert(((de=(q=N.response)==null?void 0:q.data)==null?void 0:de.message)||"Error al eliminar el estudiante. Por favor, intente nuevamente.")}},ee=()=>{const q=[["Cédula","Nombre","Apellido","Fecha Nacimiento","Género","Grado","Sección"].join(","),...l.map(z=>{var pe,P;return[z.cedula||"",z.nombre||"",z.apellido||"",z.fechaNacimiento?new Date(z.fechaNacimiento).toLocaleDateString():"",z.genero||"",((pe=z.grado)==null?void 0:pe.nombre_grado)||"No asignado",((P=z.seccion)==null?void 0:P.nombre_seccion)||"No asignada"].join(",")})].join(`
`),de=new Blob([q],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(de),k=document.createElement("a");k.setAttribute("href",N),k.setAttribute("download","estudiantes.csv"),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)},X=v*R,te=X-R,fe=l.slice(te,X),B=Math.ceil(l.length/R);return m?e.jsx(At,{children:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Estudiantes"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Pe,{to:"/inscripcion/nuevo-estudiante",className:"bg-indigo-600 text-white px-4 py-2 rounded-md flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Nuevo Estudiante"]}),e.jsxs("button",{onClick:ee,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Mh,{className:"mr-2"})," Exportar CSV"]})]})]}),f&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:f})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("form",{onSubmit:$,className:"flex",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nombre o cédula",className:"w-full md:w-80 pl-10 pr-4 py-2 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600",value:p,onChange:J=>g(J.target.value)}),e.jsx("div",{className:"absolute left-3 top-2.5 text-gray-400",children:e.jsx(pr,{})})]}),e.jsx("button",{type:"submit",className:"ml-2 bg-indigo-600 text-white px-4 py-2 rounded-lg",children:"Buscar"})]}),e.jsxs("button",{onClick:()=>Y(!ae),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Td,{className:"mr-2"})," Filtros"]})]}),ae&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"grado",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Grado:"}),e.jsxs("select",{id:"grado",className:"rounded-lg border px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-indigo-600",value:w,onChange:J=>E(J.target.value),children:[e.jsx("option",{value:"",children:"Todos los grados"}),C.map(J=>e.jsx("option",{value:J.id,children:J.nombre_grado},J.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"seccion",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Sección:"}),e.jsxs("select",{id:"seccion",className:"rounded-lg border px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-indigo-600",value:_,onChange:J=>D(J.target.value),children:[e.jsx("option",{value:"",children:"Todas las secciones"}),T.filter(J=>!w||J.gradoID===parseInt(w)).map(J=>e.jsx("option",{value:J.id,children:J.nombre_seccion},J.id))]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sección"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Representante"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:fe.length>0?fe.map(J=>{var q,de,N,k;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[J.nombre," ",J.apellido]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:J.cedula})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:_s((q=J.grado)==null?void 0:q.nombre_grado)||"No asignado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:((de=J.seccion)==null?void 0:de.nombre_seccion)||"No asignada"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:(N=J.representante)!=null&&N.nombre&&((k=J.representante)!=null&&k.apellido)?`${J.representante.nombre} ${J.representante.apellido}`:"No asignado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/estudiantes/${J.id}`,className:"text-indigo-600 hover:text-indigo-900",title:"Ver detalles",children:e.jsx(Qt,{})}),e.jsx("button",{onClick:()=>K(J.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(Pt,{})})]})})]},J.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron estudiantes con los criterios de búsqueda."})})})]})}),l.length>0&&e.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>S(Math.max(1,v-1)),disabled:v===1,className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${v===1?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Anterior"}),e.jsx("button",{onClick:()=>S(Math.min(B,v+1)),disabled:v===B,className:`ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md ${v===B?"bg-gray-100 text-gray-400":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Siguiente"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:te+1})," a"," ",e.jsx("span",{className:"font-medium",children:Math.min(X,l.length)})," ","de ",e.jsx("span",{className:"font-medium",children:l.length})," resultados"]})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>S(Math.max(1,v-1)),disabled:v===1,className:`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${v===1?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Anterior"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.min(5,B)},(J,q)=>{let de;if(B<=5)de=q+1;else{const N=Math.max(1,v-2),k=Math.min(B,N+4);if(de=N+q,de>k)return null}return e.jsx("button",{onClick:()=>S(de),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${v===de?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:de},de)}),e.jsxs("button",{onClick:()=>S(Math.min(B,v+1)),disabled:v===B,className:`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${v===B?"text-gray-300":"text-gray-500 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"sr-only",children:"Siguiente"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})]})]})]})})},yv=()=>{const{id:n}=Ws(),o=Rt(),[l,c]=u.useState(null),[m,x]=u.useState(null),[f,b]=u.useState(null),[p,g]=u.useState(null),[v,S]=u.useState([]),[R,w]=u.useState([]),[E,_]=u.useState([]),[D,C]=u.useState([]),[L,T]=u.useState([]),[W,V]=u.useState([]),[me,ae]=u.useState(!0),[Y,F]=u.useState(""),[$,K]=u.useState(""),[ee,X]=u.useState(!1),[te,fe]=u.useState({}),[B,J]=u.useState(null),[q,de]=u.useState("info"),[N,k]=u.useState(!1),[z,pe]=u.useState(null),[P,Ce]=u.useState(null),[ze,M]=u.useState(!1),be=u.useRef(null);u.useEffect(()=>{(async()=>{var I;try{ae(!0);const se=localStorage.getItem("token");if(!se){o("/login");return}const ve={headers:{Authorization:`Bearer ${se}`}},Ee=await j.get(`http://localhost:5000/personas/${n}`,ve);c(Ee.data);const Ve=await j.get("http://localhost:5000/anno-escolar/actual",ve);J(Ve.data);let oe=null;try{const De=await j.get(`http://localhost:5000/grados/estudiante/${n}`,{...ve,params:{annoEscolarID:Ve.data.id}});if(De.data&&De.data.length>0){oe=De.data[0],b(oe);try{const qe=await j.get(`http://localhost:5000/grados/${oe.id}/materias`,{...ve,params:{annoEscolarID:Ve.data.id}});S(qe.data)}catch(qe){console.error("Error al obtener materias:",qe),S([])}try{const qe=await j.get(`http://localhost:5000/secciones/estudiante/${n}`,{...ve,params:{annoEscolarID:Ve.data.id}});qe.data&&qe.data.length>0&&g(qe.data[0])}catch(qe){console.error("Error al obtener sección:",qe)}}}catch(De){console.error("Error al obtener grado:",De)}try{const De=await j.get(`http://localhost:5000/personas/estudiante/${n}/representante`,ve);De.data&&x(De.data)}catch(De){console.error("Error al obtener representante:",De)}try{const De=await j.get(`http://localhost:5000/evaluaciones/estudiante/${n}`,{...ve,params:{annoEscolarID:(I=Ve.data)==null?void 0:I.id}});_(De.data)}catch(De){console.error("Error al obtener evaluaciones:",De),_([])}try{const De=await j.get(`http://localhost:5000/calificaciones/resumen/estudiante/${n}`,{...ve,params:{annoEscolarID:B==null?void 0:B.id}});if(De.data&&De.data.materias)w(De.data.materias);else{const qe=await j.get(`http://localhost:5000/calificaciones/estudiante/${n}`,{...ve,params:{annoEscolarID:B==null?void 0:B.id}});w(qe.data)}}catch(De){console.error("Error al obtener calificaciones:",De),w([]);try{const qe=await j.get(`http://localhost:5000/calificaciones/estudiante/${n}`,{...ve,params:{annoEscolarID:B==null?void 0:B.id}});w(qe.data)}catch(qe){console.error("Error al obtener calificaciones (fallback):",qe),w([])}}try{const De=await j.get(`http://localhost:5000/documentos/persona/${n}`,ve);C(De.data);const qe=await j.get(`http://localhost:5000/documentos/verificar/${n}/estudiante`,ve);T(qe.data.documentosRequeridos)}catch(De){console.error("Error al obtener documentos:",De),C([]),T([])}const Te=De=>{if(!De)return!1;const qe=new Date(De);return!isNaN(qe.getTime())};fe({nombre:Ee.data.nombre||"",apellido:Ee.data.apellido||"",cedula:Ee.data.cedula||"",fechaNacimiento:Te(Ee.data.fechaNacimiento)?new Date(Ee.data.fechaNacimiento).toISOString().split("T")[0]:"",genero:Ee.data.genero||"",telefono:Ee.data.telefono||"",email:Ee.data.email||"",direccion:Ee.data.direccion||"",observaciones:Ee.data.observaciones||""}),ae(!1)}catch(se){console.error("Error al cargar datos del estudiante:",se),F("Error al cargar los datos del estudiante. Por favor, intente nuevamente."),ae(!1)}})()},[n,o]);const Ae=Oe=>{const{name:I,value:se}=Oe.target;fe({...te,[I]:se})},re=async()=>{try{ae(!0);const Oe=localStorage.getItem("token");await j.put(`http://localhost:5000/personas/${n}`,te,{headers:{Authorization:`Bearer ${Oe}`}});const I=await j.get(`http://localhost:5000/personas/${n}`,{headers:{Authorization:`Bearer ${Oe}`}});c(I.data),X(!1),K("Datos del estudiante actualizados correctamente"),setTimeout(()=>{K("")},3e3),ae(!1)}catch(Oe){console.error("Error al guardar cambios:",Oe),F("Error al guardar los cambios. Por favor, intente nuevamente."),ae(!1)}},Se=Oe=>{Oe.target.files&&Oe.target.files.length>0?Ce(Oe.target.files[0]):Ce(null)},Q=Oe=>{const I=D.find(se=>se.tipoDocumento===Oe.id);pe({...Oe,documentoExistente:I}),k(!0)},xe=()=>{k(!1),pe(null),Ce(null),be.current&&(be.current.value="")},Be=async()=>{var Oe,I;if(!P){F("Por favor, seleccione un archivo para subir");return}try{M(!0),F("");const se=localStorage.getItem("token"),ve=new FormData;ve.append("documento",P),ve.append("personaID",n),ve.append("tipoDocumento",z.id),ve.append("descripcion",`Documento ${z.nombre} del estudiante`);let Ee;z.documentoExistente?(Ee=await j.put(`http://localhost:5000/documentos/${z.documentoExistente.id}`,ve,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${se}`}}),K("Documento actualizado correctamente")):(Ee=await j.post("http://localhost:5000/documentos/upload",ve,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${se}`}}),K("Documento subido correctamente"));const Ve=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${se}`}});C(Ve.data);const oe=await j.get(`http://localhost:5000/documentos/verificar/${n}/estudiante`,{headers:{Authorization:`Bearer ${se}`}});T(oe.data.documentosRequeridos),xe(),setTimeout(()=>{K("")},3e3)}catch(se){console.error("Error al subir documento:",se),F(((I=(Oe=se.response)==null?void 0:Oe.data)==null?void 0:I.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{M(!1)}},Le=async Oe=>{if(confirm("¿Está seguro de eliminar este documento?"))try{ae(!0);const I=localStorage.getItem("token");await j.delete(`http://localhost:5000/documentos/${Oe}`,{headers:{Authorization:`Bearer ${I}`}});const se=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${I}`}});C(se.data);const ve=await j.get(`http://localhost:5000/documentos/verificar/${n}/estudiante`,{headers:{Authorization:`Bearer ${I}`}});T(ve.data.documentosRequeridos),K("Documento eliminado correctamente"),setTimeout(()=>{K("")},3e3),ae(!1)}catch(I){console.error("Error al eliminar documento:",I),F("Error al eliminar el documento. Por favor, intente nuevamente."),ae(!1)}},et=Oe=>{window.open(`http://localhost:5000${Oe.urlDocumento}`,"_blank")},Je=async Oe=>{try{const I=localStorage.getItem("token");window.open(`http://localhost:5000/documentos/download/${Oe}`,"_blank")}catch(I){console.error("Error al descargar documento:",I),F("Error al descargar el documento. Por favor, intente nuevamente.")}},at=Oe=>{const I=Oe.tipo_archivo||"";return I.includes("image")?e.jsx("img",{src:`http://localhost:5000/documentos/${Oe.id}/download`,alt:Oe.nombre_archivo,className:"h-16 w-16 object-cover rounded"}):I.includes("pdf")?e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-red-100 rounded",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"PDF"})}):I.includes("word")||I.includes("document")?e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-blue-100 rounded",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"DOC"})}):e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-gray-100 rounded",children:e.jsx("span",{className:"text-gray-600 text-xs font-bold",children:"FILE"})})},gt=Oe=>{const I=R.filter(oe=>oe.materiaID===Oe);if(I.length===0)return{promedio:0,porcentajeCompletado:0,calificaciones:[]};const ve=I.reduce((oe,Te)=>oe+parseFloat(Te.valor||0),0)/I.length,Ee=E.filter(oe=>oe.materiaID===Oe),Ve=Ee.length>0?I.length/Ee.length*100:0;return{promedio:ve.toFixed(2),porcentajeCompletado:Math.round(Ve),calificaciones:I}};return me&&!l?e.jsx(At,{children:e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>o("/admin/estudiantes"),className:"flex items-center text-indigo-600 hover:text-indigo-800",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista de estudiantes"]})}),Y&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 text-red-700 rounded-md",children:Y}),$&&e.jsx("div",{className:"mb-6 p-4 bg-green-100 text-green-700 rounded-md",children:$}),l&&e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-indigo-600 text-white px-6 py-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:[l.nombre," ",l.apellido]}),e.jsx("div",{className:"flex space-x-2",children:ee?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:re,className:"bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600",disabled:me,children:me?"Guardando...":"Guardar"}),e.jsx("button",{onClick:()=>X(!1),className:"bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400",children:"Cancelar"})]}):e.jsxs("button",{onClick:()=>X(!0),className:"bg-white text-indigo-600 px-4 py-2 rounded-md hover:bg-indigo-100",children:[e.jsx(ds,{className:"inline mr-2"})," Editar"]})})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>de("info"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${q==="info"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Información Personal"}),e.jsx("button",{onClick:()=>de("academico"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${q==="academico"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Información Académica"}),e.jsx("button",{onClick:()=>de("materias"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${q==="materias"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Materias y Progreso"}),e.jsx("button",{onClick:()=>de("documentos"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${q==="documentos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Documentos"}),e.jsx("button",{onClick:()=>de("calificaciones"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${q==="calificaciones"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Calificaciones"})]})}),e.jsxs("div",{className:"p-6",children:[q==="info"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Información del Estudiante"}),ee?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),e.jsx("input",{type:"text",name:"nombre",value:te.nombre,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apellido"}),e.jsx("input",{type:"text",name:"apellido",value:te.apellido,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cédula"}),e.jsx("input",{type:"text",name:"cedula",value:te.cedula,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Nacimiento"}),e.jsx("input",{type:"date",name:"fechaNacimiento",value:te.fechaNacimiento?te.fechaNacimiento.substring(0,10):"",onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Género"}),e.jsxs("select",{name:"genero",value:te.genero,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"masculino",children:"Masculino"}),e.jsx("option",{value:"femenino",children:"Femenino"}),e.jsx("option",{value:"otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),e.jsx("input",{type:"text",name:"telefono",value:te.telefono,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:te.email,onChange:Ae,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),e.jsx("textarea",{name:"direccion",value:te.direccion,onChange:Ae,rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaciones"}),e.jsx("textarea",{name:"observaciones",value:te.observaciones,onChange:Ae,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cédula"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.cedula||"No especificada"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.fechaNacimiento?ys(l.fechaNacimiento):"No especificada"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Género"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.genero?l.genero.charAt(0).toUpperCase()+l.genero.slice(1):"No especificado"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.telefono||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.email||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.direccion||"No especificada"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.observaciones||"No hay observaciones"})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Representante"}),m?e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Nombre"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[m.nombre," ",m.apellido]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Cédula"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.cedula})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.telefono||"No especificado"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:m.email||"No especificado"})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs(Pe,{to:`/admin/representantes/${m.id}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(Qt,{className:"mr-2"})," Ver Detalles del Representante"]})})]}):e.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:e.jsx("p",{className:"text-yellow-700",children:"No hay representante asignado a este estudiante."})})]})]}),q==="academico"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Información Académica"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Año Escolar"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:B?B.periodo:"No disponible"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Grado"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f?_s(f.nombre_grado):"No asignado"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Sección"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:p?p.nombre_seccion:"No asignada"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Resumen Académico"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Materias Cursadas"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-900",children:v.length})]}),e.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Evaluaciones"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-900",children:E.length})]}),e.jsxs("div",{className:"bg-white p-4 rounded-md shadow-sm",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Promedio General"}),e.jsx("p",{className:"mt-1 text-xl font-semibold text-gray-900",children:R.length>0?(R.reduce((Oe,I)=>Oe+parseFloat(I.valor||0),0)/R.length).toFixed(2):"N/A"})]})]})]})]})]}),q==="materias"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Materias y Progreso Académico"}),v.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-6",children:v.map(Oe=>{const I=gt(Oe.id);return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:Oe.asignatura}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Oe.descripcion||"Sin descripción"})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Promedio: ",I.promedio]})})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Progreso del curso"}),e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:[I.porcentajeCompletado,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${I.porcentajeCompletado}%`}})})]}),I.calificaciones.length>0?e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Calificaciones"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Evaluación"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calificación"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.calificaciones.map(se=>{const ve=E.find(Ee=>Ee.id===se.evaluacionID);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:ve?ve.titulo:"No disponible"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:ve?ve.tipo:"No disponible"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:se.fecha?ys(se.fecha):"No disponible"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${parseFloat(se.valor)>=10?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:se.valor})})]},se.id)})})]})})]}):e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"No hay calificaciones registradas para esta materia."}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Próximas Evaluaciones"}),E.filter(se=>se.materiaID===Oe.id&&new Date(se.fecha)>new Date&&!I.calificaciones.some(ve=>ve.evaluacionID===se.id)).length>0?e.jsx("ul",{className:"space-y-2",children:E.filter(se=>se.materiaID===Oe.id&&new Date(se.fecha)>new Date&&!I.calificaciones.some(ve=>ve.evaluacionID===se.id)).map(se=>e.jsxs("li",{className:"flex justify-between items-center p-2 bg-white rounded-md shadow-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm",children:se.titulo}),e.jsx("p",{className:"text-xs text-gray-500",children:se.tipo})]}),e.jsx("span",{className:"text-xs text-gray-500",children:ys(se.fecha)})]},se.id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No hay evaluaciones pendientes."})]})]},Oe.id)})}):e.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:e.jsx("p",{className:"text-yellow-700",children:"No hay materias asignadas para este estudiante."})})]}),q==="documentos"&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos del Estudiante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Documentos requeridos y subidos por el estudiante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:L.map(Oe=>{const I=D.find(se=>se.tipoDocumento===Oe.id);return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${I?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[Oe.nombre," ",Oe.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:I?"Subido":"Pendiente"})]})}),I?e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:at(I)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:I.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(I.tamano/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex space-x-2",children:[e.jsx("button",{onClick:()=>et(I),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Ver documento",children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Je(I.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Descargar documento",children:e.jsx(ii,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Q(Oe),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Resubir documento",children:e.jsx(Ps,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Le(I.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Eliminar documento",children:e.jsx(Pt,{className:"h-4 w-4"})})]})]})}):e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>Q(Oe),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," Subir documento"]})})]},Oe.id)})})})})]}),q==="calificaciones"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Calificaciones"}),R.length>0?e.jsx("div",{className:"bg-gray-50 p-4 rounded-md overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materia"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Evaluación"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Calificación"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(Oe=>{const I=E.find(ve=>ve.id===Oe.evaluacionID),se=v.find(ve=>ve.id===((I==null?void 0:I.materiaID)||Oe.materiaID));return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:(se==null?void 0:se.asignatura)||"No disponible"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:(I==null?void 0:I.titulo)||"No disponible"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:(I==null?void 0:I.tipo)||"No especificado"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:`text-sm font-medium ${parseFloat(Oe.valor)>=10?"text-green-600":"text-red-600"}`,children:Oe.valor})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:ys(Oe.fecha||Oe.createdAt)})})]},Oe.id)})})]})}):e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsx("p",{className:"text-gray-500",children:"No hay calificaciones registradas para este estudiante."})})]})]})]}),N&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:xe}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:z!=null&&z.documentoExistente?"Actualizar documento":"Subir documento"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:z!=null&&z.documentoExistente?`Seleccione un nuevo archivo para reemplazar el documento "${z.nombre}"`:`Seleccione un archivo para el documento "${z==null?void 0:z.nombre}"`}),Y&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:Y})})]})}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e.jsx("span",{children:"Seleccionar archivo"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:Se,ref:be})]}),e.jsx("p",{className:"pl-1",children:"o arrastre y suelte"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF, DOC hasta 10MB"})]})}),P&&e.jsx("div",{className:"mt-4 p-2 bg-gray-50 rounded-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-6 w-6 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"text-sm text-gray-900",children:P.name})]})})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:Be,disabled:ze||!P,children:ze?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):z!=null&&z.documentoExistente?"Actualizar":"Subir"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:xe,disabled:ze,children:"Cancelar"})]})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[z.documentoExistente?"Actualizar":"Subir"," ",z.nombre]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seleccionar archivo"}),e.jsx("input",{type:"file",ref:be,onChange:Se,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Formatos aceptados: PDF, JPG, PNG (máx. 5MB)"})]}),z.documentoExistente&&e.jsx("div",{className:"mb-4 p-3 bg-yellow-50 rounded-md",children:e.jsx("p",{className:"text-sm text-yellow-700",children:"Ya existe un documento de este tipo. Si sube un nuevo archivo, reemplazará al anterior."})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:xe,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"}),e.jsx("button",{onClick:Be,disabled:!P||ze,className:`px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${!P||ze?"bg-indigo-300":"bg-indigo-600 hover:bg-indigo-700"}`,children:ze?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):z.documentoExistente?"Actualizar Documento":"Subir Documento"})]})]})})]})})},vv=()=>{const[n,o]=u.useState([]),[l,c]=u.useState(!0),[m,x]=u.useState(""),[f,b]=u.useState(""),[p,g]=u.useState([]),[v,S]=u.useState(!1),[R,w]=u.useState({conEstudiantes:!1,sinEstudiantes:!1,pagosAlDia:!1,pagosPendientes:!1});u.useEffect(()=>{(async()=>{try{c(!0);const T=localStorage.getItem("token"),W=await j.get("http://localhost:5000/personas",{headers:{Authorization:`Bearer ${T}`},params:{tipo:"representante"}});let V=[];Array.isArray(W.data)?V=W.data.filter(ae=>ae.tipo==="representante"):W.data&&W.data.id&&W.data.tipo==="representante"&&(V=[W.data]);const me=await Promise.all(V.map(async ae=>{try{const Y=await j.get(`http://localhost:5000/personas/representante/${ae.id}/estudiantes`,{headers:{Authorization:`Bearer ${T}`}});let F=!0;if(Y.data.length>0){for(const $ of Y.data)if(!(await j.get(`http://localhost:5000/pagos/estudiante/${$.id}/estado`,{headers:{Authorization:`Bearer ${T}`}})).data.alDia){F=!1;break}}return{...ae,estudiantes:Y.data,cantidadEstudiantes:Y.data.length,pagosAlDia:F}}catch(Y){return console.error(`Error al obtener información adicional para representante ${ae.id}:`,Y),{...ae,estudiantes:[],cantidadEstudiantes:0,pagosAlDia:!0}}}));o(me),g(me),c(!1)}catch(T){console.error("Error al cargar representantes:",T),x("Error al cargar la lista de representantes. Por favor, intente nuevamente."),c(!1)}})()},[]),u.useEffect(()=>{let L=n;if(f){const T=f.toLowerCase();L=L.filter(W=>{var V,me;return W.nombre.toLowerCase().includes(T)||W.apellido.toLowerCase().includes(T)||W.cedula.toLowerCase().includes(T)||((V=W.email)==null?void 0:V.toLowerCase().includes(T))||((me=W.telefono)==null?void 0:me.includes(f))})}R.conEstudiantes&&(L=L.filter(T=>T.cantidadEstudiantes>0)),R.sinEstudiantes&&(L=L.filter(T=>T.cantidadEstudiantes===0)),R.pagosAlDia&&(L=L.filter(T=>T.pagosAlDia)),R.pagosPendientes&&(L=L.filter(T=>!T.pagosAlDia)),g(L)},[f,R,n]);const E=L=>{b(L.target.value)},_=L=>{const{name:T,checked:W}=L.target;w(V=>({...V,[T]:W}))},D=async L=>{var T,W;if(confirm("¿Está seguro de eliminar este representante? Esta acción no se puede deshacer."))try{const V=localStorage.getItem("token");await j.delete(`http://localhost:5000/personas/${L}`,{headers:{Authorization:`Bearer ${V}`}}),o(me=>me.filter(ae=>ae.id!==L)),g(me=>me.filter(ae=>ae.id!==L)),alert("Representante eliminado correctamente")}catch(V){console.error("Error al eliminar representante:",V),alert(((W=(T=V.response)==null?void 0:T.data)==null?void 0:W.message)||"Error al eliminar el representante. Por favor, intente nuevamente.")}},C=()=>{const T=[["Cédula","Nombre","Apellido","Email","Teléfono","Dirección","Profesión","Estudiantes","Pagos al día"].join(","),...p.map(ae=>[ae.cedula,ae.nombre,ae.apellido,ae.email||"",ae.telefono||"",(ae.direccion||"").replace(/,/g," "),(ae.profesion||"").replace(/,/g," "),ae.cantidadEstudiantes,ae.pagosAlDia?"Sí":"No"].join(","))].join(`
`),W=new Blob([T],{type:"text/csv;charset=utf-8;"}),V=URL.createObjectURL(W),me=document.createElement("a");me.setAttribute("href",V),me.setAttribute("download","representantes.csv"),me.style.visibility="hidden",document.body.appendChild(me),me.click(),document.body.removeChild(me)};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Representantes"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Pe,{to:"/inscripcion/nuevo-estudiante",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Gl,{className:"mr-2"})," Nuevo Representante"]}),e.jsxs("button",{onClick:C,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Mh,{className:"mr-2"})," Exportar CSV"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:f,onChange:E,placeholder:"Buscar por nombre, cédula, email o teléfono...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("button",{onClick:()=>S(!v),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Td,{className:"mr-2"})," Filtros"]})]}),v&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Filtrar por:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"conEstudiantes",name:"conEstudiantes",type:"checkbox",checked:R.conEstudiantes,onChange:_,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"conEstudiantes",className:"ml-2 block text-sm text-gray-700",children:"Con estudiantes"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"sinEstudiantes",name:"sinEstudiantes",type:"checkbox",checked:R.sinEstudiantes,onChange:_,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"sinEstudiantes",className:"ml-2 block text-sm text-gray-700",children:"Sin estudiantes"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"pagosAlDia",name:"pagosAlDia",type:"checkbox",checked:R.pagosAlDia,onChange:_,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"pagosAlDia",className:"ml-2 block text-sm text-gray-700",children:"Pagos al día"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"pagosPendientes",name:"pagosPendientes",type:"checkbox",checked:R.pagosPendientes,onChange:_,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"pagosPendientes",className:"ml-2 block text-sm text-gray-700",children:"Pagos pendientes"})]})]})]})]}),m&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:m})})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:l?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiantes"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pagos"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(L=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:L.cedula}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[L.nombre," ",L.apellido]}),e.jsx("div",{className:"text-sm text-gray-500",children:L.profesion||"Profesión: no especificada"})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-900",children:L.email}),e.jsx("div",{className:"text-sm text-gray-500",children:L.telefono})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[L.cantidadEstudiantes," estudiante(s)"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${L.pagosAlDia?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.pagosAlDia?"Al día":"Pendientes"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/representantes/${L.id}`,className:"text-indigo-600 hover:text-indigo-900",title:"Ver detalles",children:e.jsx(Qt,{})}),e.jsx(Pe,{to:`/admin/representantes/${L.id}/editar`,className:"text-blue-600 hover:text-blue-900",title:"Editar",children:e.jsx(ds,{})}),L.cantidadEstudiantes===0&&e.jsx("button",{onClick:()=>D(L.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(Pt,{})})]})})]},L.id))})]})}):e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-gray-500",children:"No se encontraron representantes con los criterios de búsqueda."})})}),p.length>0&&e.jsx("div",{className:"mt-4 flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:p.length})," de"," ",e.jsx("span",{className:"font-medium",children:n.length})," representantes"]})})]})})},jv=()=>{const{id:n}=Ws(),o=Rt(),[l,c]=u.useState(null),[m,x]=u.useState([]),[f,b]=u.useState([]),[p,g]=u.useState([]),[v,S]=u.useState([]),[R,w]=u.useState([]),[E,_]=u.useState(!0),[D,C]=u.useState(""),[L,T]=u.useState(""),[W,V]=u.useState(!1),[me,ae]=u.useState({}),[Y,F]=u.useState(!1),[$,K]=u.useState({estudianteID:"",representanteID:"",arancelID:"",metodoPagoID:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),[ee,X]=u.useState([]),[te,fe]=u.useState([]),[B,J]=u.useState(!1),[q,de]=u.useState(""),[N,k]=u.useState(""),[z,pe]=u.useState(!1),[P,Ce]=u.useState(null),[ze,M]=u.useState(null),[be,Ae]=u.useState(!1),re=u.useRef(null);u.useEffect(()=>{(async()=>{try{_(!0);const Te=localStorage.getItem("token"),De=await j.get(`http://localhost:5000/personas/${n}`,{headers:{Authorization:`Bearer ${Te}`}});console.log("Datos del representante:",De.data),De.data&&De.data.tipo==="representante"?(c(De.data),ae({nombre:De.data.nombre||"",apellido:De.data.apellido||"",cedula:De.data.cedula||"",telefono:De.data.telefono||"",email:De.data.email||"",direccion:De.data.direccion||"",profesion:De.data.profesion||"",fechaNacimiento:De.data.fechaNacimiento||"",observaciones:De.data.observaciones||""})):C("No se encontró el representante o los datos no son válidos");const qe=await j.get("http://localhost:5000/grados",{headers:{Authorization:`Bearer ${Te}`}});b(qe.data);const ct=await j.get(`http://localhost:5000/personas/representante/${n}/estudiantes`,{headers:{Authorization:`Bearer ${Te}`}}),$e=await Promise.all(ct.data.map(async _e=>{var He;try{const Ye=await j.get(`http://localhost:5000/inscripciones/estudiante/${_e.id}/actual`,{headers:{Authorization:`Bearer ${Te}`}}),he=await Je(_e.id);return{..._e,inscripcion:Ye.data,grado:((He=Ye.data)==null?void 0:He.grado)||null,pagosAlDia:he}}catch(Ye){return console.error(`Error al obtener datos para estudiante ${_e.id}:`,Ye),{..._e,inscripcion:null,grado:null,pagosAlDia:!0}}}));x($e);const O=await j.get(`http://localhost:5000/pagos/representante/${n}`,{headers:{Authorization:`Bearer ${Te}`}});g(O.data);const we=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${Te}`}});S(we.data);const ce=await j.get(`http://localhost:5000/documentos/verificar/${n}/representante`,{headers:{Authorization:`Bearer ${Te}`}});w(ce.data.documentosRequeridos),_(!1)}catch(Te){console.error("Error al cargar datos del representante:",Te),C("Error al cargar los datos del representante. Por favor, intente nuevamente."),_(!1)}})()},[n]);const Se=oe=>{const{name:Te,value:De}=oe.target;ae({...me,[Te]:De})},Q=async()=>{try{_(!0);const oe=localStorage.getItem("token");await j.put(`http://localhost:5000/personas/${n}`,me,{headers:{Authorization:`Bearer ${oe}`}});const Te=await j.get(`http://localhost:5000/personas/tipo/representante/${n}`,{headers:{Authorization:`Bearer ${oe}`}});c(Te.data),V(!1),T("Datos del representante actualizados correctamente"),setTimeout(()=>{T("")},3e3),_(!1)}catch(oe){console.error("Error al guardar cambios:",oe),C("Error al guardar los cambios. Por favor, intente nuevamente."),_(!1)}},xe=u.useMemo(()=>{const oe=parseFloat($.monto)||0,Te=parseFloat($.montoMora)||0,De=parseFloat($.descuento)||0;return(oe+Te-De).toFixed(2)},[$.monto,$.montoMora,$.descuento]),Be=async()=>{var oe,Te;try{J(!0),de("");const De=localStorage.getItem("token"),qe=await j.get("http://localhost:5000/aranceles",{headers:{Authorization:`Bearer ${De}`}}),ct=await j.get("http://localhost:5000/metodos-pago",{headers:{Authorization:`Bearer ${De}`}});X(qe.data),fe(ct.data),K({...$,representanteID:l.id,estudianteID:m.length>0?m[0].id:"",fechaPago:new Date().toISOString().split("T")[0]}),F(!0),J(!1)}catch(De){console.error("Error al cargar datos para el pago:",De),de(((Te=(oe=De.response)==null?void 0:oe.data)==null?void 0:Te.message)||"Error al cargar los datos necesarios para el pago. Por favor, intente nuevamente."),J(!1)}},Le=()=>{F(!1),K({estudianteID:"",representanteID:"",arancelID:"",metodoPagoID:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),M(null),re.current&&(re.current.value=""),de(""),k("")},et=async oe=>{var Te,De;if(oe.preventDefault(),!$.estudianteID||!$.arancelID||!$.metodoPagoID||!$.monto){de("Por favor, complete todos los campos obligatorios.");return}try{J(!0),de("");const qe=localStorage.getItem("token"),ct=new FormData;Object.entries($).forEach(([we,ce])=>{ce!=null&&ce!==""&&ct.append(we,ce)}),ze&&ct.append("comprobante",ze);const $e=await j.post("http://localhost:5000/pagos",ct,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${qe}`}});k("Pago registrado correctamente");const O=await j.get(`http://localhost:5000/pagos/representante/${n}`,{headers:{Authorization:`Bearer ${qe}`}});g(O.data),setTimeout(()=>{Le()},2e3),J(!1)}catch(qe){console.error("Error al registrar pago:",qe),de(((De=(Te=qe.response)==null?void 0:Te.data)==null?void 0:De.message)||"Error al procesar el pago. Por favor, intente nuevamente."),J(!1)}},Je=async oe=>{try{const Te=localStorage.getItem("token");return(await j.get(`http://localhost:5000/pagos/estudiante/${oe}/estado`,{headers:{Authorization:`Bearer ${Te}`}})).data.alDia}catch(Te){return console.error(`Error al verificar pagos para estudiante ${oe}:`,Te),!0}},at=oe=>{oe.target.files&&oe.target.files.length>0?M(oe.target.files[0]):M(null)},gt=oe=>{const Te=v.find(De=>De.tipoDocumento===oe.id);Ce({...oe,documentoExistente:Te}),pe(!0)},Oe=()=>{pe(!1),Ce(null),M(null),re.current&&(re.current.value="")},I=async()=>{var oe,Te;if(!ze){C("Por favor, seleccione un archivo para subir");return}try{Ae(!0),C("");const De=localStorage.getItem("token"),qe=new FormData;qe.append("documento",ze),qe.append("personaID",n),qe.append("tipoDocumento",P.id),qe.append("descripcion",`Documento ${P.nombre} del representante`);let ct;P.documentoExistente?(ct=await j.put(`http://localhost:5000/documentos/${P.documentoExistente.id}`,qe,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${De}`}}),T("Documento actualizado correctamente")):(ct=await j.post("http://localhost:5000/documentos/upload",qe,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${De}`}}),T("Documento subido correctamente"));const $e=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${De}`}});S($e.data);const O=await j.get(`http://localhost:5000/documentos/verificar/${n}/representante`,{headers:{Authorization:`Bearer ${De}`}});w(O.data.documentosRequeridos),Oe(),setTimeout(()=>{T("")},3e3)}catch(De){console.error("Error al subir documento:",De),C(((Te=(oe=De.response)==null?void 0:oe.data)==null?void 0:Te.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{Ae(!1)}},se=async oe=>{if(confirm("¿Está seguro de eliminar este documento?"))try{_(!0);const Te=localStorage.getItem("token");await j.delete(`http://localhost:5000/documentos/${oe}`,{headers:{Authorization:`Bearer ${Te}`}});const De=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${Te}`}});S(De.data);const qe=await j.get(`http://localhost:5000/documentos/verificar/${n}/representante`,{headers:{Authorization:`Bearer ${Te}`}});w(qe.data.documentosRequeridos),T("Documento eliminado correctamente"),setTimeout(()=>{T("")},3e3),_(!1)}catch(Te){console.error("Error al eliminar documento:",Te),C("Error al eliminar el documento. Por favor, intente nuevamente."),_(!1)}},ve=oe=>{window.open(`http://localhost:5000${oe.urlDocumento}`,"_blank")},Ee=async oe=>{try{const Te=localStorage.getItem("token");window.open(`http://localhost:5000/documentos/download/${oe}`,"_blank")}catch(Te){console.error("Error al descargar documento:",Te),C("Error al descargar el documento. Por favor, intente nuevamente.")}},Ve=oe=>{const Te=oe.tipo_archivo||"";return Te.includes("image")?e.jsx("img",{src:`http://localhost:5000${oe.urlDocumento}`,alt:oe.nombre_archivo,className:"h-16 w-16 object-cover rounded"}):Te.includes("pdf")?e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-red-100 rounded",children:e.jsx("span",{className:"text-red-600 text-xs font-bold",children:"PDF"})}):Te.includes("word")||Te.includes("document")?e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-blue-100 rounded",children:e.jsx("span",{className:"text-blue-600 text-xs font-bold",children:"DOC"})}):e.jsx("div",{className:"h-16 w-16 flex items-center justify-center bg-gray-100 rounded",children:e.jsx("span",{className:"text-gray-600 text-xs font-bold",children:"ARCHIVO"})})};return E&&!l?e.jsx(At,{children:e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-indigo-500"})})}):e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>o("/admin/representantes"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista"]})}),D&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:D})})]})}),L&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:L})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Información del Representante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Datos personales y de contacto."})]}),e.jsx("div",{children:W?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Q,disabled:E,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:E?"Guardando...":"Guardar"}),e.jsx("button",{onClick:()=>V(!1),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"})]}):e.jsxs("button",{onClick:()=>V(!0),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ds,{className:"mr-1"})," Editar"]})})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("dl",{children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre completo"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",name:"nombre",value:me.nombre||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}),e.jsx("input",{type:"text",name:"apellido",value:me.apellido||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})]}):l?`${l.nombre||""} ${l.apellido||""}`:"Cargando..."})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("input",{type:"text",name:"cedula",value:me.cedula||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.cedula)||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("input",{type:"date",name:"fechaNacimiento",value:me.fechaNacimiento||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):l!=null&&l.fechaNacimiento?new Date(l.fechaNacimiento).toLocaleDateString():"No disponible"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("input",{type:"tel",name:"telefono",value:me.telefono||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.telefono)||"No disponible"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("input",{type:"email",name:"email",value:me.email||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.email)||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("input",{type:"text",name:"direccion",value:me.direccion||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.direccion)||"No disponible"})]}),e.jsxs("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Profesión"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("input",{type:"text",name:"profesion",value:me.profesion||"",onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.profesion)||"No especificada"})]}),e.jsxs("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:W?e.jsx("textarea",{name:"observaciones",value:me.observaciones||"",onChange:Se,rows:"3",className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"}):(l==null?void 0:l.observaciones)||"Sin observaciones"})]})]})})]}),e.jsxs("div",{className:"overflow-x-auto mb-5",children:[e.jsxs("div",{className:"flex justify-between items-center pl-6 mb-3",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Estudiantes inscritos"}),e.jsxs(Pe,{to:`/inscripcion/nuevo-estudiante?repId=${l==null?void 0:l.id}&repCedula=${l==null?void 0:l.cedula}&repNombre=${l==null?void 0:l.nombre}&repApellido=${l==null?void 0:l.apellido}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Añadir Estudiante"]})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 sm:rounded-lg",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado de Pagos"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(oe=>{var Te,De,qe;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:oe.cedula}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[oe.nombre," ",oe.apellido]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.grado&&oe.grado.nombre_grado?_s(oe.grado.nombre_grado):"No asignado"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${(Te=oe.estadoPagos)!=null&&Te.alDia?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:(De=oe.estadoPagos)!=null&&De.alDia?"Al día":`${((qe=oe.estadoPagos)==null?void 0:qe.pagosPendientes)||0} pendientes`})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/estudiantes/${oe.id}`,className:"text-indigo-600 hover:text-indigo-900",title:"Ver detalles",children:e.jsx(Qt,{})}),e.jsx(Pe,{to:`/admin/estudiantes/${oe.id}/notas`,className:"text-green-600 hover:text-green-900",title:"Ver notas",children:e.jsx(br,{})}),e.jsx(Pe,{to:`/admin/pagos/estudiante/${oe.id}`,className:"text-blue-600 hover:text-blue-900",title:"Ver pagos",children:e.jsx(fr,{})}),e.jsx("button",{onClick:Be,className:"text-yellow-600 hover:text-yellow-900",title:"Registrar pago",children:e.jsx(rs,{})})]})})]},oe.id)})})]})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos del Representante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Documentos requeridos y subidos por el representante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:R.map(oe=>{const Te=v.find(De=>De.tipoDocumento===oe.id);return e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${Te?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[oe.nombre," ",oe.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Te?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Te?"Subido":"Pendiente"})]})}),Te?e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:Ve(Te)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Te.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(Te.tamano/1024).toFixed(2)," KB"]})]}),e.jsxs("div",{className:"flex-shrink-0 flex space-x-2",children:[e.jsx("button",{onClick:()=>ve(Te),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Ver documento",children:e.jsx(Qt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Ee(Te.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Descargar documento",children:e.jsx(ii,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>gt(oe),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",title:"Resubir documento",children:e.jsx(Ps,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>se(Te.id),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Eliminar documento",children:e.jsx(Pt,{className:"h-4 w-4"})})]})]})}):e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>gt(oe),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," Subir documento"]})})]},oe.id)})})})})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Historial de Pagos"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Pagos realizados por el representante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:p.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método de Pago"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Referencia"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(oe=>{var Te,De,qe,ct,$e,O;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ys(oe.fecha)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[(Te=oe.estudiante)==null?void 0:Te.nombre," ",(De=oe.estudiante)==null?void 0:De.apellido]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((qe=oe.arancel)==null?void 0:qe.nombre)||"Pago"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((ct=oe.metodoPago)==null?void 0:ct.nombre)||"No especificado"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe.referencia||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",(Number(oe.monto)||0).toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${oe.estado==="procesado"?"bg-green-100 text-green-800":oe.estado==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:(($e=oe.estado)==null?void 0:$e.charAt(0).toUpperCase())+((O=oe.estado)==null?void 0:O.slice(1))})})]},oe.id)})})]})}):e.jsx("div",{className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay pagos registrados para este representante."})})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap space-x-2",children:[e.jsxs("button",{onClick:Be,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:[e.jsx(fr,{className:"mr-2"})," Registrar Pago"]}),e.jsxs("button",{className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(Cy,{className:"mr-2"})," Generar Comprobante"]})]}),z&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:P!=null&&P.documentoExistente?"Actualizar documento":"Subir documento"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[P==null?void 0:P.nombre," ",(P==null?void 0:P.obligatorio)&&e.jsx("span",{className:"text-red-500",children:"*"})]}),(P==null?void 0:P.documentoExistente)&&e.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:Ve(P.documentoExistente)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:P.documentoExistente.nombre_archivo}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(P.documentoExistente.tamano/1024).toFixed(2)," KB"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccione un archivo"}),e.jsx("input",{type:"file",ref:re,onChange:at,className:`mt-1 block w-full text-sm text-gray-500\r
                              file:mr-4 file:py-2 file:px-4\r
                              file:rounded-full file:border-0\r
                              file:text-sm file:font-semibold\r
                              file:bg-indigo-50 file:text-indigo-700\r
                              hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:I,disabled:be||!ze,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:be?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):"Subir"}),e.jsx("button",{type:"button",onClick:Oe,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),Y&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Registrar Nuevo Pago"}),q&&e.jsx("div",{className:"mt-2 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:q})})]})}),N&&e.jsx("div",{className:"mt-2 bg-green-50 border-l-4 border-green-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:N})})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("form",{onSubmit:et,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"representante",className:"block text-sm font-medium text-gray-700",children:"Representante"}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{type:"text",id:"representante",value:`${l.nombre} ${l.apellido} - ${l.cedula}`,className:"bg-gray-100 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md",disabled:!0}),e.jsx("input",{type:"hidden",name:"representanteID",value:l.id})]})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"estudiante",className:"block text-sm font-medium text-gray-700",children:["Estudiante ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"estudiante",name:"estudianteID",value:$.estudianteID,onChange:oe=>K({...$,estudianteID:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un estudiante"}),m.map(oe=>e.jsxs("option",{value:oe.id,children:[oe.nombre," ",oe.apellido," - ",oe.cedula]},oe.id))]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"arancelID",className:"block text-sm font-medium text-gray-700",children:["Concepto de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"arancelID",name:"arancelID",value:$.arancelID,onChange:oe=>{const Te=oe.target.value,De=ee.find(qe=>qe.id.toString()===Te);K({...$,arancelID:Te,monto:De?De.monto.toString():""})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un concepto"}),ee.map(oe=>e.jsxs("option",{value:oe.id,children:[oe.nombre," - ",typeof oe.monto=="number"?oe.monto.toFixed(2):parseFloat(oe.monto||0).toFixed(2)," Bs"]},oe.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"metodoPagoID",className:"block text-sm font-medium text-gray-700",children:["Método de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"metodoPagoID",name:"metodoPagoID",value:$.metodoPagoID,onChange:oe=>K({...$,metodoPagoID:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un método"}),te.map(oe=>e.jsx("option",{value:oe.id,children:oe.nombre},oe.id))]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsxs("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700",children:["Monto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"monto",name:"monto",value:$.monto,onChange:oe=>K({...$,monto:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"montoMora",className:"block text-sm font-medium text-gray-700",children:"Mora"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"montoMora",name:"montoMora",value:$.montoMora,onChange:oe=>K({...$,montoMora:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"descuento",className:"block text-sm font-medium text-gray-700",children:"Descuento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"descuento",name:"descuento",value:$.descuento,onChange:oe=>K({...$,descuento:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"mesPago",className:"block text-sm font-medium text-gray-700",children:"Mes de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"mesPago",name:"mesPago",value:$.mesPago,onChange:oe=>K({...$,mesPago:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione un mes"}),e.jsx("option",{value:"Enero",children:"Enero"}),e.jsx("option",{value:"Febrero",children:"Febrero"}),e.jsx("option",{value:"Marzo",children:"Marzo"}),e.jsx("option",{value:"Abril",children:"Abril"}),e.jsx("option",{value:"Mayo",children:"Mayo"}),e.jsx("option",{value:"Junio",children:"Junio"}),e.jsx("option",{value:"Julio",children:"Julio"}),e.jsx("option",{value:"Agosto",children:"Agosto"}),e.jsx("option",{value:"Septiembre",children:"Septiembre"}),e.jsx("option",{value:"Octubre",children:"Octubre"}),e.jsx("option",{value:"Noviembre",children:"Noviembre"}),e.jsx("option",{value:"Diciembre",children:"Diciembre"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"fechaPago",className:"block text-sm font-medium text-gray-700",children:["Fecha de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",id:"fechaPago",name:"fechaPago",value:$.fechaPago,onChange:oe=>K({...$,fechaPago:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"referencia",className:"block text-sm font-medium text-gray-700",children:"Referencia"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"referencia",name:"referencia",value:$.referencia,onChange:oe=>K({...$,referencia:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Número de referencia, transacción, etc."})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:$.observaciones,onChange:oe=>K({...$,observaciones:oe.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comprobante de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"file",ref:re,onChange:at,className:`block w-full text-sm text-gray-500\r
                                  file:mr-4 file:py-2 file:px-4\r
                                  file:rounded-full file:border-0\r
                                  file:text-sm file:font-semibold\r
                                  file:bg-indigo-50 file:text-indigo-700\r
                                  hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Suba una imagen o PDF del comprobante de pago (opcional)."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Resumen del Pago"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Monto:"})," ",parseFloat($.monto||0).toFixed(2)," Bs"]}),parseFloat($.montoMora)>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Mora:"})," ",parseFloat($.montoMora).toFixed(2)," Bs"]}),parseFloat($.descuento)>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Descuento:"})," ",parseFloat($.descuento).toFixed(2)," Bs"]})]}),e.jsx("div",{children:e.jsxs("p",{className:"text-lg font-bold text-indigo-700",children:["Total: ",xe," Bs"]})})]})]}),e.jsx("div",{className:"pt-5 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:Le,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:B,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:B?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):"Registrar Pago"})]})})]})})]})})})})]})})]})})},Nv=()=>{var ct;const{id:n}=Ws(),o=Rt();ms();const l=!!n,[c,m]=u.useState(!1),[x,f]=u.useState(""),[b,p]=u.useState(""),[g,v]=u.useState([]),[S,R]=u.useState([]),[w,E]=u.useState(!1),[_,D]=u.useState(""),[C,L]=u.useState(!1),[T,W]=u.useState(null),[V,me]=u.useState(null),[ae,Y]=u.useState(!1),[F,$]=u.useState(null),[K,ee]=u.useState(null),[X,te]=u.useState(null),[fe,B]=u.useState(!1),[J,q]=u.useState(1),[de,N]=u.useState([]),[k,z]=u.useState(null),[pe,P]=u.useState({}),[Ce,ze]=u.useState(""),[M,be]=u.useState(!1),[Ae,re]=u.useState(!1),Se=u.useRef(null),Q=u.useRef(null),[xe,Be]=u.useState({cedula:"",nombre:"",apellido:"",telefono:"",email:"",direccion:"",profesion:"",observaciones:""}),[Le,et]=u.useState({cedula:"",nombre:"",apellido:"",fechaNacimiento:"",lugarNacimiento:"",genero:"",direccion:"",observaciones:"",gradoID:""});u.useEffect(()=>{(async()=>{try{m(!0);const O=localStorage.getItem("token"),we=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${O}`}});z(we.data);const ce=await j.get("http://localhost:5000/inscripciones/cupos-disponibles",{headers:{Authorization:`Bearer ${O}`}});P(ce.data.cuposDisponibles);const _e=await j.get("http://localhost:5000/grados",{headers:{Authorization:`Bearer ${O}`}});N(_e.data),m(!1)}catch(O){console.error("Error al cargar datos iniciales:",O),f("Error al cargar datos iniciales. Por favor, recargue la página."),m(!1)}})()},[]),u.useEffect(()=>{l&&(async()=>{try{m(!0);const O=localStorage.getItem("token"),we=await j.get(`http://localhost:5000/personas/tipo/representante/${n}`,{headers:{Authorization:`Bearer ${O}`}});Be({cedula:we.data.cedula||"",nombre:we.data.nombre||"",apellido:we.data.apellido||"",telefono:we.data.telefono||"",email:we.data.email||"",direccion:we.data.direccion||"",profesion:we.data.profesion||"",observaciones:we.data.observaciones||""}),$(we.data),m(!1)}catch(O){console.error("Error al cargar datos del representante:",O),f("Error al cargar los datos del representante. Por favor, intente nuevamente."),m(!1)}})()},[n,l]),u.useEffect(()=>{(l||F)&&(async()=>{try{E(!0),D("");const O=localStorage.getItem("token"),we=l?n:F?F.id:"0",ce=await j.get(`http://localhost:5000/documentos/verificar/${we}/representante`,{headers:{Authorization:`Bearer ${O}`}});v(ce.data.documentosRequeridos),E(!1)}catch(O){console.error("Error al cargar documentos requeridos:",O),D("No se pudieron cargar los documentos requeridos. Por favor, intente nuevamente."),E(!1)}})()},[n,l,F]),u.useEffect(()=>{K&&(async()=>{try{E(!0);const O=localStorage.getItem("token"),we=K?K.id:"0",ce=await j.get(`http://localhost:5000/documentos/verificar/${we}/estudiante`,{headers:{Authorization:`Bearer ${O}`}});R(ce.data.documentosRequeridos),E(!1)}catch(O){console.error("Error al cargar documentos del estudiante:",O),D("No se pudieron cargar los documentos del estudiante. Por favor, intente nuevamente."),E(!1)}})()},[K]),u.useEffect(()=>{(async()=>{try{const O=localStorage.getItem("token");let we="http://localhost:5000/grados";Ce&&(we=`http://localhost:5000/grados/nivel/${Ce}`);const ce=await j.get(we,{headers:{Authorization:`Bearer ${O}`}});N(ce.data);const _e={};for(const He of ce.data)_e[He.id]=30;try{const He=localStorage.getItem("token"),Ye=await j.get("http://localhost:5000/cupos/resumen",{headers:{Authorization:`Bearer ${He}`}});Ye.data&&Ye.data.resumenCupos&&Ye.data.resumenCupos.forEach(he=>{_e[he.gradoID]=he.totalDisponibles})}catch{console.warn("No se pudieron obtener los cupos exactos, usando valores predeterminados")}P(_e)}catch(O){console.error("Error al cargar los grados:",O),f("No se pudieron cargar los grados. Por favor, intente nuevamente.")}})()},[Ce]);const Je=$e=>{const{name:O,value:we}=$e.target;Be({...xe,[O]:we})},at=$e=>{const{name:O,value:we}=$e.target;et({...Le,[O]:we})},gt=async $e=>{var O,we;if($e.preventDefault(),!xe.cedula||!xe.nombre||!xe.apellido||!xe.telefono||!xe.email||!xe.direccion){f("Por favor, complete todos los campos obligatorios del representante.");return}try{m(!0),f("");const ce=localStorage.getItem("token");let _e;l?(_e=await j.put(`http://localhost:5000/personas/${n}`,{...xe,tipo:"representante"},{headers:{Authorization:`Bearer ${ce}`}}),p("Representante actualizado correctamente"),$(_e.data)):(_e=await j.post("http://localhost:5000/personas",{...xe,tipo:"representante"},{headers:{Authorization:`Bearer ${ce}`}}),p("Representante creado correctamente. Ahora puede registrar al estudiante."),$(_e.data)),q(2),B(!0),m(!1)}catch(ce){console.error("Error al guardar representante:",ce),f(((we=(O=ce.response)==null?void 0:O.data)==null?void 0:we.message)||"Error al procesar la solicitud. Por favor, intente nuevamente."),m(!1)}},Oe=async $e=>{var O,we;if($e.preventDefault(),console.log("Datos del estudiante a enviar:",Le),!Le.cedula||!Le.nombre||!Le.apellido||!Le.fechaNacimiento||!Le.direccion||!Le.gradoID){f("Por favor, complete todos los campos obligatorios del estudiante.");return}try{m(!0),f("");const ce=localStorage.getItem("token"),_e=new FormData;Object.entries(Le).forEach(([Ye,he])=>{he!=null&&_e.append(Ye,he)}),_e.append("rep_id",F.id),_e.append("annoEscolarID",k.id),_e.append("documentosCompletos","false");for(let Ye of _e.entries())console.log(Ye[0]+": "+Ye[1]);const He=await j.post("http://localhost:5000/inscripciones/nuevo-estudiante",_e,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${ce}`}});ee(He.data.estudiante),te(He.data.inscripcionId),p("Estudiante registrado correctamente. Ahora puede subir los documentos."),q(3),m(!1)}catch(ce){console.error("Error al registrar estudiante:",ce),f(((we=(O=ce.response)==null?void 0:O.data)==null?void 0:we.message)||"Error al procesar la inscripción. Por favor, intente nuevamente."),m(!1)}},I=$e=>{$e.target.files&&$e.target.files.length>0?me($e.target.files[0]):me(null)},se=($e,O="representante")=>{W({...$e,tipoPersona:O}),L(!0)},ve=()=>{L(!1),W(null),me(null),Se.current&&(Se.current.value="")},Ee=async()=>{var $e,O;if(!V){f("Por favor, seleccione un archivo para subir");return}try{Y(!0),f("");const we=localStorage.getItem("token"),ce=new FormData;ce.append("documento",V);const _e=T.tipoPersona==="estudiante"?K.id:l?n:F.id;if(ce.append("personaID",_e),ce.append("tipoDocumento",T.id),ce.append("descripcion",`Documento ${T.nombre} de ${T.tipoPersona}`),await j.post("http://localhost:5000/documentos/upload",ce,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${we}`}}),T.tipoPersona==="estudiante"){const He=await j.get(`http://localhost:5000/documentos/verificar/${K.id}/estudiante`,{headers:{Authorization:`Bearer ${we}`}});R(He.data.documentosRequeridos)}else{const He=await j.get(`http://localhost:5000/documentos/verificar/${l?n:F.id}/representante`,{headers:{Authorization:`Bearer ${we}`}});v(He.data.documentosRequeridos)}ve(),p("Documento subido correctamente"),setTimeout(()=>{p("")},3e3)}catch(we){console.error("Error al subir documento:",we),f(((O=($e=we.response)==null?void 0:$e.data)==null?void 0:O.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{Y(!1)}},Ve=()=>{const $e=g.filter(we=>we.obligatorio&&!we.subido),O=S.filter(we=>we.obligatorio&&!we.subido);($e.length>0||O.length>0)&&!confirm("Faltan documentos obligatorios por subir. ¿Desea continuar de todas formas?")||(be(!0),q(4))},oe=async()=>{var $e,O;try{m(!0);const we=localStorage.getItem("token");await j.put(`http://localhost:5000/inscripciones/${X}/update-estado`,{documentosCompletos:!0},{headers:{Authorization:`Bearer ${we}`,"Content-Type":"application/json"}}),re(!0),p("Inscripción completada exitosamente"),setTimeout(()=>{o(`/inscripcion/comprobante/${X}`)},2e3)}catch(we){console.error("Error al completar inscripción:",we),f(((O=($e=we.response)==null?void 0:$e.data)==null?void 0:O.message)||"Error al finalizar el proceso. Por favor, intente nuevamente."),m(!1)}},Te=()=>{q(1),be(!1)},De=()=>{q(2),be(!1)},qe=()=>{q(3),be(!1)};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>o("/admin/representantes"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista"]})}),e.jsx("div",{className:"mb-6 bg-white shadow-sm rounded-lg overflow-hidden",children:e.jsxs("div",{className:"px-4 py-3 bg-gray-50",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"w-full flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${J>=1?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"1"})}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${J>=2?"bg-indigo-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${J>=2?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"2"})}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${J>=3?"bg-indigo-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${J>=3?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"3"})}),e.jsx("div",{className:`h-1 flex-1 mx-2 ${J>=4?"bg-indigo-600":"bg-gray-300"}`}),e.jsx("div",{className:`flex items-center justify-center h-8 w-8 rounded-full ${J>=4?"bg-indigo-600":"bg-gray-300"}`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:"4"})})]})}),e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:"Representante"}),e.jsx("span",{children:"Estudiante"}),e.jsx("span",{children:"Documentos"}),e.jsx("span",{children:"Confirmación"})]})]})}),x&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:x})})]})}),b&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:b})})]})}),J===1&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:l?"Editar Representante":"Registrar Nuevo Representante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Complete la información del representante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("form",{ref:Q,onSubmit:gt,className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700",children:["Cédula/Documento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"cedula",id:"cedula",value:xe.cedula,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"nombre",id:"nombre",value:xe.nombre,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"apellido",className:"block text-sm font-medium text-gray-700",children:["Apellido ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"apellido",id:"apellido",value:xe.apellido,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700",children:["Teléfono ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"tel",name:"telefono",id:"telefono",value:xe.telefono,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"email",value:xe.email,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"profesion",className:"block text-sm font-medium text-gray-700",children:"Profesión"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"profesion",id:"profesion",value:xe.profesion,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700",children:["Dirección ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"direccion",id:"direccion",value:xe.direccion,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:xe.observaciones,onChange:Je,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]}),e.jsx("div",{className:"pt-5 mt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>o("/admin/representantes"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:c,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(gr,{className:"mr-2"})," ",F?"Actualizar":"Continuar"]})})]})})]})})]}),J===2&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Registrar Estudiante"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Complete la información del estudiante."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("form",{onSubmit:Oe,className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700",children:["Cédula/Documento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"cedula",id:"estudiante_cedula",value:Le.cedula,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"nombre",id:"estudiante_nombre",value:Le.nombre,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"apellido",className:"block text-sm font-medium text-gray-700",children:["Apellido ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"apellido",id:"estudiante_apellido",value:Le.apellido,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"fechaNacimiento",className:"block text-sm font-medium text-gray-700",children:["Fecha de Nacimiento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento",value:Le.fechaNacimiento,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"lugarNacimiento",className:"block text-sm font-medium text-gray-700",children:"Lugar de Nacimiento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"lugarNacimiento",id:"lugarNacimiento",value:Le.lugarNacimiento,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"genero",className:"block text-sm font-medium text-gray-700",children:"Género"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"genero",name:"genero",value:Le.genero,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"})]})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700",children:["Dirección ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"direccion",id:"estudiante_direccion",value:Le.direccion,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"estudiante_observaciones",name:"observaciones",rows:"3",value:Le.observaciones,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"nivel",className:"block text-sm font-medium text-gray-700",children:"Nivel"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"nivel",name:"nivel",value:Ce,onChange:$e=>ze($e.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione un nivel"}),e.jsx("option",{value:"Primaria",children:"Primaria"}),e.jsx("option",{value:"Secundaria",children:"Secundaria"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:["Grado ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"gradoID",name:"gradoID",value:Le.gradoID,onChange:at,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),de.map($e=>e.jsxs("option",{value:$e.id,disabled:!pe[$e.id]||pe[$e.id]<=0,children:[$e.nombre_grado," ",pe[$e.id]?`(${pe[$e.id]} cupos)`:"(Sin cupos)"]},$e.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"annoEscolar",className:"block text-sm font-medium text-gray-700",children:"Año Escolar"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"annoEscolar",value:k?k.periodo:"Cargando...",className:"bg-gray-100 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md",disabled:!0})})]})]}),e.jsx("div",{className:"pt-5 mt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>q(1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver"}),e.jsx("button",{type:"submit",disabled:c,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(Gl,{className:"mr-2"})," Registrar Estudiante"]})})]})})]})})]}),J===3&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos Requeridos"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Suba los documentos requeridos para completar la inscripción."})]}),e.jsx("div",{className:"border-t border-gray-200",children:w?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Documentos del Representante"}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:g.map($e=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${$e.subido?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[$e.nombre," ",$e.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$e.subido?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$e.subido?"Subido":"Pendiente"})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>se($e,"representante"),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," ",$e.subido?"Actualizar":"Subir"]})})]},$e.id))})]}),e.jsxs("div",{className:"mt-8 mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Documentos del Estudiante"}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:S.map($e=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${$e.subido?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[$e.nombre," ",$e.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${$e.subido?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:$e.subido?"Subido":"Pendiente"})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>se($e,"estudiante"),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," ",$e.subido?"Actualizar":"Subir"]})})]},$e.id))})]}),_&&e.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:_})})]})}),e.jsx("div",{className:"pt-5 mt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>q(2),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver"}),e.jsx("button",{type:"button",onClick:Ve,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Continuar a Confirmación"})]})})]})})]}),J===4&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Confirmar Inscripción"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Revise la información antes de completar la inscripción."})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Datos del Representante"}),e.jsxs("button",{onClick:Te,className:"text-indigo-600 hover:text-indigo-900 text-sm flex items-center",children:[e.jsx(ds,{className:"mr-1"})," Editar"]})]}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:xe.cedula})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre Completo"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[xe.nombre," ",xe.apellido]})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:xe.telefono})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:xe.email})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Profesión"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:xe.profesion||"No especificada"})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:xe.direccion})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Datos del Estudiante"}),e.jsxs("button",{onClick:De,className:"text-indigo-600 hover:text-indigo-900 text-sm flex items-center",children:[e.jsx(ds,{className:"mr-1"})," Editar"]})]}),e.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-2 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Cédula/Documento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:Le.cedula})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Nombre Completo"}),e.jsxs("dd",{className:"mt-1 text-sm text-gray-900",children:[Le.nombre," ",Le.apellido]})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:Le.fechaNacimiento})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Género"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:Le.genero==="M"?"Masculino":Le.genero==="F"?"Femenino":"No especificado"})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:Le.direccion})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Grado"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:((ct=de.find($e=>$e.id==Le.gradoID))==null?void 0:ct.nombre_grado)||"No seleccionado"})]}),e.jsxs("div",{className:"sm:col-span-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Año Escolar"}),e.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:(k==null?void 0:k.periodo)||"No disponible"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Estado de Documentos"}),e.jsxs("button",{onClick:qe,className:"text-indigo-600 hover:text-indigo-900 text-sm flex items-center",children:[e.jsx(ds,{className:"mr-1"})," Gestionar"]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Representante:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:g.map($e=>e.jsxs("li",{className:"flex items-center",children:[$e.subido?e.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-4 w-4 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),$e.nombre," ",$e.obligatorio&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]},$e.id))})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Estudiante:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:S.map($e=>e.jsxs("li",{className:"flex items-center",children:[$e.subido?e.jsx("svg",{className:"h-4 w-4 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-4 w-4 text-yellow-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),$e.nombre," ",$e.obligatorio&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]},$e.id))})]})]})]}),e.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-indigo-700",children:"Al completar la inscripción, se generará un comprobante que podrá descargar o imprimir."})})]})}),e.jsx("div",{className:"pt-5 mt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>q(3),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Volver"}),e.jsx("button",{type:"button",onClick:oe,disabled:c||Ae,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):Ae?"Inscripción Completada":"Completar Inscripción"})]})})]})})]}),C&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:T!=null&&T.subido?"Actualizar documento":"Subir documento"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[T==null?void 0:T.nombre," ",(T==null?void 0:T.obligatorio)&&e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"block mt-1",children:["Tipo: ",(T==null?void 0:T.tipoPersona)==="estudiante"?"Documento del estudiante":"Documento del representante"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccione un archivo"}),e.jsx("input",{type:"file",ref:Se,onChange:I,className:`mt-1 block w-full text-sm text-gray-500\r
                              file:mr-4 file:py-2 file:px-4\r
                              file:rounded-full file:border-0\r
                              file:text-sm file:font-semibold\r
                              file:bg-indigo-50 file:text-indigo-700\r
                              hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:Ee,disabled:ae||!V,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:ae?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):"Subir"}),e.jsx("button",{type:"button",onClick:ve,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]})})},wv=()=>{const[n,o]=u.useState([]),[l,c]=u.useState(!0),[m,x]=u.useState(""),[f,b]=u.useState(""),[p,g]=u.useState(""),[v,S]=u.useState(null),R=localStorage.getItem("token"),w=async()=>{try{c(!0),console.log("Obteniendo lista de profesores...");const D=await j.get("http://localhost:5000/personas",{headers:{Authorization:`Bearer ${R}`},params:{tipo:"profesor"}});console.log("Respuesta completa de la API:",D);let C=[];Array.isArray(D.data)?(C=D.data.filter(L=>L.tipo==="profesor"),console.log("Encontrados",C.length,"profesores en el array")):D.data&&D.data.id&&D.data.tipo==="profesor"&&(C=[D.data],console.log("Encontrado un profesor individual, convertido a array")),o(C),c(!1)}catch(D){console.error("Error al cargar profesores:",D),D.response&&(console.error("Detalles del error:",D.response.data),console.error("Estado HTTP:",D.response.status)),x("Error al cargar la lista de profesores. Por favor, intente nuevamente."),o([]),c(!1)}};u.useEffect(()=>{w()},[]);const E=async D=>{try{await j.delete(`http://localhost:5000/personas/${D}`,{headers:{Authorization:`Bearer ${R}`}}),o(n.filter(C=>C.id!==D)),g("Profesor eliminado correctamente"),setTimeout(()=>g(""),3e3),S(null)}catch(C){console.error("Error al eliminar profesor:",C),x("Error al eliminar el profesor. Por favor, intente nuevamente.")}},_=Array.isArray(n)?n.filter(D=>{var C,L,T,W;return((C=D.nombre)==null?void 0:C.toLowerCase().includes(f.toLowerCase()))||((L=D.apellido)==null?void 0:L.toLowerCase().includes(f.toLowerCase()))||((T=D.cedula)==null?void 0:T.toLowerCase().includes(f.toLowerCase()))||((W=D.email)==null?void 0:W.toLowerCase().includes(f.toLowerCase()))}):[];return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Profesores"}),e.jsxs(Pe,{to:"/admin/profesores/nuevo",className:"bg-indigo-600 text-white px-4 py-2 rounded-md flex items-center hover:bg-indigo-700 transition-colors",children:[e.jsx(rs,{className:"mr-2"})," Nuevo Profesor"]})]}),p&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4",role:"alert",children:e.jsx("p",{children:p})}),m&&e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:e.jsx("p",{children:m})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{className:"text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 sm:text-sm",placeholder:"Buscar profesor...",value:f,onChange:D=>b(D.target.value)})]}),e.jsx("button",{onClick:w,className:"ml-3 bg-gray-100 p-2 rounded-md hover:bg-gray-200 transition-colors",title:"Actualizar lista",children:e.jsx(_h,{})})]})}),l?e.jsx("div",{className:"flex justify-center items-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cédula"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teléfono"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.length>0?_.map(D=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.cedula}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[D.nombre," ",D.apellido]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.email||"No disponible"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.telefono||"No disponible"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(Pe,{to:`/admin/profesores/${D.id}`,className:"text-indigo-600 hover:text-indigo-900",title:"Ver detalles",children:e.jsx(Qt,{})}),e.jsx(Pe,{to:`/admin/profesores/editar/${D.id}`,className:"text-blue-600 hover:text-blue-900",title:"Editar",children:e.jsx(ds,{})}),v===D.id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(D.id),className:"text-red-600 hover:text-red-900",title:"Confirmar eliminación",children:"✓"}),e.jsx("button",{onClick:()=>S(null),className:"text-gray-600 hover:text-gray-900",title:"Cancelar",children:"✗"})]}):e.jsx("button",{onClick:()=>S(D.id),className:"text-red-600 hover:text-red-900",title:"Eliminar",children:e.jsx(Pt,{})})]})})]},D.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron profesores"})})})]})})]})]})})},Sv=()=>{const{id:n}=Ws(),o=Rt(),[l,c]=u.useState(null),[m,x]=u.useState([]),[f,b]=u.useState([]),[p,g]=u.useState([]),[v,S]=u.useState(""),[R,w]=u.useState([]),[E,_]=u.useState([]),[D,C]=u.useState(!0),[L,T]=u.useState(""),[W,V]=u.useState("info"),[me,ae]=u.useState(!1),[Y,F]=u.useState(null),[$,K]=u.useState(""),[ee,X]=u.useState(!1),[te,fe]=u.useState(!1),[B,J]=u.useState({materiaID:"",gradoID:"",annoEscolarID:""}),[q,de]=u.useState({gradoID:"",annoEscolarID:""}),[N,k]=u.useState([]),[z,pe]=u.useState([]),P=localStorage.getItem("token");u.useEffect(()=>{(async()=>{var Se,Q;try{C(!0);const xe=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${P}`}});F(xe.data);const Be=await j.get(`http://localhost:5000/personas/${n}`,{headers:{Authorization:`Bearer ${P}`}});if(Be.data.tipo!=="profesor")throw new Error("La persona seleccionada no es un profesor");c(Be.data);const Le=await j.get(`http://localhost:5000/materias/profesor/${n}`,{headers:{Authorization:`Bearer ${P}`},params:{annoEscolarID:xe.data.id}});x(Array.isArray(Le.data)?Le.data:[]);const et=await j.get(`http://localhost:5000/evaluaciones/profesor/${n}?annoEscolarID=${xe.data.id}`,{headers:{Authorization:`Bearer ${P}`}});b(Array.isArray(et.data)?et.data:[]);const Je=await j.get(`http://localhost:5000/grados/profesor/${n}`,{headers:{Authorization:`Bearer ${P}`},params:{annoEscolarID:xe.data.id}});console.log("Grados del profesor:",Je.data),Array.isArray(Je.data)?g(Je.data):(console.error("La respuesta de grados no es un array:",Je.data),g([]));const at=await j.get(`http://localhost:5000/documentos/persona/${n}`,{headers:{Authorization:`Bearer ${P}`}});_(Array.isArray(at.data)?at.data:[]);const gt=await j.get("http://localhost:5000/materias",{headers:{Authorization:`Bearer ${P}`}});k(Array.isArray(gt.data)?gt.data:[]);const Oe=await j.get("http://localhost:5000/grados",{headers:{Authorization:`Bearer ${P}`}});pe(Array.isArray(Oe.data)?Oe.data:[]),C(!1)}catch(xe){console.error("Error al cargar datos del profesor:",xe),T(((Q=(Se=xe.response)==null?void 0:Se.data)==null?void 0:Q.message)||"Error al cargar los datos del profesor. Por favor, intente nuevamente."),C(!1)}})()},[n,P]);const Ce=async()=>{try{await j.delete(`http://localhost:5000/personas/${n}`,{headers:{Authorization:`Bearer ${P}`}}),o("/admin/profesores",{state:{message:"Profesor eliminado correctamente"}})}catch(re){console.error("Error al eliminar profesor:",re),T("Error al eliminar el profesor. Por favor, intente nuevamente.")}},ze=async re=>{var Se,Q;if(re.preventDefault(),!v||!B.materiaID){T("Por favor, seleccione un grado y una materia");return}try{C(!0),T("");const xe=localStorage.getItem("token");await j.post("http://localhost:5000/materias/asignar-profesor",{profesorID:n,materiaID:B.materiaID,gradoID:v,annoEscolarID:Y.id},{headers:{Authorization:`Bearer ${xe}`}});const Be=await j.get(`http://localhost:5000/materias/profesor/${n}`,{headers:{Authorization:`Bearer ${xe}`},params:{annoEscolarID:Y.id}});x(Array.isArray(Be.data)?Be.data:[]),X(!1),J({materiaID:"",gradoID:""}),S(""),w([]),K("Materia asignada correctamente"),setTimeout(()=>K(""),3e3),C(!1)}catch(xe){console.error("Error al asignar materia:",xe),T(((Q=(Se=xe.response)==null?void 0:Se.data)==null?void 0:Q.message)||"Error al asignar la materia. Por favor, intente nuevamente."),C(!1)}},M=async re=>{var Se,Q;re.preventDefault();try{C(!0),await j.post(`http://localhost:5000/grados/${q.gradoID}/asignar-profesor`,{profesorID:n,annoEscolarID:q.annoEscolarID||Y.id},{headers:{Authorization:`Bearer ${P}`}});const xe=await j.get(`http://localhost:5000/grados/profesor/${n}`,{headers:{Authorization:`Bearer ${P}`}});g(Array.isArray(xe.data)?xe.data:[]),K("Grado asignado correctamente"),fe(!1),de({gradoID:"",annoEscolarID:""}),setTimeout(()=>K(""),3e3),C(!1)}catch(xe){console.error("Error al asignar grado:",xe),T(((Q=(Se=xe.response)==null?void 0:Se.data)==null?void 0:Q.message)||"Error al asignar el grado. Por favor, intente nuevamente."),C(!1)}},be=async(re,Se)=>{var Q,xe;if(window.confirm("¿Está seguro de eliminar esta asignación? Esta acción no se puede deshacer."))try{C(!0),await j.delete(`http://localhost:5000/materias/profesor/${n}/${re}/${Se}/${Y.id}`,{headers:{Authorization:`Bearer ${P}`}});const Be=await j.get("http://localhost:5000/materias",{headers:{Authorization:`Bearer ${P}`},params:{profesorID:n}});x(Array.isArray(Be.data)?Be.data:[]),K("Asignación eliminada correctamente"),setTimeout(()=>K(""),3e3),C(!1)}catch(Be){console.error("Error al eliminar asignación:",Be),T(((xe=(Q=Be.response)==null?void 0:Q.data)==null?void 0:xe.message)||"Error al eliminar la asignación. Por favor, intente nuevamente."),C(!1)}},Ae=({isOpen:re,onClose:Se,title:Q,children:xe})=>re?e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:Q}),e.jsx("button",{type:"button",className:"text-gray-400 hover:text-gray-500",onClick:Se,children:e.jsx(ya,{})})]}),e.jsx("div",{className:"mt-4",children:xe})]})})})})]})}):null;return D?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):L?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:e.jsx("p",{children:L})}),e.jsxs(Pe,{to:"/admin/profesores",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista"]})]}):e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsxs(Pe,{to:"/admin/profesores",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(Pe,{to:`/admin/profesores/editar/${n}`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-yellow-600 hover:bg-yellow-700",children:[e.jsx(ds,{className:"mr-2"})," Editar"]}),me?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:Ce,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:"Confirmar"}),e.jsx("button",{onClick:()=>ae(!1),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50",children:"Cancelar"})]}):e.jsxs("button",{onClick:()=>ae(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700",children:[e.jsx(Pt,{className:"mr-2"})," Eliminar"]})]})]}),$&&e.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4",role:"alert",children:e.jsx("p",{children:$})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mb-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[l.nombre," ",l.apellido]}),e.jsxs("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:["Profesor - ",l.cedula]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Activo"})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{className:`${W==="info"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm mx-4`,onClick:()=>V("info"),children:"Información Personal"}),e.jsx("button",{className:`${W==="materias"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm mx-4`,onClick:()=>V("materias"),children:"Materias Asignadas"}),e.jsx("button",{className:`${W==="grados"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm mx-4`,onClick:()=>V("grados"),children:"Grados Asignados"}),e.jsx("button",{className:`${W==="evaluaciones"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm mx-4`,onClick:()=>V("evaluaciones"),children:"Evaluaciones"}),e.jsx("button",{className:`${W==="documentos"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm mx-4`,onClick:()=>V("documentos"),children:"Documentos"})]})}),e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[W==="info"&&e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Cédula"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.cedula})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Nombre Completo"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[l.nombre," ",l.apellido]})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha de Nacimiento"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:ys(l.fechaNacimiento)})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Género"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.genero==="M"?"Masculino":"Femenino"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Teléfono"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.telefono||"No especificado"})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.email||"No especificado"})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Dirección"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.direccion||"No especificada"})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Observaciones"}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:l.observaciones||"No hay observaciones"})]})]}),W==="materias"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Materias Asignadas"}),e.jsxs("button",{onClick:()=>X(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Asignar Materia"]})]}),m.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No hay materias asignadas a este profesor"}):e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:m.map(re=>{var Se;return e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:re.asignatura||re.nombre}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Grado: ",((Se=re.Grado)==null?void 0:Se.nombre_grado)||re.nombreGrado||"No asignado"]}),re.seccionNombre&&e.jsxs("p",{className:"text-sm text-gray-500",children:["Sección: ",re.seccionNombre]})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{var Q;return be(re.id,re.gradoID||((Q=re.Grado)==null?void 0:Q.id))},className:"text-red-600 hover:text-red-900",title:"Eliminar asignación",children:e.jsx(Pt,{})})})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(Pe,{to:`/admin/academico/materias/${re.id}`,className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})})})]},`${re.id}-${re.gradoID||"sin-grado"}`)})})]}),W==="grados"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Grados Asignados"}),e.jsxs("button",{onClick:()=>fe(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Asignar Grado"]})]}),p.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No hay grados asignados a este profesor"}):e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:p.map(re=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:re.nombre_grado}),re.Nivel&&e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Nivel: ",re.Nivel.nombre_nivel]})]}),e.jsx("div",{children:e.jsx("button",{onClick:async()=>{if(window.confirm("¿Está seguro de eliminar la asignación de este grado?"))try{await j.delete(`http://localhost:5000/materias/profesor/${n}/${re.id}/${Y.id}`,{headers:{Authorization:`Bearer ${P}`}}),g(p.filter(Se=>Se.id!==re.id)),K("Asignación eliminada correctamente"),setTimeout(()=>K(""),3e3)}catch(Se){console.error("Error al eliminar asignación:",Se),T("Error al eliminar la asignación. Por favor, intente nuevamente.")}},className:"text-red-600 hover:text-red-900",title:"Eliminar asignación",children:e.jsx(Pt,{})})})]}),re.materiasImpartidas&&re.materiasImpartidas.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Materias que imparte:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:re.materiasImpartidas.map(Se=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Se.asignatura||Se.nombre},Se.id))})]})]}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx(Pe,{to:`/admin/academico/grados/${re.id}`,className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver detalles"})})})]},re.id))})]}),W==="evaluaciones"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Evaluaciones"}),e.jsxs(Pe,{to:`/admin/evaluaciones/nueva?profesorID=${n}`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Nueva Evaluación"]})]}),f.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No hay evaluaciones registradas por este profesor"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Materia"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Grado/Sección"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(re=>{var Se,Q,xe;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.nombreEvaluacion}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:re.tipoEvaluacion}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((Se=re.Materias)==null?void 0:Se.asignatura)||"No especificada"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[((Q=re.Grado)==null?void 0:Q.nombre_grado)||"No especificado"," / ",((xe=re.Seccion)==null?void 0:xe.nombre_seccion)||"No especificada"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ys(re.fechaEvaluacion)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx(Pe,{to:`/admin/evaluaciones/${re.id}`,className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Ver"}),e.jsx(Pe,{to:`/admin/evaluaciones/editar/${re.id}`,className:"text-yellow-600 hover:text-yellow-900",children:"Editar"})]})]},re.id)})})]})})]}),W==="documentos"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Documentos"}),e.jsxs(Pe,{to:`/admin/documentos/subir?personaID=${n}&tipo=profesor`,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Subir Documento"]})]}),E.length===0?e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No hay documentos subidos para este profesor"}):e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:E.map(re=>e.jsxs("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 bg-indigo-100 rounded-md p-3",children:e.jsx(Ey,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:re.tipoDocumento}),e.jsx("dd",{children:e.jsx("div",{className:"text-sm text-gray-900",children:re.nombre_archivo||"Documento"})})]})})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:e.jsx("div",{className:"text-sm",children:e.jsx("a",{href:`http://localhost:5000${re.urlDocumento}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Ver documento"})})})]},re.id))})]})]})]}),e.jsx(Ae,{isOpen:ee,onClose:()=>{X(!1),S(""),w([])},title:"Asignar Materia",children:e.jsxs("form",{onSubmit:ze,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"gradoID",name:"gradoID",value:v,onChange:async re=>{const Se=re.target.value;if(S(Se),J({...B,gradoID:Se,materiaID:""}),Se)try{const Q=await j.get(`http://localhost:5000/materias/grado/${Se}`,{headers:{Authorization:`Bearer ${P}`}}),xe=Array.isArray(Q.data)?Q.data:[],Be=m.filter(et=>{var Je;return et.gradoID===Se||((Je=et.Grado)==null?void 0:Je.id)===Se}).map(et=>et.id),Le=xe.filter(et=>!Be.includes(et.id));w(Le)}catch(Q){console.error("Error al cargar materias del grado:",Q),T("No se pudieron cargar las materias para este grado")}else w([])},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),z.map(re=>e.jsx("option",{value:re.id,children:re.nombre_grado},re.id))]})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"materiaID",className:"block text-sm font-medium text-gray-700",children:"Materia"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"materiaID",name:"materiaID",value:B.materiaID,onChange:re=>J({...B,materiaID:re.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,disabled:!v,children:[e.jsx("option",{value:"",children:v?R.length===0?"No hay materias disponibles para este grado":"Seleccione una materia":"Primero seleccione un grado"}),R.map(re=>e.jsx("option",{value:re.id,children:re.asignatura||re.nombre},re.id))]})}),v&&R.length===0&&e.jsx("p",{className:"mt-2 text-sm text-yellow-600",children:"No hay materias disponibles para asignar en este grado o todas ya están asignadas a este profesor."})]})]}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",disabled:D||!v||!B.materiaID,children:D?"Asignando...":"Asignar"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>{X(!1),S(""),w([])},children:"Cancelar"})]})]})}),e.jsx(Ae,{isOpen:te,onClose:()=>fe(!1),title:"Asignar Grado",children:e.jsxs("form",{onSubmit:M,children:[e.jsx("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"gradoID",name:"gradoID",value:q.gradoID,onChange:re=>de({...q,gradoID:re.target.value}),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),z.filter(re=>!p.some(Se=>Se.id===re.id)).map(re=>e.jsx("option",{value:re.id,children:re.nombre_grado},re.id))]})})]})}),e.jsxs("div",{className:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense",children:[e.jsx("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",disabled:D,children:D?"Asignando...":"Asignar"}),e.jsx("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",onClick:()=>fe(!1),children:"Cancelar"})]})]})})]})})},Ev=()=>{const{id:n}=Ws(),o=Rt(),l=!!n,[c,m]=u.useState(!1),[x,f]=u.useState(""),[b,p]=u.useState(""),[g,v]=u.useState([]),[S,R]=u.useState(!1),[w,E]=u.useState(""),[_,D]=u.useState(!1),[C,L]=u.useState(null),[T,W]=u.useState(null),[V,me]=u.useState(!1),[ae,Y]=u.useState(null),[F,$]=u.useState(!0),K=u.useRef(null),ee=u.useRef(null),[X,te]=u.useState({cedula:"",nombre:"",apellido:"",telefono:"",email:"",direccion:"",fechaNacimiento:"",genero:"",lugarNacimiento:"",profesion:"",observaciones:""});u.useEffect(()=>{l&&(async()=>{try{m(!0);const pe=localStorage.getItem("token"),P=await j.get(`http://localhost:5000/personas/tipo/profesor/${n}`,{headers:{Authorization:`Bearer ${pe}`}});te({cedula:P.data.cedula||"",nombre:P.data.nombre||"",apellido:P.data.apellido||"",telefono:P.data.telefono||"",email:P.data.email||"",direccion:P.data.direccion||"",fechaNacimiento:P.data.fechaNacimiento||"",genero:P.data.genero||"",lugarNacimiento:P.data.lugarNacimiento||"",profesion:P.data.profesion||"",observaciones:P.data.observaciones||""}),Y(P.data),m(!1)}catch(pe){console.error("Error al cargar datos del profesor:",pe),f("Error al cargar los datos del profesor. Por favor, intente nuevamente."),m(!1)}})()},[n,l]),u.useEffect(()=>{(l||ae)&&(async()=>{try{R(!0),E("");const pe=localStorage.getItem("token"),P=l?n:ae?ae.id:"0";console.log(`Cargando documentos para profesor con ID: ${P}`);const Ce=await j.get(`http://localhost:5000/documentos/verificar/${P}/profesor`,{headers:{Authorization:`Bearer ${pe}`}});console.log("Documentos requeridos recibidos:",Ce.data),v(Ce.data.documentosRequeridos),R(!1)}catch(pe){console.error("Error al cargar documentos requeridos:",pe),pe.response&&pe.response.data&&console.error("Detalles del error:",pe.response.data),E("No se pudieron cargar los documentos requeridos. Por favor, intente nuevamente."),R(!1)}})()},[n,l,ae]);const fe=z=>{const{name:pe,value:P}=z.target;te({...X,[pe]:P})},B=async z=>{var pe,P;if(z.preventDefault(),!X.cedula||!X.nombre||!X.apellido||!X.telefono||!X.email||!X.direccion){f("Por favor, complete todos los campos obligatorios.");return}try{m(!0),f("");const Ce=localStorage.getItem("token"),ze={...X,tipo:"profesor"};console.log("Enviando datos del profesor:",ze);let M;l?(M=await j.put(`http://localhost:5000/personas/${n}`,ze,{headers:{Authorization:`Bearer ${Ce}`,"Content-Type":"application/json"}}),p("Profesor actualizado correctamente"),Y(M.data),$(!1)):(M=await j.post("http://localhost:5000/personas",ze,{headers:{Authorization:`Bearer ${Ce}`,"Content-Type":"application/json"}}),p("Profesor creado correctamente. Ahora puede subir los documentos."),Y(M.data),$(!1)),m(!1)}catch(Ce){console.error("Error al guardar profesor:",Ce),Ce.response&&Ce.response.data&&console.error("Detalles del error:",Ce.response.data),f(((P=(pe=Ce.response)==null?void 0:pe.data)==null?void 0:P.message)||"Error al procesar la solicitud. Por favor, intente nuevamente."),m(!1)}},J=z=>{z.target.files&&z.target.files.length>0?W(z.target.files[0]):W(null)},q=z=>{L(z),D(!0)},de=()=>{D(!1),L(null),W(null),K.current&&(K.current.value="")},N=async()=>{var z,pe;if(!T){f("Por favor, seleccione un archivo para subir");return}try{me(!0),f("");const P=localStorage.getItem("token"),Ce=new FormData;Ce.append("documento",T),Ce.append("personaID",l?n:ae.id);const ze=C.id;console.log("Tipo de documento a subir:",ze),Ce.append("tipoDocumento",ze),Ce.append("descripcion",`Documento ${C.nombre} del profesor`);try{const M=l?n:ae.id,be=await j.get(`http://localhost:5000/documentos/persona/${M}`,{headers:{Authorization:`Bearer ${P}`}});console.log("Documentos existentes:",be.data);const Ae=be.data.find(Q=>Q.tipoDocumento===ze);let re;Ae?(console.log(`Actualizando documento existente ID: ${Ae.id}`),re=await j.put(`http://localhost:5000/documentos/${Ae.id}`,Ce,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}})):(console.log("Creando nuevo documento con datos:",{personaID:M,tipoDocumento:ze,descripcion:`Documento ${C.nombre} del profesor`}),re=await j.post("http://localhost:5000/documentos/upload",Ce,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${P}`}})),console.log("Respuesta del servidor:",re.data);const Se=await j.get(`http://localhost:5000/documentos/verificar/${l?n:ae.id}/profesor`,{headers:{Authorization:`Bearer ${P}`}});v(Se.data.documentosRequeridos),de(),p("Documento subido correctamente"),setTimeout(()=>{p("")},3e3)}catch(M){console.error("Error al verificar o actualizar documentos:",M),M.response&&M.response.data&&console.error("Detalles del error:",M.response.data),f("Error al procesar el documento. Por favor, intente nuevamente.")}}catch(P){console.error("Error al subir documento:",P),P.response&&P.response.data&&console.error("Detalles del error:",P.response.data),f(((pe=(z=P.response)==null?void 0:z.data)==null?void 0:pe.message)||"Error al subir el documento. Por favor, intente nuevamente.")}finally{me(!1)}},k=()=>{o("/admin/profesores")};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("button",{onClick:()=>o("/admin/profesores"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(hr,{className:"mr-2"})," Volver a la lista"]})}),x&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:x})})]})}),b&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:b})})]})}),F&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:l?"Editar Profesor":"Registrar Nuevo Profesor"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Complete la información del profesor."})]}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsxs("form",{ref:ee,onSubmit:B,className:"px-4 py-5 sm:p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"cedula",className:"block text-sm font-medium text-gray-700",children:["Cédula/Documento ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"cedula",id:"cedula",value:X.cedula,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"nombre",id:"nombre",value:X.nombre,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"apellido",className:"block text-sm font-medium text-gray-700",children:["Apellido ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"apellido",id:"apellido",value:X.apellido,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700",children:["Teléfono ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"tel",name:"telefono",id:"telefono",value:X.telefono,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"email",name:"email",id:"email",value:X.email,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"fechaNacimiento",className:"block text-sm font-medium text-gray-700",children:"Fecha de Nacimiento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento",value:X.fechaNacimiento,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"genero",className:"block text-sm font-medium text-gray-700",children:"Género"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"genero",name:"genero",value:X.genero,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"lugarNacimiento",className:"block text-sm font-medium text-gray-700",children:"Lugar de Nacimiento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"lugarNacimiento",id:"lugarNacimiento",value:X.lugarNacimiento,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"profesion",className:"block text-sm font-medium text-gray-700",children:"Profesión"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"profesion",id:"profesion",value:X.profesion,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"direccion",className:"block text-sm font-medium text-gray-700",children:["Dirección ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"direccion",id:"direccion",value:X.direccion,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:X.observaciones,onChange:fe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]}),e.jsx("div",{className:"pt-5 mt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{type:"button",onClick:()=>o("/admin/profesores"),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:c,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:c?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(gr,{className:"mr-2"})," Guardar"]})})]})})]})})]}),(l||ae)&&e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg mt-6",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Documentos del Profesor"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Documentos requeridos para el profesor."})]}),e.jsx("div",{className:"border-t border-gray-200",children:S?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:g.map(z=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx("div",{className:`p-4 ${z.subido?"bg-green-50":"bg-gray-50"}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900",children:[z.nombre," ",z.obligatorio&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${z.subido?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:z.subido?"Subido":"Pendiente"})]})}),e.jsx("div",{className:"p-4",children:e.jsxs("button",{onClick:()=>q(z),className:"w-full inline-flex justify-center items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Ps,{className:"mr-2"})," ",z.subido?"Actualizar":"Subir"]})})]},z.id))}),w&&e.jsx("div",{className:"mt-4 bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:w})})]})}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"button",onClick:k,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Finalizar y Volver a la Lista"})})]})})]}),_&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:C!=null&&C.subido?"Actualizar documento":"Subir documento"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:[C==null?void 0:C.nombre," ",(C==null?void 0:C.obligatorio)&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seleccione un archivo"}),e.jsx("input",{type:"file",ref:K,onChange:J,className:`mt-1 block w-full text-sm text-gray-500\r
                              file:mr-4 file:py-2 file:px-4\r
                              file:rounded-full file:border-0\r
                              file:text-sm file:font-semibold\r
                              file:bg-indigo-50 file:text-indigo-700\r
                              hover:file:bg-indigo-100`,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx"})]})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:N,disabled:V||!T,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:V?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subiendo..."]}):"Subir"}),e.jsx("button",{type:"button",onClick:de,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]})})},Dv=()=>{const[n,o]=u.useState([]),[l,c]=u.useState(!1),[m,x]=u.useState(""),[f,b]=u.useState(""),[p,g]=u.useState(!1),[v,S]=u.useState(null),[R,w]=u.useState({nombre:"",descripcion:"",monto:"",activo:!0});u.useEffect(()=>{E()},[]);const E=async()=>{try{c(!0);const V=localStorage.getItem("token"),me=await j.get("http://localhost:5000/aranceles",{headers:{Authorization:`Bearer ${V}`}});o(me.data),c(!1)}catch(V){console.error("Error al cargar aranceles:",V),x("Error al cargar los aranceles. Por favor, intente nuevamente."),c(!1)}},_=V=>{const{name:me,value:ae,type:Y,checked:F}=V.target;w({...R,[me]:Y==="checkbox"?F:ae})},D=()=>{w({nombre:"",descripcion:"",monto:"",activo:!0}),S(null),g(!0)},C=V=>{w({nombre:V.nombre||"",descripcion:V.descripcion||"",monto:V.monto||"",activo:V.activo}),S(V),g(!0)},L=()=>{g(!1),S(null),w({nombre:"",descripcion:"",monto:"",activo:!0})},T=async V=>{var me,ae;if(V.preventDefault(),!R.nombre||!R.monto){x("Por favor, complete los campos obligatorios.");return}try{c(!0),x("");const Y=localStorage.getItem("token");v?(await j.put(`http://localhost:5000/aranceles/${v.id}`,R,{headers:{Authorization:`Bearer ${Y}`}}),b("Arancel actualizado correctamente")):(await j.post("http://localhost:5000/aranceles",R,{headers:{Authorization:`Bearer ${Y}`}}),b("Arancel creado correctamente")),E(),L(),setTimeout(()=>{b("")},3e3),c(!1)}catch(Y){console.error("Error al guardar arancel:",Y),x(((ae=(me=Y.response)==null?void 0:me.data)==null?void 0:ae.message)||"Error al procesar la solicitud. Por favor, intente nuevamente."),c(!1)}},W=async V=>{var me,ae;if(window.confirm("¿Está seguro de eliminar este arancel?"))try{c(!0);const Y=localStorage.getItem("token");await j.delete(`http://localhost:5000/aranceles/${V}`,{headers:{Authorization:`Bearer ${Y}`}}),E(),b("Arancel eliminado correctamente"),setTimeout(()=>{b("")},3e3),c(!1)}catch(Y){console.error("Error al eliminar arancel:",Y),x(((ae=(me=Y.response)==null?void 0:me.data)==null?void 0:ae.message)||"Error al eliminar el arancel. Por favor, intente nuevamente."),c(!1)}};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Aranceles"}),e.jsxs("button",{onClick:D,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Nuevo Arancel"]})]}),m&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:m})})]})}),f&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:f})})]})}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[e.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[e.jsx("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Lista de Aranceles"}),e.jsx("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Gestione los aranceles del sistema."})]}),l&&n.length===0?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No hay aranceles registrados"})}):n.map(V=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:V.nombre}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.descripcion||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:typeof V.monto=="number"?V.monto.toLocaleString("es-VE",{style:"currency",currency:"VES"}):V.monto}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${V.activo?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:V.activo?"Activo":"Inactivo"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsxs("button",{onClick:()=>C(V),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:[e.jsx(ds,{className:"inline"})," Editar"]}),e.jsxs("button",{onClick:()=>W(V.id),className:"text-red-600 hover:text-red-900",children:[e.jsx(Pt,{className:"inline"})," Eliminar"]})]})]},V.id))})]})})]}),p&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:v?"Editar Arancel":"Nuevo Arancel"}),e.jsx("div",{className:"mt-2",children:e.jsx("form",{onSubmit:T,children:e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700",children:["Nombre ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",name:"nombre",id:"nombre",value:R.nombre,onChange:_,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"descripcion",name:"descripcion",rows:"3",value:R.descripcion,onChange:_,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700",children:["Monto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",name:"monto",id:"monto",step:"0.01",min:"0",value:R.monto,onChange:_,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsx("div",{className:"sm:col-span-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"activo",name:"activo",type:"checkbox",checked:R.activo,onChange:_,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsxs("div",{className:"ml-3 text-sm",children:[e.jsx("label",{htmlFor:"activo",className:"font-medium text-gray-700",children:"Activo"}),e.jsx("p",{className:"text-gray-500",children:"Indica si el arancel está activo en el sistema."})]})]})})]})})})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:T,disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm",children:l?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(gr,{className:"mr-2"})," Guardar"]})}),e.jsxs("button",{type:"button",onClick:L,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:[e.jsx(ya,{className:"mr-2"})," Cancelar"]})]})]})]})})]})})},Cv=()=>{const[n,o]=u.useState([]),[l,c]=u.useState(!1),[m,x]=u.useState(""),[f,b]=u.useState(""),[p,g]=u.useState(""),[v,S]=u.useState(""),[R,w]=u.useState([]),[E,_]=u.useState(!1),[D,C]=u.useState("representante"),[L,T]=u.useState(!1),[W,V]=u.useState([]),[me,ae]=u.useState(!1),[Y,F]=u.useState([]),[$,K]=u.useState(1),[ee]=u.useState(10),[X,te]=u.useState(null),[fe,B]=u.useState(null),[J,q]=u.useState(!1),[de,N]=u.useState([]),[k,z]=u.useState([]),[pe,P]=u.useState([]),[Ce,ze]=u.useState(!1),[M,be]=u.useState(!1),[Ae,re]=u.useState(!1),[Se,Q]=u.useState(null),xe=u.useRef(null),[Be,Le]=u.useState([]),[et,Je]=u.useState(!1),[at,gt]=u.useState(""),[Oe,I]=u.useState(null),[se,ve]=u.useState(null),[Ee,Ve]=u.useState([]),[oe,Te]=u.useState([]),[De,qe]=u.useState("pendientes"),[ct,$e]=u.useState(!1),[O,we]=u.useState(null),[ce,_e]=u.useState({estudianteID:"",representanteID:"",metodoPagoID:"",arancelID:"",inscripcionID:"",annoEscolarID:X?X.id:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),[He,Ye]=u.useState("0");u.useEffect(()=>{const ie=parseFloat(ce.monto)||0,Me=parseFloat(ce.montoMora)||0,Ke=parseFloat(ce.descuento)||0,mt=ie+Me-Ke;Ye(mt.toFixed(2))},[ce.monto,ce.montoMora,ce.descuento]),u.useEffect(()=>{je()},[]);const he=ie=>{if(S(ie),!ie.trim()){V([]),ae(!1);return}const Me=ie.toLowerCase(),Ke=Be.filter(mt=>mt.nombre.toLowerCase().includes(Me)||mt.apellido.toLowerCase().includes(Me)||mt.cedula.toLowerCase().includes(Me));V(Ke),ae(!0)},Re=ie=>{I(ie),_e({...ce,representanteID:ie.id,estudianteID:""}),S(`${ie.nombre} ${ie.apellido} - ${ie.cedula}`),ae(!1),Qe(ie.id)},U=ie=>{ve(ie),(async()=>{try{const Ke=localStorage.getItem("token"),mt=await j.get(`http://localhost:5000/inscripciones/estudiante/${ie.id}/actual`,{headers:{Authorization:`Bearer ${Ke}`}});mt.data?_e({...ce,estudianteID:ie.id,inscripcionID:mt.data.id,annoEscolarID:mt.data.annoEscolarID}):_e({...ce,estudianteID:ie.id,inscripcionID:"",annoEscolarID:fe?fe.id:""})}catch(Ke){console.error("Error al buscar inscripción actual:",Ke),_e({...ce,estudianteID:ie.id,inscripcionID:"",annoEscolarID:fe?fe.id:""})}})()};u.useEffect(()=>{if(De==="pendientes")if(p.trim()==="")F(Ee);else{const ie=Ee.filter(Me=>Me.estudiante&&Me.estudiante.nombre&&Me.estudiante.nombre.toLowerCase().includes(p.toLowerCase())||Me.estudiante&&Me.estudiante.apellido&&Me.estudiante.apellido.toLowerCase().includes(p.toLowerCase())||Me.estudiante&&Me.estudiante.cedula&&Me.estudiante.cedula.toLowerCase().includes(p.toLowerCase())||Me.referencia&&Me.referencia.toLowerCase().includes(p.toLowerCase())||Me.id&&Me.id.toString().toLowerCase().includes(p.toLowerCase()));F(ie)}else if(p.trim()==="")F(oe);else{const ie=oe.filter(Me=>Me.estudiante&&Me.estudiante.nombre&&Me.estudiante.nombre.toLowerCase().includes(p.toLowerCase())||Me.estudiante&&Me.estudiante.apellido&&Me.estudiante.apellido.toLowerCase().includes(p.toLowerCase())||Me.estudiante&&Me.estudiante.cedula&&Me.estudiante.cedula.toLowerCase().includes(p.toLowerCase())||Me.referencia&&Me.referencia.toLowerCase().includes(p.toLowerCase())||Me.id&&Me.id.toString().toLowerCase().includes(p.toLowerCase()));F(ie)}K(1)},[p,Ee,oe,De]);const je=async()=>{try{c(!0);const ie=localStorage.getItem("token"),Me=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${ie}`}});te(Me.data);const Ke=await j.get("http://localhost:5000/pagos",{headers:{Authorization:`Bearer ${ie}`}});if(console.log("Pagos obtenidos:",Ke.data),!Ke.data||!Array.isArray(Ke.data)){Ve([]),Te([]),o([]),F([]),c(!1);return}const mt=Ke.data.filter(Kt=>Kt.estado==="pendiente"),ft=Ke.data.filter(Kt=>Kt.estado==="pagado"||Kt.estado==="anulado");Ve(mt),Te(ft),o(Ke.data),F(De==="pendientes"?mt:ft),c(!1)}catch(ie){console.error("Error al cargar pagos:",ie),x("Error al cargar los pagos. Por favor, intente nuevamente."),c(!1)}},Ie=ie=>{qe(ie),F(ie==="pendientes"?Ee:oe),K(1)},Qe=async ie=>{if(!ie){N([]);return}try{ze(!0);const Me=localStorage.getItem("token"),ft=(await j.get(`http://localhost:5000/inscripciones/representante/${ie}`,{headers:{Authorization:`Bearer ${Me}`}})).data.map(Kt=>({...Kt.estudiante,inscripcionID:Kt.id,gradoID:Kt.gradoID,seccionID:Kt.seccionID,annoEscolarID:Kt.annoEscolarID})).filter((Kt,qa,Ua)=>qa===Ua.findIndex(ln=>ln.id===Kt.id));N(ft),ze(!1)}catch(Me){console.error("Error al cargar estudiantes del representante:",Me),N([]),ze(!1)}},yt=async()=>{const ie=localStorage.getItem("token");try{Je(!0);const Me=await j.get("http://localhost:5000/personas/tipo/representante",{headers:{Authorization:`Bearer ${ie}`}});Le(Array.isArray(Me.data)?Me.data:[]),Je(!1)}catch(Me){console.error("Error al cargar representantes:",Me),Le([]),Je(!1)}try{be(!0);const Me=await j.get("http://localhost:5000/aranceles",{headers:{Authorization:`Bearer ${ie}`}});z(Me.data.filter(Ke=>Ke.activo)),be(!1)}catch(Me){console.error("Error al cargar aranceles:",Me),z([]),be(!1)}try{re(!0);const Me=await j.get("http://localhost:5000/metodos-pago",{headers:{Authorization:`Bearer ${ie}`}});P(Me.data.filter(Ke=>Ke.activo)),re(!1)}catch(Me){console.error("Error al cargar métodos de pago:",Me),P([]),re(!1)}try{const Me=await j.get("http://localhost:5000/anno-escolar/actual",{headers:{Authorization:`Bearer ${ie}`}});B(Me.data),_e(Ke=>({...Ke,annoEscolarID:Me.data?Me.data.id:""}))}catch(Me){console.error("Error al cargar año escolar activo:",Me)}},Et=()=>{_e({estudianteID:"",representanteID:"",metodoPagoID:"",arancelID:"",inscripcionID:"",annoEscolarID:fe?fe.id:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),I(null),ve(null),S(""),Q(null),xe.current&&(xe.current.value=""),yt(),q(!0)},ts=ie=>{ie.target.files&&ie.target.files.length>0?Q(ie.target.files[0]):Q(null)},vt=async ie=>{var Me,Ke;if(ie.preventDefault(),!ce.representanteID||!ce.estudianteID||!ce.metodoPagoID||!ce.arancelID||!ce.monto){x("Por favor, complete todos los campos obligatorios.");return}try{c(!0),x("");const mt=localStorage.getItem("token"),ft=new FormData;ft.append("estudianteID",ce.estudianteID),ft.append("representanteID",ce.representanteID),ft.append("metodoPagoID",ce.metodoPagoID),ft.append("arancelID",ce.arancelID),ft.append("monto",ce.monto),ft.append("montoTotal",He),ce.annoEscolarID&&ft.append("annoEscolarID",ce.annoEscolarID),ce.inscripcionID&&ft.append("inscripcionID",ce.inscripcionID),ce.montoMora&&ce.montoMora!=="0"&&ft.append("montoMora",ce.montoMora),ce.descuento&&ce.descuento!=="0"&&ft.append("descuento",ce.descuento),ce.mesPago&&ft.append("mesPago",ce.mesPago),ce.fechaPago&&ft.append("fechaPago",ce.fechaPago),ce.referencia&&ft.append("referencia",ce.referencia),ce.observaciones&&ft.append("observaciones",ce.observaciones),Se&&ft.append("comprobante",Se),console.log("Datos a enviar:");for(let qa of ft.entries())console.log(qa[0]+": "+qa[1]);const Kt=await j.post("http://localhost:5000/pagos",ft,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${mt}`}});console.log("Respuesta del servidor:",Kt.data),b("Pago registrado correctamente"),q(!1),je(),_e({estudianteID:"",representanteID:"",metodoPagoID:"",arancelID:"",inscripcionID:"",annoEscolarID:X?X.id:"",monto:"",montoMora:"0",descuento:"0",mesPago:"",fechaPago:new Date().toISOString().split("T")[0],referencia:"",observaciones:""}),Ye("0"),I(null),ve(null),Q(null),xe.current&&(xe.current.value=""),c(!1)}catch(mt){console.error("Error al registrar pago:",mt),x(((Ke=(Me=mt.response)==null?void 0:Me.data)==null?void 0:Ke.message)||"Error al procesar la solicitud. Por favor, intente nuevamente."),c(!1)}},ns=async(ie,Me)=>{var Ke,mt;try{c(!0);const ft=localStorage.getItem("token");await j.put(`http://localhost:5000/pagos/${ie}/estado`,{estado:Me},{headers:{Authorization:`Bearer ${ft}`}}),b(`Estado del pago actualizado a: ${Me}`),je(),c(!1)}catch(ft){console.error("Error al actualizar estado del pago:",ft),x(((mt=(Ke=ft.response)==null?void 0:Ke.data)==null?void 0:mt.message)||"Error al actualizar el estado del pago. Por favor, intente nuevamente."),c(!1)}},js=$*ee,qt=js-ee,is=Y.slice(qt,js),Zt=ie=>K(ie),Gs=ie=>ie?new Date(ie).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",us=ie=>ie==null?"N/A":`$${parseFloat(ie).toFixed(2)}`,nn=ie=>{ie&&ie.urlComprobante&&window.open(`http://localhost:5000${ie.urlComprobante}`,"_blank")},Xl=async ie=>{var Me,Ke;try{c(!0);const mt=localStorage.getItem("token"),ft=await j.get(`http://localhost:5000/pagos/${ie}`,{headers:{Authorization:`Bearer ${mt}`}});we(ft.data),$e(!0),c(!1)}catch(mt){console.error("Error al cargar detalles del pago:",mt),x(((Ke=(Me=mt.response)==null?void 0:Me.data)==null?void 0:Ke.message)||"Error al cargar los detalles del pago. Por favor, intente nuevamente."),c(!1)}},Ns=()=>{$e(!1),we(null)};return e.jsx(At,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Gestión de Pagos"}),e.jsxs("button",{onClick:Et,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Registrar Nuevo Pago"]})]}),m&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:m})})]})}),f&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:f})})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nombre, cédula, referencia...",value:p,onChange:ie=>g(ie.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full pr-10 sm:text-sm border-gray-300 rounded-md"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(pr,{className:"h-5 w-5 text-gray-400"})})]})})}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>Ie("pendientes"),className:`${De==="pendientes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Pendientes (",Ee.length,")"]}),e.jsxs("button",{onClick:()=>Ie("revisados"),className:`${De==="revisados"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Revisados (",oe.length,")"]})]})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estudiante"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Representante"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Método"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"})})})}):is.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No se encontraron pagos"})}):is.map(ie=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ie.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.estudiantes?`${ie.estudiantes.nombre} ${ie.estudiantes.apellido}`:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.representantes?`${ie.representantes.nombre} ${ie.representantes.apellido}`:"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[ie.aranceles?ie.aranceles.nombre:"N/A",ie.mesPago?` (${ie.mesPago})`:""]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:us(ie.montoTotal)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Gs(ie.fechaPago)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ie.estado==="pagado"?"bg-green-100 text-green-800":ie.estado==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ie.estado})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.metodoPagos?ie.metodoPagos.nombre:"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>Xl(ie.id),className:"text-indigo-600 hover:text-indigo-900",title:"Ver detalles",children:e.jsx(Qt,{})}),ie.estado==="pendiente"&&e.jsx("button",{onClick:()=>ns(ie.id,"pagado"),className:"text-green-600 hover:text-green-900",title:"Marcar como pagado",children:e.jsx(qx,{})}),ie.estado==="pendiente"&&e.jsx("button",{onClick:()=>ns(ie.id,"anulado"),className:"text-red-600 hover:text-red-900",title:"Anular pago",children:e.jsx(ya,{})}),ie.urlComprobante&&e.jsx("button",{onClick:()=>nn(ie),className:"text-blue-600 hover:text-blue-900",title:"Ver comprobante",children:e.jsx(qx,{})})]})})]},ie.id))})]})})}),Y.length>ee&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsxs("button",{onClick:()=>Zt($>1?$-1:1),disabled:$===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[e.jsx("span",{className:"sr-only",children:"Anterior"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),Array.from({length:Math.ceil(Y.length/ee)}).map((ie,Me)=>e.jsx("button",{onClick:()=>Zt(Me+1),className:`relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ${$===Me+1?"text-indigo-600 bg-indigo-50":"text-gray-700 hover:bg-gray-50"}`,children:Me+1},Me)),e.jsxs("button",{onClick:()=>Zt($<Math.ceil(Y.length/ee)?$+1:Math.ceil(Y.length/ee)),disabled:$===Math.ceil(Y.length/ee),className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[e.jsx("span",{className:"sr-only",children:"Siguiente"}),e.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})}),J&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Registrar Nuevo Pago"}),e.jsx("div",{className:"mt-2",children:e.jsxs("form",{onSubmit:vt,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"representante",className:"block text-sm font-medium text-gray-700",children:["Representante ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{type:"text",id:"representante",placeholder:"Buscar representante por nombre o cédula",value:v,onChange:ie=>he(ie.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0}),me&&W.length>0&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto max-h-60",children:W.map(ie=>e.jsxs("div",{onClick:()=>Re(ie),className:"cursor-pointer hover:bg-gray-100 py-2 px-4",children:[ie.nombre," ",ie.apellido," - ",ie.cedula]},ie.id))})]})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsxs("label",{htmlFor:"estudiante",className:"block text-sm font-medium text-gray-700",children:["Estudiante ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("select",{id:"estudiante",name:"estudianteID",value:ce.estudianteID,onChange:ie=>{const Me=ie.target.value;_e({...ce,estudianteID:Me});const Ke=de.find(mt=>mt.id.toString()===Me);Ke&&U(Ke)},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,disabled:!ce.representanteID||Ce,children:[e.jsx("option",{value:"",children:"Seleccione un estudiante"}),de.map(ie=>e.jsxs("option",{value:ie.id,children:[ie.nombre," ",ie.apellido," - ",ie.cedula]},ie.id))]}),Ce&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-indigo-500"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"arancelID",className:"block text-sm font-medium text-gray-700",children:["Concepto de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"arancelID",name:"arancelID",value:ce.arancelID,onChange:ie=>{const Me=ie.target.value,Ke=k.find(mt=>mt.id.toString()===Me);_e({...ce,arancelID:Me,monto:Ke?Ke.monto.toString():""})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un concepto"}),k.map(ie=>e.jsxs("option",{value:ie.id,children:[ie.nombre," - $",ie.monto]},ie.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"metodoPagoID",className:"block text-sm font-medium text-gray-700",children:["Método de Pago ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"metodoPagoID",name:"metodoPagoID",value:ce.metodoPagoID,onChange:ie=>{_e({...ce,metodoPagoID:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un método"}),pe.map(ie=>e.jsx("option",{value:ie.id,children:ie.nombre},ie.id))]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsxs("label",{htmlFor:"monto",className:"block text-sm font-medium text-gray-700",children:["Monto ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"monto",name:"monto",value:ce.monto,onChange:ie=>{_e({...ce,monto:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"montoMora",className:"block text-sm font-medium text-gray-700",children:"Monto por Mora"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"montoMora",name:"montoMora",value:ce.montoMora,onChange:ie=>{_e({...ce,montoMora:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"descuento",className:"block text-sm font-medium text-gray-700",children:"Descuento"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",step:"0.01",id:"descuento",name:"descuento",value:ce.descuento,onChange:ie=>{_e({...ce,descuento:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"montoTotal",className:"block text-sm font-medium text-gray-700",children:"Monto Total"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"montoTotal",value:`$${He}`,className:"bg-gray-100 shadow-sm block w-full sm:text-sm border-gray-300 rounded-md",disabled:!0})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"mesPago",className:"block text-sm font-medium text-gray-700",children:"Mes de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"mesPago",name:"mesPago",value:ce.mesPago,onChange:ie=>{_e({...ce,mesPago:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Seleccione un mes"}),e.jsx("option",{value:"Enero",children:"Enero"}),e.jsx("option",{value:"Febrero",children:"Febrero"}),e.jsx("option",{value:"Marzo",children:"Marzo"}),e.jsx("option",{value:"Abril",children:"Abril"}),e.jsx("option",{value:"Mayo",children:"Mayo"}),e.jsx("option",{value:"Junio",children:"Junio"}),e.jsx("option",{value:"Julio",children:"Julio"}),e.jsx("option",{value:"Agosto",children:"Agosto"}),e.jsx("option",{value:"Septiembre",children:"Septiembre"}),e.jsx("option",{value:"Octubre",children:"Octubre"}),e.jsx("option",{value:"Noviembre",children:"Noviembre"}),e.jsx("option",{value:"Diciembre",children:"Diciembre"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"fechaPago",className:"block text-sm font-medium text-gray-700",children:"Fecha de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",id:"fechaPago",name:"fechaPago",value:ce.fechaPago,onChange:ie=>{_e({...ce,fechaPago:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"referencia",className:"block text-sm font-medium text-gray-700",children:"Referencia"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"referencia",name:"referencia",value:ce.referencia,onChange:ie=>{_e({...ce,referencia:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"comprobante",className:"block text-sm font-medium text-gray-700",children:"Comprobante de Pago"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"file",id:"comprobante",ref:xe,onChange:ts,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",accept:".pdf,.jpg,.jpeg,.png"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Formatos aceptados: PDF, JPG, JPEG, PNG"})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:ce.observaciones,onChange:ie=>{_e({...ce,observaciones:ie.target.value})},className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]})})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:vt,disabled:l,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:l?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(gr,{className:"mr-2"})," Registrar Pago"]})}),e.jsx("button",{type:"button",onClick:()=>q(!1),className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),ct&&O&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:["Detalles del Pago #",O.id]}),e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.estado==="pagado"?"bg-green-100 text-green-800":O.estado==="pendiente"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:O.estado.charAt(0).toUpperCase()+O.estado.slice(1)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Información del Estudiante"}),O.estudiante?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Nombre:"})," ",O.estudiante.nombre," ",O.estudiante.apellido]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Cédula:"})," ",O.estudiante.cedula]}),O.inscripcion&&O.inscripcion.grado&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Grado:"})," ",O.inscripcion.grado.nombre_grado]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"No hay información disponible"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Información del Pago"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Concepto:"})," ",O.arancel?O.arancel.nombre:O.concepto||"-"]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Monto:"})," ",us(O.monto)]}),O.montoMora>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Mora:"})," ",us(O.montoMora)]}),O.descuento>0&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Descuento:"})," ",us(O.descuento)]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Método de Pago:"})," ",O.metodoPago?O.metodoPago.nombre:"-"]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Referencia:"})," ",O.referencia||"-"]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Fechas"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Fecha de Pago:"})," ",Gs(O.fechaPago)]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Fecha de Registro:"})," ",Gs(O.createdAt)]}),O.updatedAt&&O.updatedAt!==O.createdAt&&e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Última Actualización:"})," ",Gs(O.updatedAt)]})]})]}),O.observaciones&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Observaciones"}),e.jsx("p",{className:"text-sm text-gray-700",children:O.observaciones})]})]}),O.urlComprobante&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 mb-2",children:"Comprobante de Pago"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-700",children:O.urlComprobante.split("/").pop()}),e.jsxs("button",{onClick:()=>nn(O),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Qt,{className:"mr-1"})," Ver Comprobante"]})]}),O.urlComprobante&&(O.urlComprobante.toLowerCase().endsWith(".jpg")||O.urlComprobante.toLowerCase().endsWith(".jpeg")||O.urlComprobante.toLowerCase().endsWith(".png"))&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx("img",{src:`http://localhost:5000${O.urlComprobante}`,alt:"Comprobante de pago",className:"max-h-64 object-contain border rounded"})})]})]}),O.estado==="pendiente"&&e.jsxs("div",{className:"mt-6 bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-md font-medium text-yellow-800 mb-2",children:"Acciones Disponibles"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>{ns(O.id,"pagado"),Ns()},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(bd,{className:"mr-2"})," Aprobar Pago"]}),e.jsxs("button",{onClick:()=>{ns(O.id,"anulado"),Ns()},className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(ya,{className:"mr-2"})," Rechazar Pago"]})]})]})]})})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:e.jsx("button",{type:"button",onClick:Ns,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cerrar"})})]})]})})]})})},kv=()=>{const n=Rt(),[o,l]=u.useState(!0),[c,m]=u.useState(""),[x,f]=u.useState(""),[b,p]=u.useState("estudiantes"),[g,v]=u.useState(null),[S,R]=u.useState(null),[w,E]=u.useState([]),[_,D]=u.useState([]),[C,L]=u.useState([]),[T,W]=u.useState([]),[V,me]=u.useState([]),[ae,Y]=u.useState({gradoID:"",seccionID:"",materiaID:"",busqueda:""}),[F,$]=u.useState(!1),[K,ee]=u.useState(!1),[X,te]=u.useState(null),[fe,B]=u.useState(null),[J,q]=u.useState(!1),[de,N]=u.useState(!1),[k,z]=u.useState({nombreEvaluacion:"",descripcion:"",tipoEvaluacion:"",fechaEvaluacion:"",materiaID:"",gradoID:"",seccionID:"",porcentaje:"",lapso:"",requiereEntrega:!1,fechaLimiteEntrega:""}),[pe,P]=u.useState({valor:"",observaciones:""}),[Ce,ze]=u.useState(null);u.useEffect(()=>{(async()=>{try{l(!0);const se=localStorage.getItem("token");if(!se){n("/login");return}const ve=JSON.parse(atob(se.split(".")[1])),Ee={headers:{Authorization:`Bearer ${se}`}},oe=(await j.get(`http://localhost:5000/personas/${ve.personaID}`,Ee)).data;v(oe);const Te=await j.get("http://localhost:5000/anno-escolar/actual",Ee);R(Te.data);const De=await j.get(`http://localhost:5000/materias/profesor/${ve.personaID}`,Ee);E(De.data);const qe=await j.get(`http://localhost:5000/grados/profesor/${ve.personaID}`,Ee);D(qe.data);const ct=qe.data.map(He=>j.get(`http://localhost:5000/secciones/grado/${He.id}`,Ee)),O=(await Promise.all(ct)).flatMap(He=>He.data);L(O);const we=qe.data.map(He=>j.get(`http://localhost:5000/grados/${He.id}/estudiantes`,{...Ee,params:{annoEscolarID:Te.data.id}})),ce=await j.get(`http://localhost:5000/personas/profesor/${oe.id}/estudiantes`,{...Ee,params:{annoEscolarID:Te.data.id}});W(ce.data);const _e=await j.get(`http://localhost:5000/evaluaciones/profesor/${ve.personaID}`,Ee);me(_e.data),l(!1)}catch(se){console.error("Error al cargar datos:",se),m("Error al cargar datos. Por favor, intente nuevamente."),l(!1)}})()},[n]);const M=T.filter(I=>{if(ae.gradoID&&I.gradoID!==parseInt(ae.gradoID)||ae.seccionID&&I.seccionID!==parseInt(ae.seccionID))return!1;if(ae.busqueda){const se=ae.busqueda.toLowerCase(),ve=`${I.nombre} ${I.apellido}`.toLowerCase(),Ee=I.cedula?I.cedula.toLowerCase():"";if(!ve.includes(se)&&!Ee.includes(se))return!1}return!0}),be=V.filter(I=>{if(ae.materiaID&&I.materiaID!==parseInt(ae.materiaID)||ae.gradoID&&I.gradoID!==parseInt(ae.gradoID))return!1;if(ae.busqueda){const se=ae.busqueda.toLowerCase(),ve=I.nombreEvaluacion.toLowerCase(),Ee=I.descripcion?I.descripcion.toLowerCase():"";if(!ve.includes(se)&&!Ee.includes(se))return!1}return!0}),Ae=I=>{const{name:se,value:ve}=I.target;Y({...ae,[se]:ve})},re=()=>{Y({gradoID:"",seccionID:"",materiaID:"",busqueda:""})},Se=async I=>{const se=I.target.value;if(z({...k,gradoID:se,materiaID:"",seccionID:""}),se)try{q(!0);const Ee={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}},Ve=await j.get(`http://localhost:5000/grados/${se}/materias`,Ee),oe=await j.get(`http://localhost:5000/materias/profesor/${g.id}`,Ee),Te=Ve.data,De=oe.data,qe=Te.filter($e=>De.some(O=>O.id===$e.id));E(qe);const ct=await j.get(`http://localhost:5000/secciones/grado/${se}`,Ee);ct.data&&Array.isArray(ct.data)&&L(ct.data),qe.length===0?m("No tienes materias asignadas para este grado"):m(""),q(!1)}catch(ve){console.error("Error al cargar materias:",ve),m("Error al cargar las materias disponibles"),q(!1)}else E([])},Q=I=>{const{name:se,value:ve,type:Ee,checked:Ve}=I.target;z({...k,[se]:Ee==="checkbox"?Ve:ve})},xe=I=>{const{name:se,value:ve}=I.target;P({...pe,[se]:ve})},Be=I=>{ze(I.target.files[0])},Le=()=>{te(null),z({nombreEvaluacion:"",descripcion:"",tipoEvaluacion:"",fechaEvaluacion:"",materiaID:"",gradoID:"",seccionID:"",porcentaje:"",lapso:"",requiereEntrega:!1,fechaLimiteEntrega:""}),ze(null),$(!0)},et=I=>{te(I),z({nombreEvaluacion:I.nombreEvaluacion,descripcion:I.descripcion||"",tipoEvaluacion:I.tipoEvaluacion,fechaEvaluacion:I.fechaEvaluacion.split("T")[0],materiaID:I.materiaID.toString(),gradoID:I.gradoID.toString(),seccionID:I.seccionID.toString(),porcentaje:I.porcentaje.toString(),lapso:I.lapso.toString(),requiereEntrega:I.requiereEntrega||!1,fechaLimiteEntrega:I.fechaLimiteEntrega?I.fechaLimiteEntrega.split("T")[0]:""}),ze(null),$(!0)},Je=async I=>{if(confirm("¿Está seguro de eliminar esta evaluación? Esta acción no se puede deshacer."))try{l(!0);const se=localStorage.getItem("token");await j.delete(`http://localhost:5000/evaluaciones/${I}`,{headers:{Authorization:`Bearer ${se}`}}),me(V.filter(ve=>ve.id!==I)),f("Evaluación eliminada correctamente"),setTimeout(()=>f(""),3e3),l(!1)}catch(se){console.error("Error al eliminar evaluación:",se),m("Error al eliminar la evaluación. Por favor, intente nuevamente."),l(!1)}},at=async I=>{I.preventDefault();try{q(!0);const se=localStorage.getItem("token"),ve=new FormData;Object.keys(k).forEach(Ve=>{ve.append(Ve,k[Ve])}),Ce&&ve.append("archivo",Ce);let Ee;X?(Ee=await j.put(`http://localhost:5000/evaluaciones/${X.id}`,ve,{headers:{Authorization:`Bearer ${se}`,"Content-Type":"multipart/form-data"}}),me(V.map(Ve=>Ve.id===X.id?Ee.data:Ve)),f("Evaluación actualizada correctamente")):(ve.append("profesorID",g.id),Ee=await j.post("http://localhost:5000/evaluaciones",ve,{headers:{Authorization:`Bearer ${se}`,"Content-Type":"multipart/form-data"}}),me([...V,Ee.data]),f("Evaluación creada correctamente")),setTimeout(()=>f(""),3e3),$(!1),te(null),q(!1)}catch(se){console.error("Error al guardar evaluación:",se),m("Error al guardar la evaluación. Por favor, intente nuevamente."),q(!1)}},gt=(I,se)=>{B(I),te(se),(async()=>{try{const Ee=localStorage.getItem("token"),Te=(await j.get(`http://localhost:5000/calificaciones/evaluacion/${se.id}`,{headers:{Authorization:`Bearer ${Ee}`}})).data.find(De=>De.estudianteID===I.id);P(Te?{valor:Te.valor,observaciones:Te.observaciones||""}:{valor:"",observaciones:""})}catch(Ee){console.error("Error al buscar calificación:",Ee),P({valor:"",observaciones:""})}})(),ee(!0)},Oe=async I=>{if(I.preventDefault(),!fe||!X){m("Datos incompletos para registrar la calificación");return}try{N(!0);const se=localStorage.getItem("token"),Ve=(await j.get(`http://localhost:5000/calificaciones/evaluacion/${X.id}`,{headers:{Authorization:`Bearer ${se}`}})).data.find(Te=>Te.estudianteID===fe.id);let oe;Ve?(oe=await j.put(`http://localhost:5000/calificaciones/${Ve.id}`,{calificacion:pe.valor,observaciones:pe.observaciones},{headers:{Authorization:`Bearer ${se}`}}),f("Calificación actualizada correctamente")):(oe=await j.post("http://localhost:5000/calificaciones",{personaID:fe.id,evaluacionID:X.id,calificacion:pe.valor,observaciones:pe.observaciones,fecha:new Date().toISOString()},{headers:{Authorization:`Bearer ${se}`}}),f("Calificación registrada correctamente")),setTimeout(()=>f(""),3e3),ee(!1),B(null),te(null),N(!1)}catch(se){console.error("Error al guardar calificación:",se),m("Error al guardar la calificación. Por favor, intente nuevamente."),N(!1)}};return o&&!g?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel del Profesor"}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"text-gray-600 mr-4",children:[g==null?void 0:g.nombre," ",g==null?void 0:g.apellido]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},className:"bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition-colors",children:"Cerrar Sesión"})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:[c&&e.jsx("div",{className:"mb-4 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:e.jsx("p",{children:c})}),x&&e.jsx("div",{className:"mb-4 bg-green-100 border-l-4 border-green-500 text-green-700 p-4",children:e.jsx("p",{children:x})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>p("estudiantes"),className:`${b==="estudiantes"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[e.jsx(br,{className:"inline-block mr-2"})," Estudiantes"]}),e.jsxs("button",{onClick:()=>p("evaluaciones"),className:`${b==="evaluaciones"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[e.jsx(zd,{className:"inline-block mr-2"})," Evaluaciones"]}),e.jsxs("button",{onClick:()=>p("materias"),className:`${b==="materias"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[e.jsx(ci,{className:"inline-block mr-2"})," Materias"]}),e.jsxs("button",{onClick:()=>p("grados"),className:`${b==="grados"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:[e.jsx(Wr,{className:"inline-block mr-2"})," Grados y Secciones"]})]})})}),b==="estudiantes"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mis Estudiantes"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{name:"gradoID",value:ae.gradoID,onChange:Ae,className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Todos los grados"}),_.map(I=>e.jsx("option",{value:I.id,children:I.nombre_grado},I.id))]}),e.jsxs("select",{name:"seccionID",value:ae.seccionID,onChange:Ae,className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",disabled:!ae.gradoID,children:[e.jsx("option",{value:"",children:"Todas las secciones"}),C.filter(I=>!ae.gradoID||I.gradoID===parseInt(ae.gradoID)).map(I=>e.jsx("option",{value:I.id,children:I.nombre_seccion},I.id))]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"busqueda",value:ae.busqueda,onChange:Ae,placeholder:"Buscar estudiante...",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-10"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{className:"text-gray-400"})})]}),e.jsx("button",{onClick:re,className:"px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar filtros"})]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:M.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:M.map(I=>{const se=_.find(Ee=>Ee.id===I.gradoID),ve=C.find(Ee=>Ee.id===I.seccionID);return e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsxs("span",{className:"text-indigo-700 font-semibold",children:[I.nombre.charAt(0),I.apellido.charAt(0)]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-indigo-600",children:[I.nombre," ",I.apellido]}),e.jsx("div",{className:"text-sm text-gray-500",children:I.cedula||"Sin cédula"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"mr-8 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Grado:"})," ",(se==null?void 0:se.nombre_grado)||"No asignado",e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"Sección:"})," ",(ve==null?void 0:ve.nombre_seccion)||"No asignada"]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>n(`/admin/estudiantes/${I.id}`),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Ver detalles"})})]})]})})},I.id)})}):e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center text-gray-500",children:"No se encontraron estudiantes con los filtros seleccionados."})})]}),b==="evaluaciones"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mis Evaluaciones"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("select",{name:"materiaID",value:ae.materiaID,onChange:Ae,className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Todas las materias"}),w.map(I=>e.jsx("option",{value:I.id,children:I.asignatura},I.id))]}),e.jsxs("select",{name:"gradoID",value:ae.gradoID,onChange:Ae,className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",children:[e.jsx("option",{value:"",children:"Todos los grados"}),_.map(I=>e.jsx("option",{value:I.id,children:I.nombre_grado},I.id))]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"busqueda",value:ae.busqueda,onChange:Ae,placeholder:"Buscar evaluación...",className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-10"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(pr,{className:"text-gray-400"})})]}),e.jsx("button",{onClick:re,className:"px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Limpiar filtros"}),e.jsxs("button",{onClick:Le,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(rs,{className:"mr-2"})," Nueva Evaluación"]})]})]}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:be.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:be.map(I=>{const se=w.find(Ve=>Ve.id===I.materiaID),ve=_.find(Ve=>Ve.id===I.gradoID),Ee=C.find(Ve=>Ve.id===I.seccionID);return e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-indigo-600",children:I.nombreEvaluacion}),e.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Materia:"})," ",(se==null?void 0:se.asignatura)||"No disponible",e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"Grado:"})," ",(ve==null?void 0:ve.nombre_grado)||"No disponible",e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"Sección:"})," ",(Ee==null?void 0:Ee.nombre_seccion)||"No disponible"]}),e.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"})," ",I.tipoEvaluacion,e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"Fecha:"})," ",new Date(I.fechaEvaluacion).toLocaleDateString(),e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"Lapso:"})," ",I.lapso,e.jsx("span",{className:"mx-2",children:"|"}),e.jsx("span",{className:"font-medium",children:"Porcentaje:"})," ",I.porcentaje,"%"]}),I.descripcion&&e.jsxs("div",{className:"mt-1 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Descripción:"})," ",I.descripcion]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>et(I),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(ds,{className:"mr-1"})," Editar"]}),e.jsxs("button",{onClick:()=>Je(I.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(Pt,{className:"mr-1"})," Eliminar"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Calificar Estudiantes:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:T.filter(Ve=>Ve.gradoID===I.gradoID&&Ve.seccionID===I.seccionID).map(Ve=>e.jsxs("button",{onClick:()=>gt(Ve,I),className:"text-left px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50",children:[Ve.nombre," ",Ve.apellido]},Ve.id))})]})]})},I.id)})}):e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center text-gray-500",children:"No se encontraron evaluaciones con los filtros seleccionados."})})]}),b==="materias"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Mis Materias"}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:w.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:w.map(I=>{const se=_.filter(ve=>I.grados&&I.grados.some(Ee=>Ee.id===ve.id));return e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-indigo-600",children:I.asignatura}),e.jsx("div",{className:"mt-1 text-sm text-gray-500",children:I.descripcion||"Sin descripción"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Grados:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:se.length>0?se.map(ve=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:ve.nombre_grado},ve.id)):e.jsx("span",{className:"text-sm text-gray-500",children:"No asignada a ningún grado"})})]})]})})})},I.id)})}):e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center text-gray-500",children:"No tiene materias asignadas."})})]}),b==="grados"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:"Mis Grados y Secciones"}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:_.length>0?e.jsx("ul",{className:"divide-y divide-gray-200",children:_.map(I=>{const se=C.filter(ve=>ve.gradoID===I.id);return e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-indigo-600",children:I.nombre_grado}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Secciones:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:se.length>0?se.map(ve=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:ve.nombre_seccion},ve.id)):e.jsx("span",{className:"text-sm text-gray-500",children:"No hay secciones asignadas"})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Materias:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:w.filter(ve=>ve.grados&&ve.grados.some(Ee=>Ee.id===I.id)).map(ve=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:ve.asignatura},ve.id))})]})]})})},I.id)})}):e.jsx("div",{className:"px-4 py-5 sm:px-6 text-center text-gray-500",children:"No tiene grados asignados."})})]})]}),F&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-3xl sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:X?"Editar Evaluación":"Nueva Evaluación"}),e.jsx("div",{className:"mt-2",children:e.jsx("form",{onSubmit:at,className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"nombreEvaluacion",className:"block text-sm font-medium text-gray-700",children:"Nombre de la Evaluación"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"text",id:"nombreEvaluacion",name:"nombreEvaluacion",value:k.nombreEvaluacion,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700",children:"Descripción"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"descripcion",name:"descripcion",rows:"3",value:k.descripcion,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"tipoEvaluacion",className:"block text-sm font-medium text-gray-700",children:"Tipo de Evaluación"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"tipoEvaluacion",name:"tipoEvaluacion",value:k.tipoEvaluacion,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un tipo"}),e.jsx("option",{value:"Examen",children:"Examen"}),e.jsx("option",{value:"Tarea",children:"Tarea"}),e.jsx("option",{value:"Proyecto",children:"Proyecto"}),e.jsx("option",{value:"Exposición",children:"Exposición"}),e.jsx("option",{value:"Participación",children:"Participación"}),e.jsx("option",{value:"Prueba Corta",children:"Prueba Corta"}),e.jsx("option",{value:"Otro",children:"Otro"})]})})]}),e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"fechaEvaluacion",className:"block text-sm font-medium text-gray-700",children:"Fecha de Evaluación"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",id:"fechaEvaluacion",name:"fechaEvaluacion",value:k.fechaEvaluacion,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"gradoID",className:"block text-sm font-medium text-gray-700",children:"Grado"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"gradoID",name:"gradoID",value:k.gradoID,onChange:Se,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un grado"}),_.map(I=>e.jsx("option",{value:I.id,children:I.nombre_grado},I.id))]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"seccionID",className:"block text-sm font-medium text-gray-700",children:"Sección"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"seccionID",name:"seccionID",value:k.seccionID,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,disabled:!k.gradoID,children:[e.jsx("option",{value:"",children:"Seleccione una sección"}),C.filter(I=>!k.gradoID||I.gradoID===parseInt(k.gradoID)).map(I=>e.jsx("option",{value:I.id,children:I.nombre_seccion},I.id))]})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"materiaID",className:"block text-sm font-medium text-gray-700",children:"Materia"}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("select",{id:"materiaID",name:"materiaID",value:k.materiaID,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,disabled:!k.gradoID||w.length===0,children:[e.jsx("option",{value:"",children:"Seleccione una materia"}),w.map(I=>e.jsx("option",{value:I.id,children:I.asignatura},I.id))]}),w.length===0&&k.gradoID&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:"No tienes materias asignadas para este grado"})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"porcentaje",className:"block text-sm font-medium text-gray-700",children:"Porcentaje (%)"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",id:"porcentaje",name:"porcentaje",min:"1",max:"100",value:k.porcentaje,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"lapso",className:"block text-sm font-medium text-gray-700",children:"Lapso"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"lapso",name:"lapso",value:k.lapso,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Seleccione un lapso"}),e.jsx("option",{value:"1",children:"Primer Lapso"}),e.jsx("option",{value:"2",children:"Segundo Lapso"}),e.jsx("option",{value:"3",children:"Tercer Lapso"})]})})]}),e.jsx("div",{className:"sm:col-span-2",children:e.jsxs("div",{className:"flex items-start mt-6",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"requiereEntrega",name:"requiereEntrega",type:"checkbox",checked:k.requiereEntrega,onChange:Q,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e.jsx("div",{className:"ml-3 text-sm",children:e.jsx("label",{htmlFor:"requiereEntrega",className:"font-medium text-gray-700",children:"Requiere entrega"})})]})}),k.requiereEntrega&&e.jsxs("div",{className:"sm:col-span-3",children:[e.jsx("label",{htmlFor:"fechaLimiteEntrega",className:"block text-sm font-medium text-gray-700",children:"Fecha Límite de Entrega"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"date",id:"fechaLimiteEntrega",name:"fechaLimiteEntrega",value:k.fechaLimiteEntrega,onChange:Q,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:k.requiereEntrega})})]}),e.jsxs("div",{className:"sm:col-span-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Archivo adjunto (opcional)"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500",children:[e.jsx("span",{children:"Subir un archivo"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:Be})]}),e.jsx("p",{className:"pl-1",children:"o arrastrar y soltar"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, PPT, PPTX hasta 10MB"}),Ce&&e.jsxs("p",{className:"text-sm text-indigo-600 mt-2",children:["Archivo seleccionado: ",Ce.name]})]})})]})]})})})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:at,disabled:J,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:J?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(gr,{className:"mr-2"})," ",X?"Actualizar":"Crear"]})}),e.jsx("button",{type:"button",onClick:()=>{$(!1),te(null),z(initialEvaluacionForm),ze(null),m("")},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})}),K&&e.jsx("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"​"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsx("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:e.jsx("div",{className:"sm:flex sm:items-start",children:e.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:"Calificar Estudiante"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Estudiante:"})," ",fe==null?void 0:fe.nombre," ",fe==null?void 0:fe.apellido]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Evaluación:"})," ",X==null?void 0:X.nombreEvaluacion]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Tipo:"})," ",X==null?void 0:X.tipoEvaluacion]}),e.jsxs("p",{className:"text-sm text-gray-700 mt-1",children:[e.jsx("span",{className:"font-medium",children:"Fecha:"})," ",X?new Date(X.fechaEvaluacion).toLocaleDateString():""]})]}),e.jsxs("form",{onSubmit:Oe,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"valor",className:"block text-sm font-medium text-gray-700",children:"Calificación (0-20)"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{type:"number",id:"valor",name:"valor",min:"0",max:"20",step:"0.1",value:pe.valor,onChange:xe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"observaciones",className:"block text-sm font-medium text-gray-700",children:"Observaciones"}),e.jsx("div",{className:"mt-1",children:e.jsx("textarea",{id:"observaciones",name:"observaciones",rows:"3",value:pe.observaciones,onChange:xe,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]})]})]})]})})}),e.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[e.jsx("button",{type:"button",onClick:Oe,disabled:de,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50",children:de?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Guardando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(gr,{className:"mr-2"})," Guardar Calificación"]})}),e.jsx("button",{type:"button",onClick:()=>{ee(!1),B(null),te(null)},className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Cancelar"})]})]})]})})]})};function $d(){const n=Rt(),o=ms(),[l,c]=u.useState(!1),[m,x]=u.useState(null);u.useEffect(()=>{const v=localStorage.getItem("token"),S=localStorage.getItem("user");v&&S&&(c(!0),x(JSON.parse(S)))},[]);const f=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),c(!1),x(null),n("/")},b=v=>o.pathname===v,p=()=>{if(!m||!m.tipo)return"/dashboard/representante";switch(m.tipo){case"profesor":return"/profesor/dashboard";case"representante":return"/dashboard/representante";case"adminWeb":case"owner":return"/admin/dashboard";default:return"/dashboard/representante"}},g=(v,S,R)=>{const w="p-2 rounded-2xl transition-all transition-discrete";return b(v)?`${w} ${S.replace("hover:","")} ${R.replace("hover:","")}`:`${w} ${S} ${R}`};return e.jsx("nav",{className:"fixed w-full pl-5 pr-5 my-3 z-50 rounded-md",children:e.jsxs("div",{className:"nav-contenedor flex-row items-center justify-between rounded-sm mx-25 my-3 z-40 bg-white px-5",children:[e.jsx("div",{className:"nav-logo",children:e.jsx(Pe,{to:"/",children:e.jsx("img",{src:"../img/1.colegioLogo.png",alt:"Brisas de Mamporal"})})}),e.jsxs("div",{className:"nav-pages",children:[e.jsx("div",{children:e.jsx(Pe,{to:"/",className:g("/","hover:bg-blue-100","hover:text-blue-600"),children:"Inicio"})}),e.jsx("div",{children:e.jsx(Pe,{to:"/nuestra-institucion",className:g("/nuestra-institucion","hover:bg-red-100","hover:text-red-600"),children:"Nuestra Institución"})}),e.jsx("div",{children:e.jsx(Pe,{to:"/calendario-academico",className:g("/calendario-academico","hover:bg-green-100","hover:text-green-600"),children:"Calendario académico"})}),l&&e.jsx("div",{children:e.jsx(Pe,{to:p(),className:g(p(),"hover:bg-purple-100","hover:text-purple-600"),children:"Dashboard"})})]}),e.jsx("div",{className:"nav-button",children:l?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-700",children:(m==null?void 0:m.nombres)||(m==null?void 0:m.nombre)}),e.jsx("button",{onClick:f,className:"border border-red-700 text-zinc-900 p-2 rounded-md hover:bg-red-700 hover:text-amber-50 transition-all transition-discrete cursor-pointer",children:"Cerrar sesión"})]}):e.jsx(Pe,{to:"/login",children:e.jsx("button",{className:"border border-green-700 text-zinc-900 p-2 rounded-md hover:bg-green-700 hover:text-amber-50 transition-all transition-discrete cursor-pointer",children:"Iniciar sesión"})})})]})})}function Av(){const n=u.useRef(null),o=l=>{if(!n.current)return;const c=n.current.children;l==="next"?n.current.appendChild(c[0]):l==="prev"&&n.current.insertBefore(c[c.length-1],c[0])};return e.jsx("section",{className:"carrusel",children:e.jsxs("div",{className:"carrousel",children:[e.jsxs("ul",{className:"slider",ref:n,children:[e.jsx("li",{className:"item",style:{backgroundImage:'url("../img/brisas-pic3.jpg")'},children:e.jsxs("div",{className:"content",children:[e.jsx("h2",{className:"title",children:'"Lossless Youths"'}),e.jsx("p",{className:"description",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure corporis inventore praesentium nisi. Id laboriosam ipsam enim."}),e.jsx("button",{children:"Read More"})]})}),e.jsx("li",{className:"item",style:{backgroundImage:'url("../img/brisas-pic4.jpg")'},children:e.jsxs("div",{className:"content",children:[e.jsx("h2",{className:"title",children:"Bienvenido a Brisas de Mamporal"}),e.jsx("p",{className:"description",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure corporis inventore praesentium nisi. Id laboriosam ipsam enim."}),e.jsx("button",{children:"Read More"})]})}),e.jsx("li",{className:"item",style:{backgroundImage:'url("../img/brisas-pic6.jpg")'},children:e.jsxs("div",{className:"content",children:[e.jsx("h2",{className:"title",children:'"The Gate Keeper"'}),e.jsx("p",{className:"description",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure corporis inventore praesentium nisi. Id laboriosam ipsam enim."}),e.jsx("button",{children:"Read More"})]})}),e.jsx("li",{className:"item",style:{backgroundImage:'url("../img/brisas-pic5.webp")'},children:e.jsxs("div",{className:"content",children:[e.jsx("h2",{className:"title",children:'"Last Trace Of Us"'}),e.jsx("p",{className:"description",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure corporis inventore praesentium nisi. Id laboriosam ipsam enim."}),e.jsx("button",{children:"Read More"})]})}),e.jsx("li",{className:"item",style:{backgroundImage:'url("../img/brisas-pic1.png")'},children:e.jsxs("div",{className:"content",children:[e.jsx("h2",{className:"title",children:'"Urban Decay"'}),e.jsx("p",{className:"description",children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Tempore fuga voluptatum, iure corporis inventore praesentium nisi. Id laboriosam ipsam enim."}),e.jsx("button",{children:"Read More"})]})})]}),e.jsxs("nav",{className:"nav",children:[e.jsx("button",{className:"btn prev",onClick:()=>o("prev"),children:e.jsx("ion-icon",{name:"arrow-back-outline",children:"←"})}),e.jsx("button",{className:"btn next",onClick:()=>o("next"),children:e.jsx("ion-icon",{name:"arrow-forward-outline",children:"→"})})]})]})})}function Rv(){return e.jsxs("section",{className:"p-5 my-7 flex flex-col",children:[e.jsxs("div",{className:"text-focus-in mb-10",children:[e.jsx("h1",{className:"text-4xl font-bold text-blue-700 mb-4",children:"Inscripciones en línea y automáticas"}),e.jsx("p",{className:"text-xl text-gray-700",children:"En Brisas de Mamporal hemos implementado un sistema de inscripción en línea para facilitar el proceso a los representantes. Ahora puedes inscribir a tus hijos desde la comodidad de tu hogar, siguiendo unos sencillos pasos."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:"text-blue-600text-4xl font-bold mb-4",children:"01"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Registro de Representante"}),e.jsx("p",{className:"text-gray-600",children:"El primer paso es registrarte como representante en nuestra plataforma. Necesitarás proporcionar tus datos personales y verificar tu correo electrónico."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:"text-blue-600text-4xl font-bold mb-4",children:"02"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Inscripción de Estudiantes"}),e.jsx("p",{className:"text-gray-600",children:"Una vez registrado, podrás inscribir a tus hijos proporcionando sus datos y adjuntando los documentos requeridos."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.jsx("div",{className:"text-blue-600text-4xl font-bold mb-4",children:"03"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Comprobante y Aprobación"}),e.jsx("p",{className:"text-gray-600",children:"Al finalizar la inscripción, recibirás un comprobante que deberás presentar en la institución para su firma. La inscripción será revisada y aprobada por la administración."})]})]}),e.jsx("div",{className:"mt-12 text-center",children:e.jsx(Pe,{to:"/register",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-all",children:"Comenzar el proceso de inscripción"})}),e.jsxs("div",{className:"mt-16 bg-gray-50 p-8 rounded-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Beneficios de nuestro sistema"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Proceso simplificado"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Inscribe a tus hijos sin hacer largas filas ni trámites complicados."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ahorro de tiempo"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Completa el proceso en minutos, desde cualquier lugar y a cualquier hora."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Documentación digital"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Adjunta los documentos requeridos en formato digital, sin necesidad de fotocopias."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Seguimiento en línea"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Consulta el estado de la inscripción, notas y pagos desde tu perfil de representante."})]})]})]})]}),e.jsxs("div",{className:"mt-16 bg-blue-50 p-8 rounded-lg",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Nuestra Institución"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"La Unidad Educativa Brisas de Mamporal es una institución comprometida con la excelencia académica y la formación integral de nuestros estudiantes desde 1995."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Ofrecemos educación de calidad desde preescolar hasta bachillerato, con un equipo docente altamente calificado y dedicado al desarrollo de las capacidades y talentos de cada estudiante."}),e.jsx("div",{className:"mt-6",children:e.jsxs(Pe,{to:"/nuestra-institucion",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:["Conocer más sobre nuestra institución",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]}),e.jsx("div",{className:"md:w-1/2",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-2",children:"Misión"}),e.jsx("p",{className:"text-gray-600",children:"Formar estudiantes integrales con valores y competencias para enfrentar los desafíos del futuro."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-2",children:"Visión"}),e.jsx("p",{className:"text-gray-600",children:"Ser referentes en educación de calidad, innovación pedagógica y formación en valores."})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-2",children:"Valores"}),e.jsx("p",{className:"text-gray-600",children:"Respeto, responsabilidad, excelencia, solidaridad e innovación son los pilares de nuestra comunidad educativa."})]})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(Pe,{to:"/calendario-academico",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-all",children:"Ver Calendario Académico"})})]})]})}const zv=()=>{const{theme:n}=ih(),o=c=>{if(c.includes(`-${currentTheme}-`))return c;const m=c.match(/(bg|text|border|hover:bg|hover:text|focus:ring|focus:border)-(indigo|red|blue|green)-(\d+)/);if(!m)return c;const[,x,,f]=m;let b;switch(x){case"bg":b=f;break;case"text":b=`text${f}`;break;case"border":b=`border${f}`;break;case"hover:bg":b=`hover${f}`;break;case"hover:text":b=`hoverText${f}`;break;case"focus:ring":b="focusRing";break;case"focus:border":b="focusBorder";break;default:return c}return n[b]||c};return{themedClasses:c=>c?c.split(" ").map(m=>o(m)).join(" "):""}},Tv=()=>{const{setTheme:n}=ih();return zv(),u.useEffect(()=>{n("red")},[n]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx($d,{}),e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16 mt-16",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Unidad Educativa Brisas de Mamporal"}),e.jsx("p",{className:"max-w-3xl mt-5 mx-auto text-xl text-gray-500",children:"Formando líderes del futuro desde 1995"})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"Nuestra Historia"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"La Unidad Educativa Brisas de Mamporal fue fundada en 1995 con la visión de ofrecer una educación de calidad a la comunidad de Mamporal y sus alrededores. Lo que comenzó como una pequeña escuela con apenas 50 estudiantes, ha crecido hasta convertirse en una institución educativa de referencia en la región."}),e.jsx("p",{className:"text-gray-700 mb-4",children:"A lo largo de estos años, hemos formado a miles de estudiantes que hoy son profesionales exitosos y ciudadanos comprometidos con el desarrollo de su comunidad y del país."}),e.jsx("p",{className:"text-gray-700",children:"Nuestra trayectoria está marcada por un constante compromiso con la innovación pedagógica, la formación en valores y la excelencia académica, adaptándonos a los cambios y desafíos de cada época para ofrecer siempre la mejor educación posible."})]}),e.jsxs("div",{className:"bg-gray-100 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Hitos importantes"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{className:"flex items-start",children:e.jsx("span",{className:"ml-3 text-gray-700",children:"Fundación de la institución con educación primaria"})}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-red-50 flex items-center justify-center text-black text-sm font-medium",children:"00"}),e.jsx("span",{className:"ml-3 text-gray-700",children:"Ampliación a educación secundaria"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-red-50 flex items-center justify-center text-black text-sm font-medium",children:"05"}),e.jsx("span",{className:"ml-3 text-gray-700",children:"Inauguración de nuevas instalaciones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-red-50 flex items-center justify-center text-black text-sm font-medium",children:"10"}),e.jsx("span",{className:"ml-3 text-gray-700",children:"Implementación de laboratorios de ciencias y tecnología"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-red-50 flex items-center justify-center text-black text-sm font-medium",children:"15"}),e.jsx("span",{className:"ml-3 text-gray-700",children:"Reconocimiento como institución de excelencia educativa"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-red-50 flex items-center justify-center text-black text-sm font-medium",children:"20"}),e.jsx("span",{className:"ml-3 text-gray-700",children:"Celebración de 25 años de trayectoria educativa"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-red-50 flex items-center justify-center text-black text-sm font-medium",children:"23"}),e.jsx("span",{className:"ml-3 text-gray-700",children:"Lanzamiento del sistema de inscripción y gestión en línea"})]})]})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"Filosofía Institucional"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-semibold text-red-800 mb-4",children:"Misión"}),e.jsx("p",{className:"text-gray-700",children:"Formar estudiantes integrales con sólidos conocimientos académicos, valores éticos y morales, y habilidades para la vida, capaces de contribuir positivamente a la sociedad y enfrentar los desafíos del mundo contemporáneo con responsabilidad y compromiso."})]}),e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-semibold text-red-800 mb-4",children:"Visión"}),e.jsx("p",{className:"text-gray-700",children:"Ser una institución educativa líder y referente en la región, reconocida por su excelencia académica, innovación pedagógica, formación en valores y compromiso con el desarrollo sostenible, que prepara a sus estudiantes para ser ciudadanos globales y agentes de cambio positivo."})]}),e.jsxs("div",{className:"bg-red-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-2xl font-semibold text-red-800 mb-4",children:"Valores"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Respeto:"})," Valoramos la dignidad de cada persona."]})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Responsabilidad:"})," Asumimos las consecuencias de nuestras acciones."]})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Excelencia:"})," Buscamos la mejora continua en todo lo que hacemos."]})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Solidaridad:"})," Nos apoyamos mutuamente como comunidad."]})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("span",{children:[e.jsx("strong",{children:"Innovación:"})," Fomentamos la creatividad y el pensamiento crítico."]})]})]})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"Oferta Educativa"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"h-12 w-12 rounded-md bg-red-600 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Educación Inicial"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Primer acercamiento de los niños al entorno escolar, donde desarrollan habilidades sociales, motoras y cognitivas a través del juego y la exploración."}),e.jsxs("ul",{className:"text-gray-600 space-y-1",children:[e.jsx("li",{children:"• Maternal (3 años)"}),e.jsx("li",{children:"• Preescolar I (4 años)"}),e.jsx("li",{children:"• Preescolar II (5 años)"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"h-12 w-12 rounded-md bg-red-600 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Educación Primaria"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Formación integral que desarrolla competencias básicas en lectura, escritura, matemáticas, ciencias y valores, fomentando la curiosidad y el amor por el aprendizaje."}),e.jsxs("ul",{className:"text-gray-600 space-y-1",children:[e.jsx("li",{children:"• 1° a 6° grado"}),e.jsx("li",{children:"• Programa de inglés intensivo"}),e.jsx("li",{children:"• Actividades deportivas y culturales"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"h-12 w-12 rounded-md bg-red-600 flex items-center justify-center mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Educación Secundaria"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Preparación académica avanzada que profundiza en las diferentes áreas del conocimiento, desarrollando el pensamiento crítico y preparando a los estudiantes para la educación superior."}),e.jsxs("ul",{className:"text-gray-600 space-y-1",children:[e.jsx("li",{children:"• 1° a 5° año"}),e.jsx("li",{children:"• Orientación vocacional"}),e.jsx("li",{children:"• Proyectos de investigación"})]})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"Nuestras Instalaciones"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 mb-6",children:"Contamos con modernas instalaciones diseñadas para proporcionar un ambiente seguro, cómodo y estimulante para el aprendizaje. Nuestros espacios están adaptados a las necesidades de cada nivel educativo y equipados con tecnología de vanguardia."}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Aulas"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Espaciosas, ventiladas y equipadas con recursos tecnológicos."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Laboratorios"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"De ciencias, informática y robótica para el aprendizaje práctico."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Biblioteca"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Amplia colección de libros, recursos digitales y espacios de estudio."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Áreas deportivas"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Canchas multiusos, piscina y espacios para actividades físicas."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Áreas recreativas"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Patios, jardines y zonas de juego adaptadas a cada edad."})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-700 mb-2",children:"Auditorio"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Para eventos, presentaciones y actividades culturales."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-red-100 rounded-lg h-48 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500 font-medium",children:"Imagen de aulas"})}),e.jsx("div",{className:"bg-red-100 rounded-lg h-48 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500 font-medium",children:"Imagen de laboratorio"})}),e.jsx("div",{className:"bg-red-100 rounded-lg h-48 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500 font-medium",children:"Imagen de biblioteca"})}),e.jsx("div",{className:"bg-red-100 rounded-lg h-48 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500 font-medium",children:"Imagen de áreas deportivas"})})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"Equipo Docente"}),e.jsx("p",{className:"text-gray-700 mb-8",children:"Nuestro equipo está formado por profesionales altamente calificados, con amplia experiencia en el ámbito educativo y comprometidos con la formación integral de nuestros estudiantes. Todos nuestros docentes participan en programas de formación continua para mantenerse actualizados en las últimas tendencias pedagógicas y tecnológicas."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 w-32 rounded-full bg-red-100 mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500",children:"Foto"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Prof. María González"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Directora Académica"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 w-32 rounded-full bg-red-100 mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500",children:"Foto"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Prof. Carlos Rodríguez"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Coordinador de Primaria"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 w-32 rounded-full bg-red-100 mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500",children:"Foto"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Prof. Ana Martínez"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Coordinadora de Secundaria"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-32 w-32 rounded-full bg-red-100 mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-red-500",children:"Foto"})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Prof. Luis Pérez"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Coordinador de Tecnología"})]})]})]})}),e.jsx("div",{className:"bg-red-50 overflow-hidden shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-700 mb-6",children:"Contáctanos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 mb-6",children:"Si deseas más información sobre nuestra institución, proceso de inscripción o cualquier otra consulta, no dudes en contactarnos. Estaremos encantados de atenderte."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{className:"h-6 w-6 text-red-600 mt-1 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Dirección"}),e.jsx("p",{className:"text-gray-600",children:"Av. Principal de Mamporal, Sector Brisas, Estado Miranda, Venezuela"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-6 w-6 text-red-600 mt-1 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Teléfonos"}),e.jsx("p",{className:"text-gray-600",children:"(0234) 123-4567 / (0414) 987-6543"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-6 w-6 text-red-600 mt-1 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Correo electrónico"}),e.jsx("p",{className:"text-gray-600",children:"info@brisasdemamporal.edu.ve"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-6 w-6 text-red-600 mt-1 mr-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Horario de atención"}),e.jsx("p",{className:"text-gray-600",children:"Lunes a Viernes: 7:00 AM - 4:00 PM"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Envíanos un mensaje"}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre completo"}),e.jsx("input",{type:"text",id:"name",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo electrónico"}),e.jsx("input",{type:"email",id:"email",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700",children:"Asunto"}),e.jsx("input",{type:"text",id:"subject",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Mensaje"}),e.jsx("textarea",{id:"message",rows:"4",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-red-500 focus:border-red-500 sm:text-sm"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Enviar mensaje"})})]})]})]})]})}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Enlaces rápidos"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Pe,{to:"/calendario-academico",className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:"Calendario Académico"}),e.jsx(Pe,{to:"/register",className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:"Proceso de Inscripción"}),e.jsx(Pe,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:"Acceso a Representantes"}),e.jsx(Pe,{to:"/registro-profesor",className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:"Acceso a Profesores"})]})]})]})]})},Mv=()=>{const[n,o]=u.useState(null),[l,c]=u.useState(!0),[m,x]=u.useState(null),f=[{mes:"Septiembre",eventos:[{fecha:"01/09/2023",titulo:"Inicio del año escolar",descripcion:"Bienvenida a todos los estudiantes"},{fecha:"15/09/2023",titulo:"Acto de Independencia",descripcion:"Conmemoración de la Independencia"}]},{mes:"Octubre",eventos:[{fecha:"12/10/2023",titulo:"Día de la Resistencia Indígena",descripcion:"Actividades culturales"},{fecha:"31/10/2023",titulo:"Festival de Otoño",descripcion:"Actividades recreativas para los estudiantes"}]},{mes:"Noviembre",eventos:[{fecha:"15/11/2023",titulo:"Entrega de boletines primer lapso",descripcion:"Reunión con representantes"},{fecha:"20/11/2023",titulo:"Semana de la Ciencia",descripcion:"Exposiciones de proyectos científicos"}]},{mes:"Diciembre",eventos:[{fecha:"08/12/2023",titulo:"Acto de Navidad",descripcion:"Presentaciones artísticas navideñas"},{fecha:"15/12/2023",titulo:"Cierre del primer trimestre",descripcion:"Último día de clases antes de vacaciones"}]},{mes:"Enero",eventos:[{fecha:"08/01/2024",titulo:"Reinicio de actividades",descripcion:"Regreso a clases después de vacaciones"},{fecha:"15/01/2024",titulo:"Jornada de orientación vocacional",descripcion:"Para estudiantes de último año"}]},{mes:"Febrero",eventos:[{fecha:"12/02/2024",titulo:"Carnaval escolar",descripcion:"Actividades recreativas y culturales"},{fecha:"28/02/2024",titulo:"Entrega de boletines segundo lapso",descripcion:"Reunión con representantes"}]},{mes:"Marzo",eventos:[{fecha:"08/03/2024",titulo:"Día Internacional de la Mujer",descripcion:"Charlas y actividades especiales"},{fecha:"22/03/2024",titulo:"Día Mundial del Agua",descripcion:"Actividades de concientización ambiental"}]},{mes:"Abril",eventos:[{fecha:"07/04/2024",titulo:"Semana Santa",descripcion:"Receso escolar"},{fecha:"19/04/2024",titulo:"Día de la Declaración de Independencia",descripcion:"Acto conmemorativo"}]},{mes:"Mayo",eventos:[{fecha:"01/05/2024",titulo:"Día del Trabajador",descripcion:"Feriado nacional"},{fecha:"15/05/2024",titulo:"Olimpiadas deportivas",descripcion:"Competencias deportivas intercolegiales"}]},{mes:"Junio",eventos:[{fecha:"05/06/2024",titulo:"Día Mundial del Ambiente",descripcion:"Jornada de limpieza y concientización"},{fecha:"24/06/2024",titulo:"Batalla de Carabobo",descripcion:"Acto conmemorativo"}]},{mes:"Julio",eventos:[{fecha:"05/07/2024",titulo:"Día de la Independencia",descripcion:"Acto conmemorativo"},{fecha:"15/07/2024",titulo:"Cierre del año escolar",descripcion:"Entrega de boletines finales y graduación"}]}];return u.useEffect(()=>{(async()=>{try{c(!0);const p=await j.get("http://localhost:5000/anno-escolar/actual");o(p.data),c(!1)}catch(p){console.error("Error al obtener el año escolar:",p),x("No se pudo cargar la información del año escolar"),c(!1)}})()},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx($d,{}),e.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16 mt-16",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl",children:"Calendario Académico"}),l?e.jsx("p",{className:"mt-5 text-xl text-gray-500",children:"Cargando información..."}):m?e.jsx("p",{className:"mt-5 text-xl text-red-500",children:m}):e.jsxs("p",{className:"mt-5 text-xl text-gray-500",children:["Año Escolar ",(n==null?void 0:n.periodo)||"2023-2024"]})]}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-green-700 mb-6",children:"Información General"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-4",children:"Períodos Académicos"}),e.jsxs("ul",{className:"space-y-3 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Primer Lapso:"})," Septiembre - Diciembre"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Segundo Lapso:"})," Enero - Marzo"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Tercer Lapso:"})," Abril - Julio"]})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-4",children:"Horarios"}),e.jsxs("ul",{className:"space-y-3 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Educación Inicial:"})," 8:00 AM - 12:00 PM"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Educación Primaria:"})," 7:30 AM - 1:30 PM"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Educación Secundaria:"})," 7:00 AM - 2:00 PM"]})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-4",children:"Fechas Importantes"}),e.jsxs("ul",{className:"space-y-3 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Inicio de clases:"})," 01/09/2023"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Vacaciones de Navidad:"})," 16/12/2023 - 07/01/2024"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mt-0.5 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{children:"Fin de año escolar:"})," 15/07/2024"]})]})]})]})]})]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-green-700 mb-6",children:"Calendario Mensual"}),e.jsx("div",{className:"space-y-12",children:f.map((b,p)=>e.jsxs("div",{className:"border-b border-gray-200 pb-8 last:border-b-0 last:pb-0",children:[e.jsx("h3",{className:"text-2xl font-semibold text-green-600 mb-6",children:b.mes}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Evento"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.eventos.map((g,v)=>e.jsxs("tr",{className:v%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.fecha}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.titulo}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:g.descripcion})]},v))})]})})]},p))})]})}),e.jsx("div",{className:"bg-green-50 overflow-hidden shadow rounded-lg mb-12",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-green-700 mb-6",children:"Documentos Descargables"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("svg",{className:"h-12 w-12 text-green-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Calendario Completo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Descarga el calendario académico completo en formato PDF."}),e.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium flex items-center",children:["Descargar PDF",e.jsx("svg",{className:"ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("svg",{className:"h-12 w-12 text-green-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Horarios por Grado"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Descarga los horarios específicos para cada grado y sección."}),e.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium flex items-center",children:["Descargar PDF",e.jsx("svg",{className:"ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("svg",{className:"h-12 w-12 text-green-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Planificación Anual"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Descarga la planificación anual de actividades académicas y extracurriculares."}),e.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium flex items-center",children:["Descargar PDF",e.jsx("svg",{className:"ml-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Enlaces rápidos"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[e.jsx(Pe,{to:"/nuestra-institucion",className:"inline-flex items-center px-4 py-2 border border-green-300 rounded-md shadow-sm text-sm font-medium text-green-700 bg-white hover:bg-green-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Nuestra Institución"}),e.jsx(Pe,{to:"/register",className:"inline-flex items-center px-4 py-2 border border-green-300 rounded-md shadow-sm text-sm font-medium text-green-700 bg-white hover:bg-green-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Proceso de Inscripción"}),e.jsx(Pe,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-green-300 rounded-md shadow-sm text-sm font-medium text-green-700 bg-white hover:bg-green-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Inicio de sesión"})]})]})]})]})},St=({children:n,allowedRoles:o=[]})=>{const l=localStorage.getItem("token"),c=JSON.parse(localStorage.getItem("user")||"{}");return l?o.length>0&&!o.includes(c.tipo)?e.jsx(dd,{to:"/",replace:!0}):n:e.jsx(dd,{to:"/login",replace:!0})},$v=()=>e.jsxs("div",{className:"min-h-screen",children:[e.jsx($d,{}),e.jsx(Av,{}),e.jsx(Rv,{})]});function _v(){const[n,o]=u.useState(!1);return u.useEffect(()=>{const l=localStorage.getItem("token");o(!!l)},[]),e.jsx(Db,{children:e.jsx(pb,{children:e.jsxs(Xp,{children:[e.jsx(ot,{path:"/",element:e.jsx($v,{})}),e.jsx(ot,{path:"/nuestra-institucion",element:e.jsx(Tv,{})}),e.jsx(ot,{path:"/calendario-academico",element:e.jsx(Mv,{})}),e.jsx(ot,{path:"/register",element:e.jsx(Ox,{},"register")}),e.jsx(ot,{path:"/registro-profesor",element:e.jsx(Ox,{})}),e.jsx(ot,{path:"/verificacion-email",element:e.jsx(sy,{})}),e.jsx(ot,{path:"/login",element:e.jsx(ay,{})}),e.jsx(ot,{path:"/recuperar-password",element:e.jsx(cy,{})}),e.jsx(ot,{path:"/reset-password",element:e.jsx(dy,{})}),e.jsx(ot,{path:"/dashboard/representante",element:e.jsx(St,{allowedRoles:["representante","adminWeb","owner"],children:e.jsx(Ly,{})})}),e.jsx(ot,{path:"/inscripcion/nuevo-estudiante",element:e.jsx(St,{allowedRoles:["representante","adminWeb","owner"],children:e.jsx(Py,{})})}),e.jsx(ot,{path:"/inscripcion/comprobante/:inscripcionId",element:e.jsx(St,{children:e.jsx(Fy,{})})}),e.jsx(ot,{path:"/estudiante/:estudianteId",element:e.jsx(St,{children:e.jsx(Gy,{})})}),e.jsx(ot,{path:"/pagos/registrar/:inscripcionId",element:e.jsx(St,{allowedRoles:["representante","adminWeb","owner"],children:e.jsx(my,{})})}),e.jsx(ot,{path:"/admin/dashboard",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Jy,{})})}),e.jsx(ot,{path:"/admin/estudiantes",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Fx,{})})}),e.jsx(ot,{path:"/admin/cupos",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Wy,{})})}),e.jsx(ot,{path:"/admin/academico/grados",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(ev,{})})}),e.jsx(ot,{path:"/admin/academico/grados/:id/editar",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(tv,{})})}),e.jsx(ot,{path:"/admin/academico/materias",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(sv,{})})}),e.jsx(ot,{path:"/admin/academico/secciones",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(gv,{})})}),e.jsx(ot,{path:"/admin/inscripciones",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(pv,{})})}),e.jsx(ot,{path:"/admin/inscripciones/:id",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(bv,{})})}),e.jsx(ot,{path:"/admin/estudiantes",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Fx,{})})}),e.jsx(ot,{path:"/admin/estudiantes/:id",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(yv,{})})}),e.jsx(ot,{path:"/admin/representantes",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(vv,{})})}),e.jsx(ot,{path:"/admin/representantes/nuevo",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Nv,{})})}),e.jsx(ot,{path:"/admin/representantes/:id",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(jv,{})})}),e.jsx(ot,{path:"/admin/profesores",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(wv,{})})}),e.jsx(ot,{path:"/admin/profesores/:id",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Sv,{})})}),e.jsx(ot,{path:"/admin/profesores/nuevo",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Ev,{})})}),e.jsx(ot,{path:"/admin/pagos",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Cv,{})})}),e.jsx(ot,{path:"/admin/aranceles",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Dv,{})})}),e.jsx(ot,{path:"/profesor/dashboard",element:e.jsxs(St,{allowedRoles:["profesor","adminWeb","owner"],children:[")",e.jsx(kv,{})]})}),e.jsx(ot,{path:"/test/file-upload",element:e.jsx(St,{allowedRoles:["adminWeb","owner"],children:e.jsx(Vy,{})})}),e.jsx(ot,{path:"*",element:e.jsx(dd,{to:"/",replace:!0})})]})})})}rp.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(_v,{})}));
